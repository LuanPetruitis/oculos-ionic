var CI=Object.defineProperty,TI=Object.defineProperties,SI=Object.getOwnPropertyDescriptors,Lb=Object.getOwnPropertySymbols,AI=Object.prototype.hasOwnProperty,xI=Object.prototype.propertyIsEnumerable,Bb=(Wt,rt,F)=>rt in Wt?CI(Wt,rt,{enumerable:!0,configurable:!0,writable:!0,value:F}):Wt[rt]=F,Vb=(Wt,rt)=>{for(var F in rt||(rt={}))AI.call(rt,F)&&Bb(Wt,F,rt[F]);if(Lb)for(var F of Lb(rt))xI.call(rt,F)&&Bb(Wt,F,rt[F]);return Wt},$b=(Wt,rt)=>TI(Wt,SI(rt));(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{6235:(Wt,rt,F)=>{"use strict";var a=F(9808),se=F(6435);class G extends a.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Fe extends G{static makeCurrent(){(0,a.HT)(new Fe)}onAndCancel(Me,me,ft){return Me.addEventListener(me,ft,!1),()=>{Me.removeEventListener(me,ft,!1)}}dispatchEvent(Me,me){Me.dispatchEvent(me)}remove(Me){Me.parentNode&&Me.parentNode.removeChild(Me)}createElement(Me,me){return(me=me||this.getDefaultDocument()).createElement(Me)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Me){return Me.nodeType===Node.ELEMENT_NODE}isShadowRoot(Me){return Me instanceof DocumentFragment}getGlobalEventTarget(Me,me){return"window"===me?window:"document"===me?Me:"body"===me?Me.body:null}getBaseHref(Me){const me=function ue(){return Ae=Ae||document.querySelector("base"),Ae?Ae.getAttribute("href"):null}();return null==me?null:function ve(tt){De=De||document.createElement("a"),De.setAttribute("href",tt);const Me=De.pathname;return"/"===Me.charAt(0)?Me:`/${Me}`}(me)}resetBaseElement(){Ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(Me){return(0,a.Mx)(document.cookie,Me)}}let De,Ae=null;const de=new se.OlP("TRANSITION_ID"),ne=[{provide:se.ip1,useFactory:function ee(tt,Me,me){return()=>{me.get(se.CZH).donePromise.then(()=>{const ft=(0,a.q)(),bt=Me.querySelectorAll(`style[ng-transition="${tt}"]`);for(let jt=0;jt<bt.length;jt++)ft.remove(bt[jt])})}},deps:[de,a.K0,se.zs3],multi:!0}];class ge{static init(){(0,se.VLi)(new ge)}addToWindow(Me){se.dqk.getAngularTestability=(ft,bt=!0)=>{const jt=Me.findTestabilityInTree(ft,bt);if(null==jt)throw new Error("Could not find testability for element.");return jt},se.dqk.getAllAngularTestabilities=()=>Me.getAllTestabilities(),se.dqk.getAllAngularRootElements=()=>Me.getAllRootElements(),se.dqk.frameworkStabilizers||(se.dqk.frameworkStabilizers=[]),se.dqk.frameworkStabilizers.push(ft=>{const bt=se.dqk.getAllAngularTestabilities();let jt=bt.length,mn=!1;const Nn=function(mr){mn=mn||mr,jt--,0==jt&&ft(mn)};bt.forEach(function(mr){mr.whenStable(Nn)})})}findTestabilityInTree(Me,me,ft){if(null==me)return null;const bt=Me.getTestability(me);return null!=bt?bt:ft?(0,a.q)().isShadowRoot(me)?this.findTestabilityInTree(Me,me.host,!0):this.findTestabilityInTree(Me,me.parentElement,!0):null}}let Q=(()=>{class tt{build(){return new XMLHttpRequest}}return tt.\u0275fac=function(me){return new(me||tt)},tt.\u0275prov=se.Yz7({token:tt,factory:tt.\u0275fac}),tt})();const fe=new se.OlP("EventManagerPlugins");let Be=(()=>{class tt{constructor(me,ft){this._zone=ft,this._eventNameToPlugin=new Map,me.forEach(bt=>bt.manager=this),this._plugins=me.slice().reverse()}addEventListener(me,ft,bt){return this._findPluginFor(ft).addEventListener(me,ft,bt)}addGlobalEventListener(me,ft,bt){return this._findPluginFor(ft).addGlobalEventListener(me,ft,bt)}getZone(){return this._zone}_findPluginFor(me){const ft=this._eventNameToPlugin.get(me);if(ft)return ft;const bt=this._plugins;for(let jt=0;jt<bt.length;jt++){const mn=bt[jt];if(mn.supports(me))return this._eventNameToPlugin.set(me,mn),mn}throw new Error(`No event manager plugin found for event ${me}`)}}return tt.\u0275fac=function(me){return new(me||tt)(se.LFG(fe),se.LFG(se.R0b))},tt.\u0275prov=se.Yz7({token:tt,factory:tt.\u0275fac}),tt})();class oe{constructor(Me){this._doc=Me}addGlobalEventListener(Me,me,ft){const bt=(0,a.q)().getGlobalEventTarget(this._doc,Me);if(!bt)throw new Error(`Unsupported event target ${bt} for event ${me}`);return this.addEventListener(bt,me,ft)}}let xe=(()=>{class tt{constructor(){this._stylesSet=new Set}addStyles(me){const ft=new Set;me.forEach(bt=>{this._stylesSet.has(bt)||(this._stylesSet.add(bt),ft.add(bt))}),this.onStylesAdded(ft)}onStylesAdded(me){}getAllStyles(){return Array.from(this._stylesSet)}}return tt.\u0275fac=function(me){return new(me||tt)},tt.\u0275prov=se.Yz7({token:tt,factory:tt.\u0275fac}),tt})(),ye=(()=>{class tt extends xe{constructor(me){super(),this._doc=me,this._hostNodes=new Map,this._hostNodes.set(me.head,[])}_addStylesToHost(me,ft,bt){me.forEach(jt=>{const mn=this._doc.createElement("style");mn.textContent=jt,bt.push(ft.appendChild(mn))})}addHost(me){const ft=[];this._addStylesToHost(this._stylesSet,me,ft),this._hostNodes.set(me,ft)}removeHost(me){const ft=this._hostNodes.get(me);ft&&ft.forEach(ut),this._hostNodes.delete(me)}onStylesAdded(me){this._hostNodes.forEach((ft,bt)=>{this._addStylesToHost(me,bt,ft)})}ngOnDestroy(){this._hostNodes.forEach(me=>me.forEach(ut))}}return tt.\u0275fac=function(me){return new(me||tt)(se.LFG(a.K0))},tt.\u0275prov=se.Yz7({token:tt,factory:tt.\u0275fac}),tt})();function ut(tt){(0,a.q)().remove(tt)}const _e={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},mt=/%COMP%/g;function le(tt,Me,me){for(let ft=0;ft<Me.length;ft++){let bt=Me[ft];Array.isArray(bt)?le(tt,bt,me):(bt=bt.replace(mt,tt),me.push(bt))}return me}function X(tt){return Me=>{if("__ngUnwrap__"===Me)return tt;!1===tt(Me)&&(Me.preventDefault(),Me.returnValue=!1)}}let Re=(()=>{class tt{constructor(me,ft,bt){this.eventManager=me,this.sharedStylesHost=ft,this.appId=bt,this.rendererByCompId=new Map,this.defaultRenderer=new $e(me)}createRenderer(me,ft){if(!me||!ft)return this.defaultRenderer;switch(ft.encapsulation){case se.ifc.Emulated:{let bt=this.rendererByCompId.get(ft.id);return bt||(bt=new it(this.eventManager,this.sharedStylesHost,ft,this.appId),this.rendererByCompId.set(ft.id,bt)),bt.applyToHost(me),bt}case 1:case se.ifc.ShadowDom:return new gt(this.eventManager,this.sharedStylesHost,me,ft);default:if(!this.rendererByCompId.has(ft.id)){const bt=le(ft.id,ft.styles,[]);this.sharedStylesHost.addStyles(bt),this.rendererByCompId.set(ft.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return tt.\u0275fac=function(me){return new(me||tt)(se.LFG(Be),se.LFG(ye),se.LFG(se.AFp))},tt.\u0275prov=se.Yz7({token:tt,factory:tt.\u0275fac}),tt})();class $e{constructor(Me){this.eventManager=Me,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Me,me){return me?document.createElementNS(_e[me]||me,Me):document.createElement(Me)}createComment(Me){return document.createComment(Me)}createText(Me){return document.createTextNode(Me)}appendChild(Me,me){Me.appendChild(me)}insertBefore(Me,me,ft){Me&&Me.insertBefore(me,ft)}removeChild(Me,me){Me&&Me.removeChild(me)}selectRootElement(Me,me){let ft="string"==typeof Me?document.querySelector(Me):Me;if(!ft)throw new Error(`The selector "${Me}" did not match any elements`);return me||(ft.textContent=""),ft}parentNode(Me){return Me.parentNode}nextSibling(Me){return Me.nextSibling}setAttribute(Me,me,ft,bt){if(bt){me=bt+":"+me;const jt=_e[bt];jt?Me.setAttributeNS(jt,me,ft):Me.setAttribute(me,ft)}else Me.setAttribute(me,ft)}removeAttribute(Me,me,ft){if(ft){const bt=_e[ft];bt?Me.removeAttributeNS(bt,me):Me.removeAttribute(`${ft}:${me}`)}else Me.removeAttribute(me)}addClass(Me,me){Me.classList.add(me)}removeClass(Me,me){Me.classList.remove(me)}setStyle(Me,me,ft,bt){bt&(se.JOm.DashCase|se.JOm.Important)?Me.style.setProperty(me,ft,bt&se.JOm.Important?"important":""):Me.style[me]=ft}removeStyle(Me,me,ft){ft&se.JOm.DashCase?Me.style.removeProperty(me):Me.style[me]=""}setProperty(Me,me,ft){Me[me]=ft}setValue(Me,me){Me.nodeValue=me}listen(Me,me,ft){return"string"==typeof Me?this.eventManager.addGlobalEventListener(Me,me,X(ft)):this.eventManager.addEventListener(Me,me,X(ft))}}class it extends $e{constructor(Me,me,ft,bt){super(Me),this.component=ft;const jt=le(bt+"-"+ft.id,ft.styles,[]);me.addStyles(jt),this.contentAttr=function he(tt){return"_ngcontent-%COMP%".replace(mt,tt)}(bt+"-"+ft.id),this.hostAttr=function Se(tt){return"_nghost-%COMP%".replace(mt,tt)}(bt+"-"+ft.id)}applyToHost(Me){super.setAttribute(Me,this.hostAttr,"")}createElement(Me,me){const ft=super.createElement(Me,me);return super.setAttribute(ft,this.contentAttr,""),ft}}class gt extends $e{constructor(Me,me,ft,bt){super(Me),this.sharedStylesHost=me,this.hostEl=ft,this.shadowRoot=ft.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const jt=le(bt.id,bt.styles,[]);for(let mn=0;mn<jt.length;mn++){const Nn=document.createElement("style");Nn.textContent=jt[mn],this.shadowRoot.appendChild(Nn)}}nodeOrShadowRoot(Me){return Me===this.hostEl?this.shadowRoot:Me}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Me,me){return super.appendChild(this.nodeOrShadowRoot(Me),me)}insertBefore(Me,me,ft){return super.insertBefore(this.nodeOrShadowRoot(Me),me,ft)}removeChild(Me,me){return super.removeChild(this.nodeOrShadowRoot(Me),me)}parentNode(Me){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Me)))}}let qe=(()=>{class tt extends oe{constructor(me){super(me)}supports(me){return!0}addEventListener(me,ft,bt){return me.addEventListener(ft,bt,!1),()=>this.removeEventListener(me,ft,bt)}removeEventListener(me,ft,bt){return me.removeEventListener(ft,bt)}}return tt.\u0275fac=function(me){return new(me||tt)(se.LFG(a.K0))},tt.\u0275prov=se.Yz7({token:tt,factory:tt.\u0275fac}),tt})();const Xe=["alt","control","meta","shift"],Ee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},et={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},It={alt:tt=>tt.altKey,control:tt=>tt.ctrlKey,meta:tt=>tt.metaKey,shift:tt=>tt.shiftKey};let Ge=(()=>{class tt extends oe{constructor(me){super(me)}supports(me){return null!=tt.parseEventName(me)}addEventListener(me,ft,bt){const jt=tt.parseEventName(ft),mn=tt.eventCallback(jt.fullKey,bt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,a.q)().onAndCancel(me,jt.domEventName,mn))}static parseEventName(me){const ft=me.toLowerCase().split("."),bt=ft.shift();if(0===ft.length||"keydown"!==bt&&"keyup"!==bt)return null;const jt=tt._normalizeKey(ft.pop());let mn="";if(Xe.forEach(mr=>{const Zn=ft.indexOf(mr);Zn>-1&&(ft.splice(Zn,1),mn+=mr+".")}),mn+=jt,0!=ft.length||0===jt.length)return null;const Nn={};return Nn.domEventName=bt,Nn.fullKey=mn,Nn}static getEventFullKey(me){let ft="",bt=function Ft(tt){let Me=tt.key;if(null==Me){if(Me=tt.keyIdentifier,null==Me)return"Unidentified";Me.startsWith("U+")&&(Me=String.fromCharCode(parseInt(Me.substring(2),16)),3===tt.location&&et.hasOwnProperty(Me)&&(Me=et[Me]))}return Ee[Me]||Me}(me);return bt=bt.toLowerCase()," "===bt?bt="space":"."===bt&&(bt="dot"),Xe.forEach(jt=>{jt!=bt&&It[jt](me)&&(ft+=jt+".")}),ft+=bt,ft}static eventCallback(me,ft,bt){return jt=>{tt.getEventFullKey(jt)===me&&bt.runGuarded(()=>ft(jt))}}static _normalizeKey(me){return"esc"===me?"escape":me}}return tt.\u0275fac=function(me){return new(me||tt)(se.LFG(a.K0))},tt.\u0275prov=se.Yz7({token:tt,factory:tt.\u0275fac}),tt})();const bn=(0,se.eFA)(se._c5,"browser",[{provide:se.Lbi,useValue:a.bD},{provide:se.g9A,useValue:function an(){Fe.makeCurrent(),ge.init()},multi:!0},{provide:a.K0,useFactory:function en(){return(0,se.RDi)(document),document},deps:[]}]),Dr=[{provide:se.zSh,useValue:"root"},{provide:se.qLn,useFactory:function Tn(){return new se.qLn},deps:[]},{provide:fe,useClass:qe,multi:!0,deps:[a.K0,se.R0b,se.Lbi]},{provide:fe,useClass:Ge,multi:!0,deps:[a.K0]},{provide:Re,useClass:Re,deps:[Be,ye,se.AFp]},{provide:se.FYo,useExisting:Re},{provide:xe,useExisting:ye},{provide:ye,useClass:ye,deps:[a.K0]},{provide:se.dDg,useClass:se.dDg,deps:[se.R0b]},{provide:Be,useClass:Be,deps:[fe,se.R0b]},{provide:a.JF,useClass:Q,deps:[]}];let Gn=(()=>{class tt{constructor(me){if(me)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(me){return{ngModule:tt,providers:[{provide:se.AFp,useValue:me.appId},{provide:de,useExisting:se.AFp},ne]}}}return tt.\u0275fac=function(me){return new(me||tt)(se.LFG(tt,12))},tt.\u0275mod=se.oAB({type:tt}),tt.\u0275inj=se.cJS({providers:Dr,imports:[a.ez,se.hGG]}),tt})();"undefined"!=typeof window&&window;var Hr=F(3151),Gr=F(4433);let Vr=(()=>{class tt{constructor(){}}return tt.\u0275fac=function(me){return new(me||tt)},tt.\u0275cmp=se.Xpm({type:tt,selectors:[["app-root"]],decls:2,vars:0,template:function(me,ft){1&me&&(se.TgZ(0,"ion-app"),se._UZ(1,"ion-router-outlet"),se.qZA())},directives:[Gr.dr,Gr.jP],styles:[""]}),tt})();const ui=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"oculos",loadChildren:()=>Promise.all([F.e(8592),F.e(1473)]).then(F.bind(F,1473)).then(tt=>tt.OculosModule)},{path:"home",loadChildren:()=>Promise.all([F.e(8592),F.e(2287)]).then(F.bind(F,2287)).then(tt=>tt.HomePageModule)},{path:"detalhes/:id",loadChildren:()=>Promise.all([F.e(8592),F.e(4386)]).then(F.bind(F,4386)).then(tt=>tt.DetalhesPageModule)}];let hi=(()=>{class tt{}return tt.\u0275fac=function(me){return new(me||tt)},tt.\u0275mod=se.oAB({type:tt}),tt.\u0275inj=se.cJS({imports:[[Hr.Bz.forRoot(ui,{preloadingStrategy:Hr.wm})],Hr.Bz]}),tt})();var li=F(2011),zr=F(4941),wr=F(2796),Wr=F(4586);const vn_firebaseConfig={apiKey:"AIzaSyCgmkVaZJZweyvSmame6645hcL8Barx5H4",authDomain:"oculos-da675.firebaseapp.com",projectId:"oculos-da675",storageBucket:"oculos-da675.appspot.com",messagingSenderId:"433648217531",appId:"1:433648217531:web:1342e44aa3810b6c44a89e",measurementId:"G-RNC29RD6LW"};let Mr=(()=>{class tt{}return tt.\u0275fac=function(me){return new(me||tt)},tt.\u0275mod=se.oAB({type:tt,bootstrap:[Vr]}),tt.\u0275inj=se.cJS({providers:[{provide:Hr.wN,useClass:Gr.r4}],imports:[[Gn,Gr.Pc.forRoot(),hi,zr.ww,Wr.TE,wr.yb.enablePersistence(),li.hO.initializeApp(vn_firebaseConfig)]]}),tt})();(0,se.G48)(),bn().bootstrapModule(Mr).catch(tt=>console.log(tt))},440:(Wt,rt,F)=>{"use strict";F.d(rt,{nm:()=>Y});var a=F(6351);F(6435),F(5867);var mt=F(9671),Dt=F(9681),dt=F(4859),Pe=F(2090),lt=F(1877);const he=new Map,Se={activated:!1,tokenObservers:[]},le={initialized:!1,enabled:!1};function X(ze){return he.get(ze)||Se}function ae(ze,je){he.set(ze,je)}function Re(){return le}class Xe{constructor(je,at,Pt,Ht,pn){if(this.operation=je,this.retryPolicy=at,this.getWaitDuration=Pt,this.lowerBound=Ht,this.upperBound=pn,this.pending=null,this.nextErrorWaitInterval=Ht,Ht>pn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(je){var at=this;return(0,mt.Z)(function*(){at.stop();try{at.pending=new Pe.BH,yield function st(ze){return new Promise(je=>{setTimeout(je,ze)})}(at.getNextRun(je)),at.pending.resolve(),yield at.pending.promise,at.pending=new Pe.BH,yield at.operation(),at.pending.resolve(),yield at.pending.promise,at.process(!0).catch(()=>{})}catch(Pt){at.retryPolicy(Pt)?at.process(!1).catch(()=>{}):at.stop()}})()}getNextRun(je){if(je)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const at=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),at}}}const et=new Pe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ge(ze){if(!X(ze).activated)throw et.create("use-before-activation",{appName:ze.name})}function en(ze,je){return on.apply(this,arguments)}function on(){return(on=(0,mt.Z)(function*({url:ze,body:je},at){const Pt={"Content-Type":"application/json"},Ht=at.getImmediate({optional:!0});if(Ht){const ci=yield Ht.getHeartbeatsHeader();ci&&(Pt["X-Firebase-Client"]=ci)}const pn={method:"POST",body:JSON.stringify(je),headers:Pt};let Tr,Fr;try{Tr=yield fetch(ze,pn)}catch(ci){throw et.create("fetch-network-error",{originalErrorMessage:ci.message})}if(200!==Tr.status)throw et.create("fetch-status-error",{httpStatus:Tr.status});try{Fr=yield Tr.json()}catch(ci){throw et.create("fetch-parse-error",{originalErrorMessage:ci.message})}const ur=Fr.ttl.match(/^([\d.]+)(s)$/);if(!ur||!ur[2]||isNaN(Number(ur[1])))throw et.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Fr.ttl}`});const Pi=1e3*Number(ur[1]),Ui=Date.now();return{token:Fr.token,expireTimeMillis:Ui+Pi,issuedAtTimeMillis:Ui}})).apply(this,arguments)}function Gn(ze,je){const{projectId:at,appId:Pt,apiKey:Ht}=ze.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${at}/apps/${Pt}:exchangeDebugToken?key=${Ht}`,body:{debug_token:je}}}const or="firebase-app-check-store";let Kn=null;function Bn(){return Kn||(Kn=new Promise((ze,je)=>{try{const at=indexedDB.open("firebase-app-check-database",1);at.onsuccess=Pt=>{ze(Pt.target.result)},at.onerror=Pt=>{var Ht;je(et.create("storage-open",{originalErrorMessage:null===(Ht=Pt.target.error)||void 0===Ht?void 0:Ht.message}))},at.onupgradeneeded=Pt=>{0===Pt.oldVersion&&Pt.target.result.createObjectStore(or,{keyPath:"compositeKey"})}}catch(at){je(et.create("storage-open",{originalErrorMessage:at.message}))}}),Kn)}function zn(){return(zn=(0,mt.Z)(function*(ze,je){const Pt=(yield Bn()).transaction(or,"readwrite"),pn=Pt.objectStore(or).put({compositeKey:ze,value:je});return new Promise((Tr,Fr)=>{pn.onsuccess=ur=>{Tr()},Pt.onerror=ur=>{var Pi;Fr(et.create("storage-set",{originalErrorMessage:null===(Pi=ur.target.error)||void 0===Pi?void 0:Pi.message}))}})})).apply(this,arguments)}const Br=new lt.Yd("@firebase/app-check");function rn(ze,je){return(0,Pe.hl)()?function Lt(ze,je){return function gr(ze,je){return zn.apply(this,arguments)}(function Qn(ze){return`${ze.options.appId}-${ze.name}`}(ze),je)}(ze,je).catch(at=>{Br.warn(`Failed to write token to IndexedDB. Error: ${at}`)}):Promise.resolve()}function Ue(){return Re().enabled}function ke(){return At.apply(this,arguments)}function At(){return(At=(0,mt.Z)(function*(){const ze=Re();if(ze.enabled&&ze.token)return ze.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ot={error:"UNKNOWN_ERROR"};function Et(ze){return Pe.US.encodeString(JSON.stringify(ze),!1)}function $t(ze){return tn.apply(this,arguments)}function tn(){return(tn=(0,mt.Z)(function*(ze,je=!1){const at=ze.app;Ge(at);const Pt=X(at);let pn,Ht=Pt.token;if(!Ht){const ur=yield Pt.cachedTokenPromise;ur&&dr(ur)&&(Ht=ur)}if(!je&&Ht&&dr(Ht))return{token:Ht.token};let Fr,Tr=!1;if(Ue()){Pt.exchangeTokenPromise||(Pt.exchangeTokenPromise=en(Gn(at,yield ke()),ze.heartbeatServiceProvider).then(Pi=>(Pt.exchangeTokenPromise=void 0,Pi)),Tr=!0);const ur=yield Pt.exchangeTokenPromise;return yield rn(at,ur),ae(at,Object.assign(Object.assign({},Pt),{token:ur})),{token:ur.token}}try{Pt.exchangeTokenPromise||(Pt.exchangeTokenPromise=Pt.provider.getToken().then(ur=>(Pt.exchangeTokenPromise=void 0,ur)),Tr=!0),Ht=yield Pt.exchangeTokenPromise}catch(ur){"appCheck/throttled"===ur.code?Br.warn(ur.message):Br.error(ur),pn=ur}return Ht?(Fr={token:Ht.token},ae(at,Object.assign(Object.assign({},Pt),{token:Ht})),yield rn(at,Ht)):Fr=Hr(pn),Tr&&Er(at,Fr),Fr})).apply(this,arguments)}function Jn(ze,je){const at=X(ze),Pt=at.tokenObservers.filter(Ht=>Ht.next!==je);0===Pt.length&&at.tokenRefresher&&at.tokenRefresher.isRunning()&&at.tokenRefresher.stop(),ae(ze,Object.assign(Object.assign({},at),{tokenObservers:Pt}))}function qt(ze){const{app:je}=ze,at=X(je);let Pt=at.tokenRefresher;Pt||(Pt=function Pn(ze){const{app:je}=ze;return new Xe((0,mt.Z)(function*(){let Pt;if(Pt=X(je).token?yield $t(ze,!0):yield $t(ze),Pt.error)throw Pt.error}),()=>!0,()=>{const at=X(je);if(at.token){let Pt=at.token.issuedAtTimeMillis+.5*(at.token.expireTimeMillis-at.token.issuedAtTimeMillis)+3e5;return Pt=Math.min(Pt,at.token.expireTimeMillis-3e5),Math.max(0,Pt-Date.now())}return 0},3e4,96e4)}(ze),ae(je,Object.assign(Object.assign({},at),{tokenRefresher:Pt}))),!Pt.isRunning()&&at.isTokenAutoRefreshEnabled&&Pt.start()}function Er(ze,je){const at=X(ze).tokenObservers;for(const Pt of at)try{"EXTERNAL"===Pt.type&&null!=je.error?Pt.error(je.error):Pt.next(je)}catch(Ht){}}function dr(ze){return ze.expireTimeMillis-Date.now()>0}function Hr(ze){return{token:Et(ot),error:ze}}class Gr{constructor(je,at){this.app=je,this.heartbeatServiceProvider=at}_delete(){const{tokenObservers:je}=X(this.app);for(const at of je)Jn(this.app,at.next);return Promise.resolve()}}const qr="app-check-internal";!function ri(){(0,Dt._registerComponent)(new dt.wA("app-check",ze=>function Vr(ze,je){return new Gr(ze,je)}(ze.getProvider("app").getImmediate(),ze.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ze,je,at)=>{ze.getProvider(qr).initialize()})),(0,Dt._registerComponent)(new dt.wA(qr,ze=>function ui(ze){return{getToken:je=>$t(ze,je),addTokenListener:je=>function yn(ze,je,at,Pt){const{app:Ht}=ze,pn=X(Ht),Tr={next:at,error:Pt,type:je};if(ae(Ht,Object.assign(Object.assign({},pn),{tokenObservers:[...pn.tokenObservers,Tr]})),pn.token&&dr(pn.token)){const Fr=pn.token;Promise.resolve().then(()=>{at({token:Fr.token}),qt(ze)}).catch(()=>{})}pn.cachedTokenPromise.then(()=>qt(ze))}(ze,"INTERNAL",je),removeTokenListener:je=>Jn(ze.app,je)}}(ze.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Dt.registerVersion)("@firebase/app-check","0.5.8")}();class Y{constructor(){return(0,a.vb)("app-check")}}"undefined"!=typeof window&&window},4941:(Wt,rt,F)=>{"use strict";F.d(rt,{zQ:()=>it,ww:()=>gt,rT:()=>Re,f7:()=>pt,L6:()=>X,_Q:()=>ae,lh:()=>$e,Qv:()=>le,nw:()=>kt});var a=F(6435),se=F(8929),G=F(1086),Fe=F(2916),Ae=F(5254),ue=F(6787),De=F(341),ve=F(2654),de=F(7951),ee=F(5279),ne=F(5283);class ge extends se.xQ{constructor(Xe=Number.POSITIVE_INFINITY,st=Number.POSITIVE_INFINITY,Ee){super(),this.scheduler=Ee,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=Xe<1?1:Xe,this._windowTime=st<1?1:st,st===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(Xe){if(!this.isStopped){const st=this._events;st.push(Xe),st.length>this._bufferSize&&st.shift()}super.next(Xe)}nextTimeWindow(Xe){this.isStopped||(this._events.push(new Q(this._getNow(),Xe)),this._trimBufferThenGetEvents()),super.next(Xe)}_subscribe(Xe){const st=this._infiniteTimeWindow,Ee=st?this._events:this._trimBufferThenGetEvents(),et=this.scheduler,It=Ee.length;let Ge;if(this.closed)throw new ee.N;if(this.isStopped||this.hasError?Ge=ve.w.EMPTY:(this.observers.push(Xe),Ge=new ne.W(this,Xe)),et&&Xe.add(Xe=new de.ht(Xe,et)),st)for(let Ft=0;Ft<It&&!Xe.closed;Ft++)Xe.next(Ee[Ft]);else for(let Ft=0;Ft<It&&!Xe.closed;Ft++)Xe.next(Ee[Ft].value);return this.hasError?Xe.error(this.thrownError):this.isStopped&&Xe.complete(),Ge}_getNow(){return(this.scheduler||De.c).now()}_trimBufferThenGetEvents(){const Xe=this._getNow(),st=this._bufferSize,Ee=this._windowTime,et=this._events,It=et.length;let Ge=0;for(;Ge<It&&!(Xe-et[Ge].time<Ee);)Ge++;return It>st&&(Ge=Math.max(Ge,It-st)),Ge>0&&et.splice(0,Ge),et}}class Q{constructor(Xe,st){this.time=Xe,this.value=st}}function fe(qe,Xe,st){let Ee;return Ee=qe&&"object"==typeof qe?qe:{bufferSize:qe,windowTime:Xe,refCount:!1,scheduler:st},et=>et.lift(function Be({bufferSize:qe=Number.POSITIVE_INFINITY,windowTime:Xe=Number.POSITIVE_INFINITY,refCount:st,scheduler:Ee}){let et,Ge,It=0,Ft=!1,an=!1;return function(en){let on;It++,!et||Ft?(Ft=!1,et=new ge(qe,Xe,Ee),on=et.subscribe(this),Ge=en.subscribe({next(bn){et.next(bn)},error(bn){Ft=!0,et.error(bn)},complete(){an=!0,Ge=void 0,et.complete()}}),an&&(Ge=void 0)):on=et.subscribe(this),this.add(()=>{It--,on.unsubscribe(),on=void 0,Ge&&!an&&st&&0===It&&(Ge.unsubscribe(),Ge=void 0,et=void 0)})}}(Ee))}var oe=F(7545);function xe(qe,Xe){return Xe?(0,oe.w)(()=>qe,Xe):(0,oe.w)(()=>qe)}var ye=F(4850),ut=F(7224),_e=F(5915),mt=F(2198),Dt=F(6351),dt=F(2011),Pe=F(9808),lt=F(440),he=F(127);const le=new a.OlP("angularfire2.auth.use-emulator"),X=new a.OlP("angularfire2.auth.settings"),ae=new a.OlP("angularfire2.auth.tenant-id"),Re=new a.OlP("angularfire2.auth.langugage-code"),$e=new a.OlP("angularfire2.auth.use-device-language"),pt=new a.OlP("angularfire.auth.persistence"),kt=(qe,Xe,st,Ee,et,It,Ge,Ft)=>(0,dt.cc)(`${qe.name}.auth`,"AngularFireAuth",qe.name,()=>{const an=Xe.runOutsideAngular(()=>qe.auth());if(st&&an.useEmulator(...st),Ee&&(an.tenantId=Ee),an.languageCode=et,It&&an.useDeviceLanguage(),Ge)for(const[Tn,en]of Object.entries(Ge))an.settings[Tn]=en;return Ft&&an.setPersistence(Ft),an},[st,Ee,et,It,Ge,Ft]);let it=(()=>{class qe{constructor(st,Ee,et,It,Ge,Ft,an,Tn,en,on,bn,Dr){const Gn=new se.xQ,An=(0,G.of)(void 0).pipe((0,de.QV)(Ge.outsideAngular),(0,oe.w)(()=>It.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,7092)))),(0,ye.U)(()=>(0,dt.on)(st,It,Ee)),(0,ye.U)(wn=>kt(wn,It,Ft,Tn,en,on,an,bn)),fe({bufferSize:1,refCount:!1}));if((0,Pe.PM)(et))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,G.of)(null);else{An.pipe((0,ut.P)()).subscribe();const or=An.pipe((0,oe.w)(Bn=>Bn.getRedirectResult().then(Wn=>Wn,()=>null)),Dt.iC,fe({bufferSize:1,refCount:!1})),On=An.pipe((0,oe.w)(Bn=>new Fe.y(Wn=>({unsubscribe:It.runOutsideAngular(()=>Bn.onAuthStateChanged(Lt=>Wn.next(Lt),Lt=>Wn.error(Lt),()=>Wn.complete()))})))),Kn=An.pipe((0,oe.w)(Bn=>new Fe.y(Wn=>({unsubscribe:It.runOutsideAngular(()=>Bn.onIdTokenChanged(Lt=>Wn.next(Lt),Lt=>Wn.error(Lt),()=>Wn.complete()))}))));this.authState=or.pipe(xe(On),(0,_e.R)(Ge.outsideAngular),(0,de.QV)(Ge.insideAngular)),this.user=or.pipe(xe(Kn),(0,_e.R)(Ge.outsideAngular),(0,de.QV)(Ge.insideAngular)),this.idToken=this.user.pipe((0,oe.w)(Bn=>Bn?(0,Ae.D)(Bn.getIdToken()):(0,G.of)(null))),this.idTokenResult=this.user.pipe((0,oe.w)(Bn=>Bn?(0,Ae.D)(Bn.getIdTokenResult()):(0,G.of)(null))),this.credential=(0,ue.T)(or,Gn,this.authState.pipe((0,mt.h)(Bn=>!Bn))).pipe((0,ye.U)(Bn=>(null==Bn?void 0:Bn.user)?Bn:null),(0,_e.R)(Ge.outsideAngular),(0,de.QV)(Ge.insideAngular))}return(0,dt.pX)(this,An,It,{spy:{apply:(wn,or,On)=>{(wn.startsWith("signIn")||wn.startsWith("createUser"))&&On.then(Kn=>Gn.next(Kn))}}})}}return qe.\u0275fac=function(st){return new(st||qe)(a.LFG(dt.Dh),a.LFG(dt.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Dt.HU),a.LFG(le,8),a.LFG(X,8),a.LFG(ae,8),a.LFG(Re,8),a.LFG($e,8),a.LFG(pt,8),a.LFG(lt.nm,8))},qe.\u0275prov=a.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"any"}),qe})(),gt=(()=>{class qe{constructor(){he.Z.registerVersion("angularfire",Dt.q4.full,"auth-compat")}}return qe.\u0275fac=function(st){return new(st||qe)},qe.\u0275mod=a.oAB({type:qe}),qe.\u0275inj=a.cJS({providers:[it]}),qe})()},2796:(Wt,rt,F)=>{"use strict";F.d(rt,{ST:()=>Zd,yb:()=>_y});var a=F(6435),se=F(353),G=F(2916),Fe=F(5254),Ae=F(1086),ue=F(6351),De=F(3489);function ve(){return i=>i.lift(new de)}class de{call(e,t){return t.subscribe(new ee(e))}}class ee extends De.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var Se,ne=F(1059),ge=F(4850),Q=F(2014),fe=F(5778),Be=F(2198),oe=F(2011),xe=F(9808),ut=(F(7092),F(3942)),_e=F(9671),mt=F(9681),Dt=F(4859),dt=F(1877),Pe=F(2090),lt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},he={},le=le||{},X=lt||self;function ae(){}function Re(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function $e(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var kt="closure_uid_"+(1e9*Math.random()>>>0),it=0;function gt(i,e,t){return i.call.apply(i.bind,arguments)}function qe(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,o),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function Xe(i,e,t){return(Xe=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?gt:qe).apply(null,arguments)}function st(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Ee(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,l,h){for(var b=Array(arguments.length-2),M=2;M<arguments.length;M++)b[M-2]=arguments[M];return e.prototype[l].apply(o,b)}}function et(){this.s=this.s,this.o=this.o}var Ge={};et.prototype.s=!1,et.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function pt(i){return Object.prototype.hasOwnProperty.call(i,kt)&&i[kt]||(i[kt]=++it)}(this);delete Ge[i]}},et.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ft=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},an=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const o=i.length,l="string"==typeof i?i.split(""):i;for(let h=0;h<o;h++)h in l&&e.call(t,l[h],h,i)};function en(i){return Array.prototype.concat.apply([],arguments)}function on(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function bn(i){return/^[\s\xa0]*$/.test(i)}var wn,Dr=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Gn(i,e){return-1!=i.indexOf(e)}function An(i,e){return i<e?-1:i>e?1:0}e:{var or=X.navigator;if(or){var On=or.userAgent;if(On){wn=On;break e}}wn=""}function Kn(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function Bn(i){const e={};for(const t in i)e[t]=i[t];return e}var Wn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lt(i,e){let t,o;for(let l=1;l<arguments.length;l++){for(t in o=arguments[l],o)i[t]=o[t];for(let h=0;h<Wn.length;h++)t=Wn[h],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function Pr(i){return Pr[" "](i),i}Pr[" "]=ae;var Ar,i,gr=Gn(wn,"Opera"),zn=Gn(wn,"Trident")||Gn(wn,"MSIE"),cn=Gn(wn,"Edge"),fn=cn||zn,Qn=Gn(wn,"Gecko")&&!(Gn(wn.toLowerCase(),"webkit")&&!Gn(wn,"Edge"))&&!(Gn(wn,"Trident")||Gn(wn,"MSIE"))&&!Gn(wn,"Edge"),Br=Gn(wn.toLowerCase(),"webkit")&&!Gn(wn,"Edge");function br(){var i=X.document;return i?i.documentMode:void 0}e:{var rn="",kr=(i=wn,Qn?/rv:([^\);]+)(\)|;)/.exec(i):cn?/Edge\/([\d\.]+)/.exec(i):zn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Br?/WebKit\/(\S+)/.exec(i):gr?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(kr&&(rn=kr?kr[1]:""),zn){var Ne=br();if(null!=Ne&&Ne>parseFloat(rn)){Ar=String(Ne);break e}}Ar=rn}var Ue={};var ot=X.document&&zn&&(br()||parseInt(Ar,10))||void 0,Et=function(){if(!X.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{X.addEventListener("test",ae,e),X.removeEventListener("test",ae,e)}catch(t){}return i}();function $t(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function tn(i,e){if($t.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Qn){e:{try{Pr(e.nodeName);var l=!0;break e}catch(h){}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:yn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&tn.Z.h.call(this)}}$t.prototype.h=function(){this.defaultPrevented=!0},Ee(tn,$t);var yn={2:"touch",3:"pen",4:"mouse"};tn.prototype.h=function(){tn.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Jn="closure_listenable_"+(1e6*Math.random()|0),qt=0;function Pn(i,e,t,o,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=l,this.key=++qt,this.ca=this.fa=!1}function Er(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function dr(i){this.src=i,this.g={},this.h=0}function Hr(i,e){var t=e.type;if(t in i.g){var h,o=i.g[t],l=Ft(o,e);(h=0<=l)&&Array.prototype.splice.call(o,l,1),h&&(Er(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Gr(i,e,t,o){for(var l=0;l<i.length;++l){var h=i[l];if(!h.ca&&h.listener==e&&h.capture==!!t&&h.ia==o)return l}return-1}dr.prototype.add=function(i,e,t,o,l){var h=i.toString();(i=this.g[h])||(i=this.g[h]=[],this.h++);var b=Gr(i,e,o,l);return-1<b?(e=i[b],t||(e.fa=!1)):((e=new Pn(e,this.src,h,!!o,l)).fa=t,i.push(e)),e};var Vr="closure_lm_"+(1e6*Math.random()|0),ui={};function hi(i,e,t,o,l){if(o&&o.once)return wr(i,e,t,o,l);if(Array.isArray(e)){for(var h=0;h<e.length;h++)hi(i,e[h],t,o,l);return null}return t=ft(t),i&&i[Jn]?i.N(e,t,$e(o)?!!o.capture:!!o,l):li(i,e,t,!1,o,l)}function li(i,e,t,o,l,h){if(!e)throw Error("Invalid event type");var b=$e(l)?!!l.capture:!!l,M=Me(i);if(M||(i[Vr]=M=new dr(i)),(t=M.add(e,t,o,b,h)).proxy)return t;if(o=function zr(){var e=tt;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)Et||(l=b),void 0===l&&(l=!1),i.addEventListener(e.toString(),o,l);else if(i.attachEvent)i.attachEvent(Mr(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function wr(i,e,t,o,l){if(Array.isArray(e)){for(var h=0;h<e.length;h++)wr(i,e[h],t,o,l);return null}return t=ft(t),i&&i[Jn]?i.O(e,t,$e(o)?!!o.capture:!!o,l):li(i,e,t,!0,o,l)}function Wr(i,e,t,o,l){if(Array.isArray(e))for(var h=0;h<e.length;h++)Wr(i,e[h],t,o,l);else o=$e(o)?!!o.capture:!!o,t=ft(t),i&&i[Jn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Gr(h=i.g[e],t,o,l))&&(Er(h[t]),Array.prototype.splice.call(h,t,1),0==h.length&&(delete i.g[e],i.h--))):i&&(i=Me(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Gr(e,t,o,l)),(t=-1<i?e[i]:null)&&vn(t))}function vn(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Jn])Hr(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(Mr(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Me(e))?(Hr(t,i),0==t.h&&(t.src=null,e[Vr]=null)):Er(i)}}}function Mr(i){return i in ui?ui[i]:ui[i]="on"+i}function tt(i,e){if(i.ca)i=!0;else{e=new tn(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&vn(i),i=t.call(o,e)}return i}function Me(i){return(i=i[Vr])instanceof dr?i:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function ft(i){return"function"==typeof i?i:(i[me]||(i[me]=function(e){return i.handleEvent(e)}),i[me])}function bt(){et.call(this),this.i=new dr(this),this.P=this,this.I=null}function jt(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new $t(e,i);else if(e instanceof $t)e.target=e.target||i;else{var l=e;Lt(e=new $t(o,i),l)}if(l=!0,t)for(var h=t.length-1;0<=h;h--){var b=e.g=t[h];l=mn(b,o,!0,e)&&l}if(l=mn(b=e.g=i,o,!0,e)&&l,l=mn(b,o,!1,e)&&l,t)for(h=0;h<t.length;h++)l=mn(b=e.g=t[h],o,!1,e)&&l}function mn(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,h=0;h<e.length;++h){var b=e[h];if(b&&!b.ca&&b.capture==t){var M=b.listener,H=b.ia||b.src;b.fa&&Hr(i.i,b),l=!1!==M.call(H,o)&&l}}return l&&!o.defaultPrevented}Ee(bt,et),bt.prototype[Jn]=!0,bt.prototype.removeEventListener=function(i,e,t,o){Wr(this,i,e,t,o)},bt.prototype.M=function(){if(bt.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)Er(t[o]);delete i.g[e],i.h--}}this.I=null},bt.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},bt.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Nn=X.JSON.stringify;function mr(){var i=hr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var mi,Xt=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Rn,i=>i.reset());class Rn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function tr(i){X.setTimeout(()=>{throw i},0)}function ir(i,e){mi||function Rr(){var i=X.Promise.resolve(void 0);mi=function(){i.then(qr)}}(),Jr||(mi(),Jr=!0),hr.add(i,e)}var Jr=!1,hr=new class Zn{constructor(){this.h=this.g=null}add(e,t){const o=Xt.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function qr(){for(var i;i=mr();){try{i.h.call(i.g)}catch(t){tr(t)}var e=Xt;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Jr=!1}function ri(i,e){bt.call(this),this.h=i||1,this.g=e||X,this.j=Xe(this.kb,this),this.l=Date.now()}function Sn(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function ei(i,e,t){if("function"==typeof i)t&&(i=Xe(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Xe(i.handleEvent,i)}return 2147483647<Number(e)?-1:X.setTimeout(i,e||0)}function Y(i){i.g=ei(()=>{i.g=null,i.i&&(i.i=!1,Y(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ee(ri,bt),(Se=ri.prototype).da=!1,Se.S=null,Se.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),jt(this,"tick"),this.da&&(Sn(this),this.start()))}},Se.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Se.M=function(){ri.Z.M.call(this),Sn(this),delete this.g};class pe extends et{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Y(this)}M(){super.M(),this.g&&(X.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Le(i){et.call(this),this.h=i,this.g={}}Ee(Le,et);var Qe=[];function ce(i,e,t,o){Array.isArray(t)||(t&&(Qe[0]=t.toString()),t=Qe);for(var l=0;l<t.length;l++){var h=hi(e,t[l],o||i.handleEvent,!1,i.h||i);if(!h)break;i.g[h.key]=h}}function we(i){Kn(i.g,function(e,t){this.g.hasOwnProperty(t)&&vn(e)},i),i.g={}}function Ze(){this.g=!0}function St(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function gn(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var l=o[1];if(Array.isArray(l)&&!(1>l.length)){var h=l[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var b=1;b<l.length;b++)l[b]=""}}}return Nn(t)}catch(M){return e}}(i,t)+(o?" "+o:"")})}Le.prototype.M=function(){Le.Z.M.call(this),we(this)},Le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ze.prototype.Aa=function(){this.g=!1},Ze.prototype.info=function(){};var kn={},Fn=null;function Cr(){return Fn=Fn||new bt}function ar(i){$t.call(this,kn.Ma,i)}function ze(i){const e=Cr();jt(e,new ar(e,i))}function je(i,e){$t.call(this,kn.STAT_EVENT,i),this.stat=e}function at(i){const e=Cr();jt(e,new je(e,i))}function Pt(i,e){$t.call(this,kn.Na,i),this.size=e}function Ht(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return X.setTimeout(function(){i()},e)}kn.Ma="serverreachability",Ee(ar,$t),kn.STAT_EVENT="statevent",Ee(je,$t),kn.Na="timingevent",Ee(Pt,$t);var pn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Tr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Fr(){}function Pi(){}Fr.prototype.h=null;var $s,Ui={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ci(){$t.call(this,"d")}function ro(){$t.call(this,"c")}function ki(){}function Cs(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new Le(this),this.P=Zi,this.W=new ri(i=fn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Os}function Os(){this.i=null,this.g="",this.h=!1}Ee(ci,$t),Ee(ro,$t),Ee(ki,Fr),ki.prototype.g=function(){return new XMLHttpRequest},ki.prototype.i=function(){return{}},$s=new ki;var Zi=45e3,yi={},vi={};function ss(i,e,t){i.K=1,i.v=A(N(e)),i.s=t,i.U=!0,Ts(i,null)}function Ts(i,e){i.F=Date.now(),Ni(i),i.A=N(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),Zs(t.h,"t",o),i.C=0,t=i.l.H,i.h=new Os,i.g=Ho(i.l,t?e:null,!i.s),0<i.O&&(i.L=new pe(Xe(i.Ia,i,i.g),i.O)),ce(i.V,i.g,"readystatechange",i.gb),e=i.H?Bn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),ze(1),function _t(i,e,t,o,l,h){i.info(function(){if(i.g)if(h)for(var b="",M=h.split("&"),H=0;H<M.length;H++){var W=M[H].split("=");if(1<W.length){var Te=W[0];W=W[1];var Ye=Te.split("_");b=2<=Ye.length&&"type"==Ye[1]?b+(Te+"=")+W+"&":b+(Te+"=redacted&")}}else b=null;else b=h;return"XMLHTTP REQ ("+o+") [attempt "+l+"]: "+e+"\n"+t+"\n"+b})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Us(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function ji(i,e,t){let l,o=!0;for(;!i.I&&i.C<t.length;){if(l=hs(i,t),l==vi){4==e&&(i.o=4,at(14),o=!1),St(i.j,i.m,null,"[Incomplete Response]");break}if(l==yi){i.o=4,at(15),St(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}St(i.j,i.m,l,null),pi(i,l)}Us(i)&&l!=vi&&l!=yi&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,at(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),_o(e),e.L=!0,at(11))):(St(i.j,i.m,t,"[Invalid Chunked Response]"),fi(i),_i(i))}function hs(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?vi:(t=Number(e.substring(t,o)),isNaN(t)?yi:(o+=1)+t>e.length?vi:(e=e.substr(o,t),i.C=o+t,e))}function Ni(i){i.Y=Date.now()+i.P,Si(i,i.P)}function Si(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Ht(Xe(i.eb,i),e)}function Xi(i){i.B&&(X.clearTimeout(i.B),i.B=null)}function _i(i){0==i.l.G||i.I||Ma(i.l,i)}function fi(i){Xi(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Sn(i.W),we(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function pi(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||V(t.i,i)))if(t.I=i.N,!i.J&&V(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch(W){o=null}if(Array.isArray(o)&&3==o.length){var l=o;if(0==l[0])e:if(t.u)t.ta=l[1],0<t.ta-t.U&&37500>l[2]&&t.N&&0==t.A&&!t.v&&(t.v=Ht(Xe(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;Ro(t),Cu(t)}uo(t),at(18)}if(1>=m(t.i)&&t.ka){try{t.ka()}catch(W){}t.ka=void 0}}else bo(t,11)}else if((i.J||t.g==i)&&Ro(t),!bn(e))for(l=t.Ca.g.parse(e),e=0;e<l.length;e++){let W=l[e];if(t.U=W[0],W=W[1],2==t.G)if("c"==W[0]){t.J=W[1],t.la=W[2];const Te=W[3];null!=Te&&(t.ma=Te,t.h.info("VER="+t.ma));const Ye=W[4];null!=Ye&&(t.za=Ye,t.h.info("SVER="+t.za));const wt=W[5];null!=wt&&"number"==typeof wt&&0<wt&&(t.K=o=1.5*wt,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const Vt=i.g;if(Vt){const Gt=Vt.g?Vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gt){var h=o.i;!h.g&&(Gn(Gt,"spdy")||Gn(Gt,"quic")||Gn(Gt,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(ie(h,h.h),h.h=null))}if(o.D){const Mn=Vt.g?Vt.g.getResponseHeader("X-HTTP-Session-Id"):null;Mn&&(o.sa=Mn,x(o.F,o.D,Mn))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var b=i;if((o=t).oa=zi(o,o.H?o.la:null,o.W),b.J){Ie(o.i,b);var M=b,H=o.K;H&&M.setTimeout(H),M.B&&(Xi(M),Ni(M)),o.g=b}else Qo(o);0<t.l.length&&Ei(t)}else"stop"!=W[0]&&"close"!=W[0]||bo(t,7);else 3==t.G&&("stop"==W[0]||"close"==W[0]?"stop"==W[0]?bo(t,7):Qa(t):"noop"!=W[0]&&t.j&&t.j.wa(W),t.A=0)}ze(4)}catch(W){}}function Hi(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Re(i)||"string"==typeof i)an(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(Re(i)||"string"==typeof i){t=[];for(var o=i.length,l=0;l<o;l++)t.push(l)}else for(l in t=[],o=0,i)t[o++]=l;o=function fs(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Re(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),l=o.length;for(var h=0;h<l;h++)e.call(void 0,o[h],t&&t[h],i)}}function ps(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof ps)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function ii(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];os(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var l={};for(t=e=0;e<i.g.length;)os(l,o=i.g[e])||(i.g[t++]=o,l[o]=1),e++;i.g.length=t}}function os(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(Se=Cs.prototype).setTimeout=function(i){this.P=i},Se.gb=function(i){i=i.target;const e=this.L;e&&3==Ji(i)?e.l():this.Ia(i)},Se.Ia=function(i){try{if(i==this.g)e:{const Te=Ji(this.g);var e=this.g.Da();const Ye=this.g.ba();if(!(3>Te)&&(3!=Te||fn||this.g&&(this.h.h||this.g.ga()||Xa(this.g)))){this.I||4!=Te||7==e||ze(8==e||0>=Ye?3:2),Xi(this);var t=this.g.ba();this.N=t;t:if(Us(this)){var o=Xa(this.g);i="";var l=o.length,h=4==Ji(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){fi(this),_i(this);var b="";break t}this.h.i=new X.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:h&&e==l-1});o.splice(0,l),this.h.g+=i,this.C=0,b=this.h.g}else b=this.g.ga();if(this.i=200==t,function Ct(i,e,t,o,l,h,b){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+h+" "+b})}(this.j,this.u,this.A,this.m,this.X,Te,t),this.i){if(this.$&&!this.J){t:{if(this.g){var M,H=this.g;if((M=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bn(M)){var W=M;break t}}W=null}if(!(t=W)){this.i=!1,this.o=3,at(12),fi(this),_i(this);break e}St(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,pi(this,t)}this.U?(ji(this,Te,b),fn&&this.i&&3==Te&&(ce(this.V,this.W,"tick",this.fb),this.W.start())):(St(this.j,this.m,b,null),pi(this,b)),4==Te&&fi(this),this.i&&!this.I&&(4==Te?Ma(this.l,this):(this.i=!1,Ni(this)))}else 400==t&&0<b.indexOf("Unknown SID")?(this.o=3,at(12)):(this.o=0,at(13)),fi(this),_i(this)}}}catch(Te){}},Se.fb=function(){if(this.g){var i=Ji(this.g),e=this.g.ga();this.C<e.length&&(Xi(this),ji(this,i,e),this.i&&4!=i&&Ni(this))}},Se.cancel=function(){this.I=!0,fi(this)},Se.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function zt(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ze(3),at(17)),fi(this),this.o=2,_i(this)):Si(this,this.Y-i)},(Se=ps.prototype).R=function(){ii(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},Se.T=function(){return ii(this),this.g.concat()},Se.get=function(i,e){return os(this.h,i)?this.h[i]:e},Se.set=function(i,e){os(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},Se.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var l=t[o],h=this.get(l);i.call(e,h,l,this)}};var $i=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Gi(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Gi){this.g=void 0!==e?e:i.g,K(this,i.j),this.s=i.s,k(this,i.i),te(this,i.m),this.l=i.l,e=i.h;var t=new Yr;t.i=e.i,e.g&&(t.g=new ps(e.g),t.h=e.h),He(this,t),this.o=i.o}else i&&(t=String(i).match($i))?(this.g=!!e,K(this,t[1]||"",!0),this.s=ht(t[2]||""),k(this,t[3]||"",!0),te(this,t[4]),this.l=ht(t[5]||"",!0),He(this,t[6]||"",!0),this.o=ht(t[7]||"")):(this.g=!!e,this.h=new Yr(null,this.g))}function N(i){return new Gi(i)}function K(i,e,t){i.j=t?ht(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function k(i,e,t){i.i=t?ht(e,!0):e}function te(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function He(i,e,t){e instanceof Yr?(i.h=e,function yo(i,e){e&&!i.j&&(si(i),i.i=null,i.g.forEach(function(t,o){var l=o.toLowerCase();o!=l&&(Ps(this,o),Zs(this,l,t))},i)),i.j=e}(i.h,i.g)):(t||(e=Yt(e,bi)),i.h=new Yr(e,i.g))}function x(i,e,t){i.h.set(e,t)}function A(i){return x(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function ht(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Yt(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,In),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function In(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Gi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Yt(e,er,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Yt(e,er,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(Yt(t,"/"==t.charAt(0)?$r:qn,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Yt(t,ms)),i.join("")};var er=/[#\/\?@]/g,qn=/[#\?:]/g,$r=/[#\?]/g,bi=/[#\?@]/g,ms=/#/g;function Yr(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function si(i){i.g||(i.g=new ps,i.h=0,i.i&&function gs(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),l=null;if(0<=o){var h=i[t].substring(0,o);l=i[t].substring(o+1)}else h=i[t];e(h,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ps(i,e){si(i),e=Es(i,e),os(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,os((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&ii(i)))}function xn(i,e){return si(i),e=Es(i,e),os(i.g.h,e)}function Zs(i,e,t){Ps(i,e),0<t.length&&(i.i=null,i.g.set(Es(i,e),on(t)),i.h+=t.length)}function Es(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function L(i){this.l=i||y,i=X.PerformanceNavigationTiming?0<(i=X.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(X.g&&X.g.Ea&&X.g.Ea()&&X.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Se=Yr.prototype).add=function(i,e){si(this),this.i=null,i=Es(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Se.forEach=function(i,e){si(this),this.g.forEach(function(t,o){an(t,function(l){i.call(e,l,o,this)},this)},this)},Se.T=function(){si(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var l=i[o],h=0;h<l.length;h++)t.push(e[o]);return t},Se.R=function(i){si(this);var e=[];if("string"==typeof i)xn(this,i)&&(e=en(e,this.g.get(Es(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=en(e,i[t])}return e},Se.set=function(i,e){return si(this),this.i=null,xn(this,i=Es(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Se.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},Se.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],l=encodeURIComponent(String(o));o=this.R(o);for(var h=0;h<o.length;h++){var b=l;""!==o[h]&&(b+="="+encodeURIComponent(String(o[h]))),i.push(b)}}return this.i=i.join("&")};var y=10;function g(i){return!!i.h||!!i.g&&i.g.size>=i.j}function m(i){return i.h?1:i.g?i.g.size:0}function V(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ie(i,e){i.g?i.g.add(e):i.h=e}function Ie(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function nt(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return on(i.i)}function xt(){}function Jt(){this.g=new xt}function Kt(i,e,t){const o=t||"";try{Hi(i,function(l,h){let b=l;$e(l)&&(b=Nn(l)),e.push(o+h+"="+encodeURIComponent(b))})}catch(l){throw e.push(o+"type="+encodeURIComponent("_badmap")),l}}function Yn(i,e,t,o,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(o)}catch(h){}}function Sr(i){this.l=i.$b||null,this.j=i.ib||!1}function fr(i,e){bt.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Or,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}L.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},xt.prototype.stringify=function(i){return X.JSON.stringify(i,void 0)},xt.prototype.parse=function(i){return X.JSON.parse(i,void 0)},Ee(Sr,Fr),Sr.prototype.g=function(){return new fr(this.l,this.j)},Sr.prototype.i=function(i){return function(){return i}}({}),Ee(fr,bt);var Or=0;function yr(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function ti(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Kr(i)}function Kr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Se=fr.prototype).open=function(i,e){if(this.readyState!=Or)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Kr(this)},Se.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||X).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ti(this)),this.readyState=Or},Se.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Kr(this)),this.g&&(this.readyState=3,Kr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==X.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yr(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Se.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?ti(this):Kr(this),3==this.readyState&&yr(this)}},Se.Ua=function(i){this.g&&(this.response=this.responseText=i,ti(this))},Se.Ta=function(i){this.g&&(this.response=i,ti(this))},Se.ha=function(){this.g&&ti(this)},Se.setRequestHeader=function(i,e){this.v.append(i,e)},Se.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Se.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(fr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Qi=X.JSON.parse;function vr(i){bt.call(this),this.headers=new ps,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ai,this.K=this.L=!1}Ee(vr,bt);var Ai="",xi=/^https?$/i,io=["POST","PUT"];function oo(i){return"content-type"==i.toLowerCase()}function ao(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,vo(i),$o(i)}function vo(i){i.D||(i.D=!0,jt(i,"complete"),jt(i,"error"))}function Xo(i){if(i.h&&void 0!==le&&(!i.C[1]||4!=Ji(i)||2!=i.ba()))if(i.v&&4==Ji(i))ei(i.Fa,0,i);else if(jt(i,"readystatechange"),4==Ji(i)){i.h=!1;try{const M=i.ba();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===M){var l=String(i.H).match($i)[1]||null;if(!l&&X.self&&X.self.location){var h=X.self.location.protocol;l=h.substr(0,h.length-1)}o=!xi.test(l?l.toLowerCase():"")}t=o}if(t)jt(i,"complete"),jt(i,"success");else{i.m=6;try{var b=2<Ji(i)?i.g.statusText:""}catch(H){b=""}i.j=b+" ["+i.ba()+"]",vo(i)}}finally{$o(i)}}}function $o(i,e){if(i.g){Za(i);const t=i.g,o=i.C[0]?ae:null;i.g=null,i.C=null,e||jt(i,"ready");try{t.onreadystatechange=o}catch(l){}}}function Za(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(X.clearTimeout(i.A),i.A=null)}function Ji(i){return i.g?i.g.readyState:0}function Xa(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Ai:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Uo(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function Aa(i){let e="";return Kn(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):x(i,e,t))}function jo(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Mo(i){this.za=0,this.l=[],this.h=new Ze,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=jo("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=jo("baseRetryDelayMs",5e3,i),this.$a=jo("retryDelaySeedMs",1e4,i),this.Ya=jo("forwardChannelMaxRetries",2,i),this.ra=jo("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new L(i&&i.concurrentRequestLimit),this.Ca=new Jt,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Qa(i){if(Ss(i),3==i.G){var e=i.V++,t=N(i.F);x(t,"SID",i.J),x(t,"RID",e),x(t,"TYPE","terminate"),xa(i,t),(e=new Cs(i,i.h,e,void 0)).K=2,e.v=A(N(t)),t=!1,X.navigator&&X.navigator.sendBeacon&&(t=X.navigator.sendBeacon(e.v.toString(),"")),!t&&X.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ho(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ni(e)}ks(i)}function Cu(i){i.g&&(_o(i),i.g.cancel(),i.g=null)}function Ss(i){Cu(i),i.u&&(X.clearTimeout(i.u),i.u=null),Ro(i),i.i.cancel(),i.m&&("number"==typeof i.m&&X.clearTimeout(i.m),i.m=null)}function Xs(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Ei(i)}function Ei(i){g(i.i)||i.m||(i.m=!0,ir(i.Ha,i),i.C=0)}function la(i,e){var t;t=e?e.m:i.V++;const o=N(i.F);x(o,"SID",i.J),x(o,"RID",t),x(o,"AID",i.U),xa(i,o),i.o&&i.s&&Uo(o,i.o,i.s),t=new Cs(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=cl(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),ie(i.i,t),ss(t,o,e)}function xa(i,e){i.j&&Hi({},function(t,o){x(e,o,t)})}function cl(i,e,t){t=Math.min(i.l.length,t);var o=i.j?Xe(i.j.Oa,i.j,i):null;e:{var l=i.l;let h=-1;for(;;){const b=["count="+t];-1==h?0<t?(h=l[0].h,b.push("ofs="+h)):h=0:b.push("ofs="+h);let M=!0;for(let H=0;H<t;H++){let W=l[H].h;const Te=l[H].g;if(W-=h,0>W)h=Math.max(0,l[H].h-100),M=!1;else try{Kt(Te,b,"req"+W+"_")}catch(Ye){o&&o(Te)}}if(M){o=b.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,o}function Qo(i){i.g||i.u||(i.Y=1,ir(i.Ga,i),i.A=0)}function uo(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Ht(Xe(i.Ga,i),Ra(i,i.A)),i.A++,0))}function _o(i){null!=i.B&&(X.clearTimeout(i.B),i.B=null)}function Fi(i){i.g=new Cs(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=N(i.oa);x(e,"RID","rpc"),x(e,"SID",i.J),x(e,"CI",i.N?"0":"1"),x(e,"AID",i.U),xa(i,e),x(e,"TYPE","xmlhttp"),i.o&&i.s&&Uo(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=A(N(e)),t.s=null,t.U=!0,Ts(t,i)}function Ro(i){null!=i.v&&(X.clearTimeout(i.v),i.v=null)}function Ma(i,e){var t=null;if(i.g==e){Ro(i),_o(i),i.g=null;var o=2}else{if(!V(i.i,e))return;t=e.D,Ie(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;jt(o=Cr(),new Pt(o,t,e,l)),Ei(i)}else Qo(i);else if(3==(l=e.o)||0==l&&0<i.I||!(1==o&&function ll(i,e){return!(m(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Ht(Xe(i.Ha,i,e),Ra(i,i.C)),i.C++,0)))}(i,e)||2==o&&uo(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),l){case 1:bo(i,5);break;case 4:bo(i,10);break;case 3:bo(i,6);break;default:bo(i,2)}}function Ra(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function bo(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=Xe(i.jb,i);t||(t=new Gi("//www.google.com/images/cleardot.gif"),X.location&&"http"==X.location.protocol||K(t,"https"),A(t)),function Un(i,e){const t=new Ze;if(X.Image){const o=new Image;o.onload=st(Yn,t,o,"TestLoadImage: loaded",!0,e),o.onerror=st(Yn,t,o,"TestLoadImage: error",!1,e),o.onabort=st(Yn,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=st(Yn,t,o,"TestLoadImage: timeout",!1,e),X.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else at(2);i.G=0,i.j&&i.j.va(e),ks(i),Ss(i)}function ks(i){i.G=0,i.I=-1,i.j&&((0!=nt(i.i).length||0!=i.l.length)&&(i.i.i.length=0,on(i.l),i.l.length=0),i.j.ua())}function zi(i,e,t){let o=function S(i){return i instanceof Gi?N(i):new Gi(i,void 0)}(t);if(""!=o.i)e&&k(o,e+"."+o.i),te(o,o.m);else{const l=X.location;o=function z(i,e,t,o){var l=new Gi(null,void 0);return i&&K(l,i),e&&k(l,e),t&&te(l,t),o&&(l.l=o),l}(l.protocol,e?e+"."+l.hostname:l.hostname,+l.port,t)}return i.aa&&Kn(i.aa,function(l,h){x(o,h,l)}),t=i.sa,(e=i.D)&&t&&x(o,e,t),x(o,"VER",i.ma),xa(i,o),o}function Ho(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new vr(t&&i.Ba&&!i.qa?new Sr({ib:!0}):i.qa)).L=i.H,e}function Jo(){}function Qs(){if(zn&&!(10<=Number(ot)))throw Error("Environmental error: no available transport.")}function as(i,e){bt.call(this),this.g=new Mo(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!bn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bn(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Oo(this)}function Go(i){ci.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Ns(){ro.call(this),this.status=1}function Oo(i){this.g=i}(Se=vr.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$s.g(),this.C=function ur(i){return i.h||(i.h=i.i())}(this.u?this.u:$s),this.g.onreadystatechange=Xe(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(h){return void ao(this,h)}i=t||"";const l=new ps(this.headers);o&&Hi(o,function(h,b){l.set(b,h)}),o=function Tn(i){e:{var e=oo;const t=i.length,o="string"==typeof i?i.split(""):i;for(let l=0;l<t;l++)if(l in o&&e.call(void 0,o[l],l,i)){e=l;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(l.T()),t=X.FormData&&i instanceof X.FormData,!(0<=Ft(io,e))||o||t||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(h,b){this.g.setRequestHeader(b,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Za(this),0<this.B&&((this.K=function so(i){return zn&&function ke(){return function Bt(i){var e=Ue;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Dr(String(Ar)).split("."),t=Dr("9").split("."),o=Math.max(e.length,t.length);for(let b=0;0==i&&b<o;b++){var l=e[b]||"",h=t[b]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==l[0].length&&0==h[0].length)break;i=An(0==l[1].length?0:parseInt(l[1],10),0==h[1].length?0:parseInt(h[1],10))||An(0==l[2].length,0==h[2].length)||An(l[2],h[2]),l=l[3],h=h[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xe(this.pa,this)):this.A=ei(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(h){ao(this,h)}},Se.pa=function(){void 0!==le&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jt(this,"timeout"),this.abort(8))},Se.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,jt(this,"complete"),jt(this,"abort"),$o(this))},Se.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$o(this,!0)),vr.Z.M.call(this)},Se.Fa=function(){this.s||(this.F||this.v||this.l?Xo(this):this.cb())},Se.cb=function(){Xo(this)},Se.ba=function(){try{return 2<Ji(this)?this.g.status:-1}catch(i){return-1}},Se.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},Se.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Qi(e)}},Se.Da=function(){return this.m},Se.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Se=Mo.prototype).ma=8,Se.G=1,Se.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},Se.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new Cs(this,this.h,i,void 0);let h=this.s;if(this.P&&(h?(h=Bn(h),Lt(h,this.P)):h=this.P),null===this.o&&(l.H=h),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=cl(this,l,e),x(t=N(this.F),"RID",i),x(t,"CVER",22),this.D&&x(t,"X-HTTP-Session-Id",this.D),xa(this,t),this.o&&h&&Uo(t,this.o,h),ie(this.i,l),this.Ra&&x(t,"TYPE","init"),this.ja?(x(t,"$req",e),x(t,"SID","null"),l.$=!0,ss(l,t,null)):ss(l,t,e),this.G=2}}else 3==this.G&&(i?la(this,i):0==this.l.length||g(this.i)||la(this))},Se.Ga=function(){if(this.u=null,Fi(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Ht(Xe(this.bb,this),i)}},Se.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,at(10),Cu(this),Fi(this))},Se.ab=function(){null!=this.v&&(this.v=null,Cu(this),uo(this),at(19))},Se.jb=function(i){i?(this.h.info("Successfully pinged google.com"),at(2)):(this.h.info("Failed to ping google.com"),at(1))},(Se=Jo.prototype).xa=function(){},Se.wa=function(){},Se.va=function(){},Se.ua=function(){},Se.Oa=function(){},Qs.prototype.g=function(i,e){return new as(i,e)},Ee(as,bt),as.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),ir(Xe(i.hb,i,e))),at(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=zi(i,null,i.W),Ei(i)},as.prototype.close=function(){Qa(this.g)},as.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Xs(this.g,e)}else this.v?((e={}).__data__=Nn(i),Xs(this.g,e)):Xs(this.g,i)},as.prototype.M=function(){this.g.j=null,delete this.j,Qa(this.g),delete this.g,as.Z.M.call(this)},Ee(Go,ci),Ee(Ns,ro),Ee(Oo,Jo),Oo.prototype.xa=function(){jt(this.g,"a")},Oo.prototype.wa=function(i){jt(this.g,new Go(i))},Oo.prototype.va=function(i){jt(this.g,new Ns(i))},Oo.prototype.ua=function(){jt(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,as.prototype.send=as.prototype.u,as.prototype.open=as.prototype.m,as.prototype.close=as.prototype.close,pn.NO_ERROR=0,pn.TIMEOUT=8,pn.HTTP_ERROR=6,Tr.COMPLETE="complete",Pi.EventType=Ui,Ui.OPEN="a",Ui.CLOSE="b",Ui.ERROR="c",Ui.MESSAGE="d",bt.prototype.listen=bt.prototype.N,vr.prototype.listenOnce=vr.prototype.O,vr.prototype.getLastError=vr.prototype.La,vr.prototype.getLastErrorCode=vr.prototype.Da,vr.prototype.getStatus=vr.prototype.ba,vr.prototype.getResponseJson=vr.prototype.Qa,vr.prototype.getResponseText=vr.prototype.ga,vr.prototype.send=vr.prototype.ea;var ql=he.createWebChannelTransport=function(){return new Qs},js=he.getStatEventTarget=function(){return Cr()},ea=he.ErrorCode=pn,Oa=he.EventType=Tr,lo=he.Event=kn,Pa=he.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},di=he.FetchXmlHttpFactory=Sr,Hs=he.WebChannel=Pi,ka=he.XhrIo=vr;const Eo="@firebase/firestore";class Li{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Li.UNAUTHENTICATED=new Li(null),Li.GOOGLE_CREDENTIALS=new Li("google-credentials-uid"),Li.FIRST_PARTY=new Li("first-party-uid"),Li.MOCK_USER=new Li("mock-user");let wo="9.8.0";const zo=new dt.Yd("@firebase/firestore");function ca(){return zo.logLevel}function Qt(i,...e){if(zo.logLevel<=dt.in.DEBUG){const t=e.map(es);zo.debug(`Firestore (${wo}): ${i}`,...t)}}function wi(i,...e){if(zo.logLevel<=dt.in.ERROR){const t=e.map(es);zo.error(`Firestore (${wo}): ${i}`,...t)}}function Fs(i,...e){if(zo.logLevel<=dt.in.WARN){const t=e.map(es);zo.warn(`Firestore (${wo}): ${i}`,...t)}}function es(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function Dn(i="Unexpected state"){const e=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: `+i;throw wi(e),new Error(e)}function jn(i,e){i||Dn()}function hn(i,e){return i}const Tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends Pe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class I{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class w{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class P{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Li.UNAUTHENTICATED))}shutdown(){}}class ${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Z{constructor(e){this.t=e,this.currentUser=Li.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let l=this.i;const h=W=>this.i!==l?(l=this.i,t(W)):Promise.resolve();let b=new I;this.o=()=>{this.i++,this.currentUser=this.u(),b.resolve(),b=new I,e.enqueueRetryable(()=>h(this.currentUser))};const M=()=>{const W=b;e.enqueueRetryable((0,_e.Z)(function*(){yield W.promise,yield h(o.currentUser)}))},H=W=>{Qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=W,this.auth.addAuthTokenListener(this.o),M()};this.t.onInit(W=>H(W)),setTimeout(()=>{if(!this.auth){const W=this.t.getImmediate({optional:!0});W?H(W):(Qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),b.resolve(),b=new I)}},0),M()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(jn("string"==typeof o.accessToken),new w(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return jn(null===e||"string"==typeof e),new Li(e)}}class Ce{constructor(e,t,o){this.type="FirstParty",this.user=Li.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const l=e.auth.getAuthHeaderValueForFirstParty([]);l&&this.headers.set("Authorization",l),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class We{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new Ce(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Li.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ot{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class En{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const o=h=>{null!=h.error&&Qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const b=h.token!==this.p;return this.p=h.token,Qt("FirebaseAppCheckTokenProvider",`Received ${b?"new":"existing"} token.`),b?t(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>o(h))};const l=h=>{Qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.g.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.g.getImmediate({optional:!0});h?l(h):Qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(jn("string"==typeof t.token),this.p=t.token,new Ot(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Cn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.I(o),this.T=o=>t.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Nr(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}Cn.A=-1;class jr{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const l=Nr(40);for(let h=0;h<l.length;++h)o.length<20&&l[h]<t&&(o+=e.charAt(l[h]%e.length))}return o}}function Hn(i,e){return i<e?-1:i>e?1:0}function Bi(i,e,t){return i.length===e.length&&i.every((o,l)=>t(o,e[l]))}function ws(i){return i+"\0"}class Zr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new C(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new C(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new C(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zr.fromMillis(Date.now())}static fromDate(e){return Zr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Zr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Hn(this.nanoseconds,e.nanoseconds):Hn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Vn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Vn(e)}static min(){return new Vn(new Zr(0,0))}static max(){return new Vn(new Zr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ys(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function co(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function dl(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Ii{constructor(e,t,o){void 0===t?t=0:t>e.length&&Dn(),void 0===o?o=e.length-t:o>e.length-t&&Dn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Ii.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let l=0;l<o;l++){const h=e.get(l),b=t.get(l);if(h<b)return-1;if(h>b)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ur extends Ii{construct(e,t,o){return new Ur(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new C(Tt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(l=>l.length>0))}return new Ur(t)}static emptyPath(){return new Ur([])}}const Yc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ts extends Ii{construct(e,t,o){return new ts(e,t,o)}static isValidIdentifier(e){return Yc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ts.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ts(["__name__"])}static fromServerFormat(e){const t=[];let o="",l=0;const h=()=>{if(0===o.length)throw new C(Tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let b=!1;for(;l<e.length;){const M=e[l];if("\\"===M){if(l+1===e.length)throw new C(Tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const H=e[l+1];if("\\"!==H&&"."!==H&&"`"!==H)throw new C(Tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=H,l+=2}else"`"===M?(b=!b,l++):"."!==M||b?(o+=M,l++):(h(),l++)}if(h(),b)throw new C(Tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ts(t)}static emptyPath(){return new ts([])}}class Ja{constructor(e){this.fields=e,e.sort(ts.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bi(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class vs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new vs(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new vs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Hn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vs.EMPTY_BYTE_STRING=new vs("");const Yl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(i){if(jn(!!i),"string"==typeof i){let e=0;const t=Yl.exec(i);if(jn(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Vi(i.seconds),nanos:Vi(i.nanos)}}function Vi(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Di(i){return"string"==typeof i?vs.fromBase64String(i):vs.fromUint8Array(i)}function Wo(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ta(i){const e=i.mapValue.fields.__previous_value__;return Wo(e)?ta(e):e}function na(i){const e=Js(i.mapValue.fields.__local_write_time__.timestampValue);return new Zr(e.seconds,e.nanos)}class Na{constructor(e,t,o,l,h,b,M,H){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=l,this.ssl=h,this.forceLongPolling=b,this.autoDetectLongPolling=M,this.useFetchStreams=H}}class Mi{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Mi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mi&&e.projectId===this.projectId&&e.database===this.database}}function As(i){return null==i}function Po(i){return 0===i&&1/i==-1/0}function ra(i){return"number"==typeof i&&Number.isInteger(i)&&!Po(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class sn{constructor(e){this.path=e}static fromPath(e){return new sn(Ur.fromString(e))}static fromName(e){return new sn(Ur.fromString(e).popFirst(5))}static empty(){return new sn(Ur.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ur.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ur.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new sn(new Ur(e.slice()))}}const ko={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Tu={nullValue:"NULL_VALUE"};function ha(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Wo(i)?4:O(i)?9007199254740991:10:Dn()}function Gs(i,e){if(i===e)return!0;const t=ha(i);if(t!==ha(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return na(i).isEqual(na(e));case 3:return function(o,l){if("string"==typeof o.timestampValue&&"string"==typeof l.timestampValue&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Js(o.timestampValue),b=Js(l.timestampValue);return h.seconds===b.seconds&&h.nanos===b.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,Di(i.bytesValue).isEqual(Di(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return Vi(o.geoPointValue.latitude)===Vi(l.geoPointValue.latitude)&&Vi(o.geoPointValue.longitude)===Vi(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Vi(o.integerValue)===Vi(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=Vi(o.doubleValue),b=Vi(l.doubleValue);return h===b?Po(h)===Po(b):isNaN(h)&&isNaN(b)}return!1}(i,e);case 9:return Bi(i.arrayValue.values||[],e.arrayValue.values||[],Gs);case 10:return function(o,l){const h=o.mapValue.fields||{},b=l.mapValue.fields||{};if(ys(h)!==ys(b))return!1;for(const M in h)if(h.hasOwnProperty(M)&&(void 0===b[M]||!Gs(h[M],b[M])))return!1;return!0}(i,e);default:return Dn()}var l}function fa(i,e){return void 0!==(i.values||[]).find(t=>Gs(t,e))}function No(i,e){if(i===e)return 0;const t=ha(i),o=ha(e);if(t!==o)return Hn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Hn(i.booleanValue,e.booleanValue);case 2:return function(l,h){const b=Vi(l.integerValue||l.doubleValue),M=Vi(h.integerValue||h.doubleValue);return b<M?-1:b>M?1:b===M?0:isNaN(b)?isNaN(M)?0:-1:1}(i,e);case 3:return zs(i.timestampValue,e.timestampValue);case 4:return zs(na(i),na(e));case 5:return Hn(i.stringValue,e.stringValue);case 6:return function(l,h){const b=Di(l),M=Di(h);return b.compareTo(M)}(i.bytesValue,e.bytesValue);case 7:return function(l,h){const b=l.split("/"),M=h.split("/");for(let H=0;H<b.length&&H<M.length;H++){const W=Hn(b[H],M[H]);if(0!==W)return W}return Hn(b.length,M.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,h){const b=Hn(Vi(l.latitude),Vi(h.latitude));return 0!==b?b:Hn(Vi(l.longitude),Vi(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,h){const b=l.values||[],M=h.values||[];for(let H=0;H<b.length&&H<M.length;++H){const W=No(b[H],M[H]);if(W)return W}return Hn(b.length,M.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,h){if(l===ko.mapValue&&h===ko.mapValue)return 0;if(l===ko.mapValue)return 1;if(h===ko.mapValue)return-1;const b=l.fields||{},M=Object.keys(b),H=h.fields||{},W=Object.keys(H);M.sort(),W.sort();for(let Te=0;Te<M.length&&Te<W.length;++Te){const Ye=Hn(M[Te],W[Te]);if(0!==Ye)return Ye;const wt=No(b[M[Te]],H[W[Te]]);if(0!==wt)return wt}return Hn(M.length,W.length)}(i.mapValue,e.mapValue);default:throw Dn()}}function zs(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Hn(i,e);const t=Js(i),o=Js(e),l=Hn(t.seconds,o.seconds);return 0!==l?l:Hn(t.nanos,o.nanos)}function Ws(i){return Fo(i)}function Fo(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const l=Js(o);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Di(i.bytesValue).toBase64():"referenceValue"in i?sn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let l="[",h=!0;for(const b of o.values||[])h?h=!1:l+=",",l+=Fo(b);return l+"]"}(i.arrayValue):"mapValue"in i?function(o){const l=Object.keys(o.fields||{}).sort();let h="{",b=!0;for(const M of l)b?b=!1:h+=",",h+=`${M}:${Fo(o.fields[M])}`;return h+"}"}(i.mapValue):Dn();var e}function ho(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Fa(i){return!!i&&"integerValue"in i}function Su(i){return!!i&&"arrayValue"in i}function eu(i){return!!i&&"nullValue"in i}function Au(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function xu(i){return!!i&&"mapValue"in i}function ia(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return co(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=ia(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ia(i.arrayValue.values[t]);return e}return Object.assign({},i)}function O(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function B(i){return"nullValue"in i?Tu:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?ho(Mi.empty(),sn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:Dn()}function J(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?ho(Mi.empty(),sn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?ko:Dn()}function Oe(i,e){const t=No(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function ct(i,e){const t=No(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class vt{constructor(e){this.value=e}static empty(){return new vt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!xu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ia(t)}setAll(e){let t=ts.emptyPath(),o={},l=[];e.forEach((b,M)=>{if(!t.isImmediateParentOf(M)){const H=this.getFieldsMap(t);this.applyChanges(H,o,l),o={},l=[],t=M.popLast()}b?o[M.lastSegment()]=ia(b):l.push(M.lastSegment())});const h=this.getFieldsMap(t);this.applyChanges(h,o,l)}delete(e){const t=this.field(e.popLast());xu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=t.mapValue.fields[e.get(o)];xu(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,o){co(t,(l,h)=>e[l]=h);for(const l of o)delete e[l]}clone(){return new vt(ia(this.value))}}function Zt(i){const e=[];return co(i.fields,(t,o)=>{const l=new ts([t]);if(xu(o)){const h=Zt(o.mapValue).fields;if(0===h.length)e.push(l);else for(const b of h)e.push(l.child(b))}else e.push(l)}),new Ja(e)}class nn{constructor(e,t,o,l,h,b){this.key=e,this.documentType=t,this.version=o,this.readTime=l,this.data=h,this.documentState=b}static newInvalidDocument(e){return new nn(e,0,Vn.min(),Vn.min(),vt.empty(),0)}static newFoundDocument(e,t,o){return new nn(e,1,t,Vn.min(),o,0)}static newNoDocument(e,t){return new nn(e,2,t,Vn.min(),vt.empty(),0)}static newUnknownDocument(e,t){return new nn(e,3,t,Vn.min(),vt.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nr{constructor(e,t,o,l){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=l}}function lr(i){return i.fields.find(e=>2===e.kind)}function xr(i){return i.fields.filter(e=>2!==e.kind)}nr.UNKNOWN_ID=-1;class cr{constructor(e,t){this.fieldPath=e,this.kind=t}}class ns{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ns(0,ni.min())}}function us(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,l=Vn.fromTimestamp(1e9===o?new Zr(t+1,0):new Zr(t,o));return new ni(l,sn.empty(),e)}function La(i){return new ni(i.readTime,i.key,-1)}class ni{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new ni(Vn.min(),sn.empty(),-1)}static max(){return new ni(Vn.max(),sn.empty(),-1)}}function pa(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=sn.comparator(i.documentKey,e.documentKey),0!==t?t:Hn(i.largestBatchId,e.largestBatchId))}class oi{constructor(e,t){this.comparator=e,this.root=t||Ri.EMPTY}insert(e,t){return new oi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(e){return new oi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(0===l)return t+o.left.size;l<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Do(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Do(this.root,e,this.comparator,!1)}getReverseIterator(){return new Do(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Do(this.root,e,this.comparator,!0)}}class Do{constructor(e,t,o,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=t?o(e.key,t):1,t&&l&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(0===h){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ri{constructor(e,t,o,l,h){this.key=e,this.value=t,this.color=null!=o?o:Ri.RED,this.left=null!=l?l:Ri.EMPTY,this.right=null!=h?h:Ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,l,h){return new Ri(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=l?l:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let l=this;const h=o(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,t,o),null):0===h?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return Ri.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dn();const e=this.left.check();if(e!==this.right.check())throw Dn();return e+(this.isRed()?0:1)}}Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1,Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw Dn()}get value(){throw Dn()}get color(){throw Dn()}get left(){throw Dn()}get right(){throw Dn()}copy(i,e,t,o,l){return this}insert(i,e,t){return new Ri(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gi{constructor(e){this.comparator=e,this.data=new oi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Kl(this.data.getIterator())}getIteratorFrom(e){return new Kl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof gi)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=o.getNext().key;if(0!==this.comparator(l,h))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gi(this.comparator);return t.data=e,t}}class Kl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function tu(i){return i.hasNext()?i.getNext():void 0}class nu{constructor(e,t=null,o=[],l=[],h=null,b=null,M=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=l,this.limit=h,this.startAt=b,this.endAt=M,this.P=null}}function Ba(i,e=null,t=[],o=[],l=null,h=null,b=null){return new nu(i,e,t,o,l,h,b)}function ga(i){const e=hn(i);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(l=o).field.canonicalString()+l.op.toString()+Ws(l.value);var l}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(l=o).field.canonicalString()+l.dir;var l}).join(","),As(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Ws(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Ws(o)).join(",")),e.P=t}return e.P}function Mu(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!Ff(i.orderBy[l],e.orderBy[l]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((t=i.filters[l]).op!==(o=e.filters[l]).op||!t.field.isEqual(o.field)||!Gs(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Xl(i.startAt,e.startAt)&&Xl(i.endAt,e.endAt)}function hl(i){return sn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function iu(i,e){return i.filters.filter(t=>t instanceof Ls&&t.field.isEqual(e))}function su(i,e,t){let o=Tu,l=!0;for(const h of iu(i,e)){let b=Tu,M=!0;switch(h.op){case"<":case"<=":b=B(h.value);break;case"==":case"in":case">=":b=h.value;break;case">":b=h.value,M=!1;break;case"!=":case"not-in":b=Tu}Oe({value:o,inclusive:l},{value:b,inclusive:M})<0&&(o=b,l=M)}if(null!==t)for(let h=0;h<i.orderBy.length;++h)if(i.orderBy[h].field.isEqual(e)){const b=t.position[h];Oe({value:o,inclusive:l},{value:b,inclusive:t.inclusive})<0&&(o=b,l=t.inclusive);break}return{value:o,inclusive:l}}function Kc(i,e,t){let o=ko,l=!0;for(const h of iu(i,e)){let b=ko,M=!0;switch(h.op){case">=":case">":b=J(h.value),M=!1;break;case"==":case"in":case"<=":b=h.value;break;case"<":b=h.value,M=!1;break;case"!=":case"not-in":b=ko}ct({value:o,inclusive:l},{value:b,inclusive:M})>0&&(o=b,l=M)}if(null!==t)for(let h=0;h<i.orderBy.length;++h)if(i.orderBy[h].field.isEqual(e)){const b=t.position[h];ct({value:o,inclusive:l},{value:b,inclusive:t.inclusive})>0&&(o=b,l=t.inclusive);break}return{value:o,inclusive:l}}class Ls extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,o):new kf(e,t,o):"array-contains"===t?new Nf(e,o):"in"===t?new th(e,o):"not-in"===t?new Zl(e,o):"array-contains-any"===t?new $g(e,o):new Ls(e,t,o)}static V(e,t,o){return"in"===t?new Va(e,o):new fl(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(No(t,this.value)):null!==t&&ha(this.value)===ha(t)&&this.v(No(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Dn()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class kf extends Ls{constructor(e,t,o){super(e,t,o),this.key=sn.fromName(o.referenceValue)}matches(e){const t=sn.comparator(e.key,this.key);return this.v(t)}}class Va extends Ls{constructor(e,t){super(e,"in",t),this.keys=eh(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fl extends Ls{constructor(e,t){super(e,"not-in",t),this.keys=eh(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function eh(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>sn.fromName(o.referenceValue))}class Nf extends Ls{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Su(t)&&fa(t.arrayValue,this.value)}}class th extends Ls{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&fa(this.value.arrayValue,t)}}class Zl extends Ls{constructor(e,t){super(e,"not-in",t)}matches(e){if(fa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!fa(this.value.arrayValue,t)}}class $g extends Ls{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Su(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>fa(this.value.arrayValue,o))}}class $a{constructor(e,t){this.position=e,this.inclusive=t}}class Ru{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ff(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function pl(i,e,t){let o=0;for(let l=0;l<i.position.length;l++){const h=e[l],b=i.position[l];if(o=h.field.isKeyField()?sn.comparator(sn.fromName(b.referenceValue),t.key):No(b,t.data.field(h.field)),"desc"===h.dir&&(o*=-1),0!==o)break}return o}function Xl(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Gs(i.position[t],e.position[t]))return!1;return!0}class fo{constructor(e,t=null,o=[],l=[],h=null,b="F",M=null,H=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=l,this.limit=h,this.limitType=b,this.startAt=M,this.endAt=H,this.D=null,this.C=null}}function nh(i,e,t,o,l,h,b,M){return new fo(i,e,t,o,l,h,b,M)}function Ua(i){return new fo(i)}function Ou(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function gl(i){for(const e of i.filters)if(e.S())return e.field;return null}function Ql(i){return null!==i.collectionGroup}function ou(i){const e=hn(i);if(null===e.D){e.D=[];const t=gl(e),o=Ou(e);if(null!==t&&null===o)t.isKeyField()||e.D.push(new Ru(t)),e.D.push(new Ru(ts.keyField(),"asc"));else{let l=!1;for(const h of e.explicitOrderBy)e.D.push(h),h.field.isKeyField()&&(l=!0);if(!l){const h=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Ru(ts.keyField(),h))}}}return e.D}function po(i){const e=hn(i);if(!e.C)if("F"===e.limitType)e.C=Ba(e.path,e.collectionGroup,ou(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const h of ou(e))t.push(new Ru(h.field,"desc"===h.dir?"asc":"desc"));const o=e.endAt?new $a(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new $a(e.startAt.position,e.startAt.inclusive):null;e.C=Ba(e.path,e.collectionGroup,t,e.filters,e.limit,o,l)}return e.C}function Zc(i,e,t){return new fo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function ml(i,e){return Mu(po(i),po(e))&&i.limitType===e.limitType}function rh(i){return`${ga(po(i))}|lt:${i.limitType}`}function Xc(i){return`Query(target=${function ru(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${Ws(o.value)}`;var o}).join(", ")}]`),As(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>Ws(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>Ws(t)).join(",")),`Target(${e})`}(po(i))}; limitType=${i.limitType})`}function yl(i,e){return e.isFoundDocument()&&function(t,o){const l=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):sn.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,o){for(const l of t.explicitOrderBy)if(!l.field.isKeyField()&&null===o.data.field(l.field))return!1;return!0}(i,e)&&function(t,o){for(const l of t.filters)if(!l.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(l,h,b){const M=pl(l,h,b);return l.inclusive?M<=0:M<0}(t.startAt,ou(t),o)||t.endAt&&!function(l,h,b){const M=pl(l,h,b);return l.inclusive?M>=0:M>0}(t.endAt,ou(t),o)));var t,o}function ih(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function qo(i){return(e,t)=>{let o=!1;for(const l of ou(i)){const h=vl(l,e,t);if(0!==h)return h;o=o||l.field.isKeyField()}return 0}}function vl(i,e,t){const o=i.field.isKeyField()?sn.comparator(e.key,t.key):function(l,h,b){const M=h.data.field(l),H=b.data.field(l);return null!==M&&null!==H?No(M,H):Dn()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Dn()}}function Qc(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Po(e)?"-0":e}}function Lf(i){return{integerValue:""+i}}function Jc(i,e){return ra(e)?Lf(e):Qc(i,e)}class ed{constructor(){this._=void 0}}function Bf(i,e,t){return i instanceof Pu?function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):i instanceof au?$f(i,e):i instanceof Co?Uf(i,e):function(o,l){const h=td(o,l),b=uu(h)+uu(o.k);return Fa(h)&&Fa(o.k)?Lf(b):Qc(o.M,b)}(i,e)}function Vf(i,e,t){return i instanceof au?$f(i,e):i instanceof Co?Uf(i,e):t}function td(i,e){return i instanceof ku?Fa(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Pu extends ed{}class au extends ed{constructor(e){super(),this.elements=e}}function $f(i,e){const t=nd(e);for(const o of i.elements)t.some(l=>Gs(l,o))||t.push(o);return{arrayValue:{values:t}}}class Co extends ed{constructor(e){super(),this.elements=e}}function Uf(i,e){let t=nd(e);for(const o of i.elements)t=t.filter(l=>!Gs(l,o));return{arrayValue:{values:t}}}class ku extends ed{constructor(e,t){super(),this.M=e,this.k=t}}function uu(i){return Vi(i.integerValue||i.doubleValue)}function nd(i){return Su(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class qs{constructor(e,t){this.field=e,this.transform=t}}class sh{constructor(e,t){this.version=e,this.transformResults=t}}class Wi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wi}static exists(e){return new Wi(void 0,e)}static updateTime(e){return new Wi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bl(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class rd{}function oh(i,e,t){i instanceof tc?function(o,l,h){const b=o.value.clone(),M=uh(o.fieldTransforms,l,h.transformResults);b.setAll(M),l.convertToFoundDocument(h.version,b).setHasCommittedMutations()}(i,e,t):i instanceof lu?function(o,l,h){if(!bl(o.precondition,l))return void l.convertToUnknownDocument(h.version);const b=uh(o.fieldTransforms,l,h.transformResults),M=l.data;M.setAll(El(o)),M.setAll(b),l.convertToFoundDocument(h.version,M).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ah(i,e,t){var l;i instanceof tc?function(o,l,h){if(!bl(o.precondition,l))return;const b=o.value.clone(),M=lh(o.fieldTransforms,h,l);b.setAll(M),l.convertToFoundDocument(ec(l),b).setHasLocalMutations()}(i,e,t):i instanceof lu?function(o,l,h){if(!bl(o.precondition,l))return;const b=lh(o.fieldTransforms,h,l),M=l.data;M.setAll(El(o)),M.setAll(b),l.convertToFoundDocument(ec(l),M).setHasLocalMutations()}(i,e,t):bl(i.precondition,l=e)&&l.convertToNoDocument(Vn.min())}function id(i,e){let t=null;for(const o of i.fieldTransforms){const l=e.data.field(o.field),h=td(o.transform,l||null);null!=h&&(null==t&&(t=vt.empty()),t.set(o.field,h))}return t||null}function Jl(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Bi(t,o,(l,h)=>function _l(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof au&&o instanceof au||t instanceof Co&&o instanceof Co?Bi(t.elements,o.elements,Gs):t instanceof ku&&o instanceof ku?Gs(t.k,o.k):t instanceof Pu&&o instanceof Pu);var t,o}(l,h))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}function ec(i){return i.isFoundDocument()?i.version:Vn.min()}class tc extends rd{constructor(e,t,o,l=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=l,this.type=0}}class lu extends rd{constructor(e,t,o,l,h=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=l,this.fieldTransforms=h,this.type=1}}function El(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function uh(i,e,t){const o=new Map;jn(i.length===t.length);for(let l=0;l<t.length;l++){const h=i[l],b=h.transform,M=e.data.field(h.field);o.set(h.field,Vf(b,M,t[l]))}return o}function lh(i,e,t){const o=new Map;for(const l of i){const h=l.transform,b=t.data.field(l.field);o.set(l.field,Bf(h,b,e))}return o}class cu extends rd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class wl extends rd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class ch{constructor(e){this.count=e}}var qi,Lr;function nc(i){switch(i){default:return Dn();case Tt.CANCELLED:case Tt.UNKNOWN:case Tt.DEADLINE_EXCEEDED:case Tt.RESOURCE_EXHAUSTED:case Tt.INTERNAL:case Tt.UNAVAILABLE:case Tt.UNAUTHENTICATED:return!1;case Tt.INVALID_ARGUMENT:case Tt.NOT_FOUND:case Tt.ALREADY_EXISTS:case Tt.PERMISSION_DENIED:case Tt.FAILED_PRECONDITION:case Tt.ABORTED:case Tt.OUT_OF_RANGE:case Tt.UNIMPLEMENTED:case Tt.DATA_LOSS:return!0}}function dh(i){if(void 0===i)return wi("GRPC error has no .code"),Tt.UNKNOWN;switch(i){case qi.OK:return Tt.OK;case qi.CANCELLED:return Tt.CANCELLED;case qi.UNKNOWN:return Tt.UNKNOWN;case qi.DEADLINE_EXCEEDED:return Tt.DEADLINE_EXCEEDED;case qi.RESOURCE_EXHAUSTED:return Tt.RESOURCE_EXHAUSTED;case qi.INTERNAL:return Tt.INTERNAL;case qi.UNAVAILABLE:return Tt.UNAVAILABLE;case qi.UNAUTHENTICATED:return Tt.UNAUTHENTICATED;case qi.INVALID_ARGUMENT:return Tt.INVALID_ARGUMENT;case qi.NOT_FOUND:return Tt.NOT_FOUND;case qi.ALREADY_EXISTS:return Tt.ALREADY_EXISTS;case qi.PERMISSION_DENIED:return Tt.PERMISSION_DENIED;case qi.FAILED_PRECONDITION:return Tt.FAILED_PRECONDITION;case qi.ABORTED:return Tt.ABORTED;case qi.OUT_OF_RANGE:return Tt.OUT_OF_RANGE;case qi.UNIMPLEMENTED:return Tt.UNIMPLEMENTED;case qi.DATA_LOSS:return Tt.DATA_LOSS;default:return Dn()}}(Lr=qi||(qi={}))[Lr.OK=0]="OK",Lr[Lr.CANCELLED=1]="CANCELLED",Lr[Lr.UNKNOWN=2]="UNKNOWN",Lr[Lr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lr[Lr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lr[Lr.NOT_FOUND=5]="NOT_FOUND",Lr[Lr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lr[Lr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lr[Lr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lr[Lr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lr[Lr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lr[Lr.ABORTED=10]="ABORTED",Lr[Lr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lr[Lr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lr[Lr.INTERNAL=13]="INTERNAL",Lr[Lr.UNAVAILABLE=14]="UNAVAILABLE",Lr[Lr.DATA_LOSS=15]="DATA_LOSS";class Ci{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[l,h]of o)if(this.equalsFn(l,e))return h}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),l=this.inner[o];if(void 0===l)return this.inner[o]=[[e,t]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return void(l[h]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return 1===o.length?delete this.inner[t]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){co(this.inner,(t,o)=>{for(const[l,h]of o)e(l,h)})}isEmpty(){return dl(this.inner)}size(){return this.innerSize}}const hh=new oi(sn.comparator);function Lo(){return hh}const sd=new oi(sn.comparator);function rc(...i){let e=sd;for(const t of i)e=e.insert(t.key,t);return e}function Il(){return new Ci(i=>i.toString(),(i,e)=>i.isEqual(e))}const ic=new oi(sn.comparator),jf=new gi(sn.comparator);function ai(...i){let e=jf;for(const t of i)e=e.add(t);return e}const Hf=new gi(Hn);function od(){return Hf}class sc{constructor(e,t,o,l,h){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,ma.createSynthesizedTargetChangeForCurrentChange(e,t)),new sc(Vn.min(),o,od(),Lo(),ai())}}class ma{constructor(e,t,o,l,h){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ma(vs.EMPTY_BYTE_STRING,t,ai(),ai(),ai())}}class Is{constructor(e,t,o,l){this.O=e,this.removedTargetIds=t,this.key=o,this.F=l}}class Nu{constructor(e,t){this.targetId=e,this.$=t}}class Dl{constructor(e,t,o=vs.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=l}}class oc{constructor(){this.B=0,this.L=ac(),this.U=vs.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=ai(),t=ai(),o=ai();return this.L.forEach((l,h)=>{switch(h){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:o=o.add(l);break;default:Dn()}}),new ma(this.U,this.q,e,t,o)}J(){this.K=!1,this.L=ac()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Ys{constructor(e){this.nt=e,this.st=new Map,this.it=Lo(),this.rt=ja(),this.ot=new gi(Hn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const o=this.lt(t);switch(e.state){case 0:this.ft(t)&&o.W(e.resumeToken);break;case 1:o.tt(),o.G||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.G||this.removeTarget(t);break;case 3:this.ft(t)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),o.W(e.resumeToken));break;default:Dn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((o,l)=>{this.ft(l)&&t(l)})}_t(e){const t=e.targetId,o=e.$.count,l=this.wt(t);if(l){const h=l.target;if(hl(h))if(0===o){const b=new sn(h.path);this.ct(t,b,nn.newNoDocument(b,Vn.min()))}else jn(1===o);else this.gt(t)!==o&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((h,b)=>{const M=this.wt(b);if(M){if(h.current&&hl(M.target)){const H=new sn(M.target.path);null!==this.it.get(H)||this.It(b,H)||this.ct(b,H,nn.newNoDocument(H,e))}h.j&&(t.set(b,h.H()),h.J())}});let o=ai();this.rt.forEach((h,b)=>{let M=!0;b.forEachWhile(H=>{const W=this.wt(H);return!W||2===W.purpose||(M=!1,!1)}),M&&(o=o.add(h))}),this.it.forEach((h,b)=>b.setReadTime(e));const l=new sc(e,t,this.ot,this.it,o);return this.it=Lo(),this.rt=ja(),this.ot=new gi(Hn),l}at(e,t){if(!this.ft(e))return;const o=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,o),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,o){if(!this.ft(e))return;const l=this.lt(e);this.It(e,t)?l.Y(t,1):l.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),o&&(this.it=this.it.insert(t,o))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new oc,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new gi(Hn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Qt("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new oc),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function ja(){return new oi(sn.comparator)}function ac(){return new oi(sn.comparator)}const To={asc:"ASCENDING",desc:"DESCENDING"},Cl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ad{constructor(e,t){this.databaseId=e,this.N=t}}function Tl(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sl(i,e){return i.N?e.toBase64():e.toUint8Array()}function ud(i,e){return Tl(i,e.toTimestamp())}function Ds(i){return jn(!!i),Vn.fromTimestamp(function(e){const t=Js(e);return new Zr(t.seconds,t.nanos)}(i))}function uc(i,e){return(t=i,new Ur(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function fh(i){const e=Ur.fromString(i);return jn(re(e)),e}function Bo(i,e){return uc(i.databaseId,e.path)}function So(i,e){const t=fh(e);if(t.get(1)!==i.databaseId.projectId)throw new C(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new C(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new sn(Al(t))}function ld(i,e){return uc(i.databaseId,e)}function ph(i){const e=fh(i);return 4===e.length?Ur.emptyPath():Al(e)}function lc(i){return new Ur(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Al(i){return jn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function eo(i,e,t){return{name:Bo(i,e),fields:t.value.mapValue.fields}}function cc(i,e,t){const o=So(i,e.name),l=Ds(e.updateTime),h=new vt({mapValue:{fields:e.fields}}),b=nn.newFoundDocument(o,l,h);return t&&b.setHasCommittedMutations(),t?b.setHasCommittedMutations():b}function Ao(i,e){let t;if(e instanceof tc)t={update:eo(i,e.key,e.value)};else if(e instanceof cu)t={delete:Bo(i,e.key)};else if(e instanceof lu)t={update:eo(i,e.key,e.data),updateMask:U(e.fieldMask)};else{if(!(e instanceof wl))return Dn();t={verify:Bo(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,h){const b=h.transform;if(b instanceof Pu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof au)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof Co)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof ku)return{fieldPath:h.field.canonicalString(),increment:b.k};throw Dn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:ud(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:Dn()),t;var l}function hu(i,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?Wi.updateTime(Ds(l.updateTime)):void 0!==l.exists?Wi.exists(l.exists):Wi.none():Wi.none(),o=e.updateTransforms?e.updateTransforms.map(l=>function(h,b){let M=null;"setToServerValue"in b?(jn("REQUEST_TIME"===b.setToServerValue),M=new Pu):"appendMissingElements"in b?M=new au(b.appendMissingElements.values||[]):"removeAllFromArray"in b?M=new Co(b.removeAllFromArray.values||[]):"increment"in b?M=new ku(h,b.increment):Dn();const H=ts.fromServerFormat(b.fieldPath);return new qs(H,M)}(i,l)):[];var l;if(e.update){const l=So(i,e.update.name),h=new vt({mapValue:{fields:e.update.fields}});if(e.updateMask){const b=new Ja((e.updateMask.fieldPaths||[]).map(W=>ts.fromServerFormat(W)));return new lu(l,h,b,t,o)}return new tc(l,h,t,o)}if(e.delete){const l=So(i,e.delete);return new cu(l,t)}if(e.verify){const l=So(i,e.verify);return new wl(l,t)}return Dn()}function cd(i,e){return{documents:[ld(i,e.path)]}}function dd(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=ld(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ld(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const l=function(H){if(0===H.length)return;const W=H.map(Te=>function(Ye){if("=="===Ye.op){if(Au(Ye.value))return{unaryFilter:{field:_(Ye.field),op:"IS_NAN"}};if(eu(Ye.value))return{unaryFilter:{field:_(Ye.field),op:"IS_NULL"}}}else if("!="===Ye.op){if(Au(Ye.value))return{unaryFilter:{field:_(Ye.field),op:"IS_NOT_NAN"}};if(eu(Ye.value))return{unaryFilter:{field:_(Ye.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_(Ye.field),op:yh(Ye.op),value:Ye.value}}}(Te));return 1===W.length?W[0]:{compositeFilter:{op:"AND",filters:W}}}(e.filters);l&&(t.structuredQuery.where=l);const h=function(H){if(0!==H.length)return H.map(W=>{return{field:_((Te=W).field),direction:Wf(Te.dir)};var Te})}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const b=(W=e.limit,i.N||As(W)?W:{value:W});var W,M,H;return null!==b&&(t.structuredQuery.limit=b),e.startAt&&(t.structuredQuery.startAt={before:(M=e.startAt).inclusive,values:M.position}),e.endAt&&(t.structuredQuery.endAt={before:!(H=e.endAt).inclusive,values:H.position}),t}function dc(i){let e=ph(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let l=null;if(o>0){jn(1===o);const Te=t.from[0];Te.allDescendants?l=Te.collectionId:e=e.child(Te.collectionId)}let h=[];t.where&&(h=mh(t.where));let b=[];t.orderBy&&(b=t.orderBy.map(Te=>{return new Ru(d((Ye=Te).field),function(wt){switch(wt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ye.direction));var Ye}));let M=null;t.limit&&(M=function(Te){let Ye;return Ye="object"==typeof Te?Te.value:Te,As(Ye)?null:Ye}(t.limit));let H=null;var Te;t.startAt&&(H=new $a((Te=t.startAt).values||[],!!Te.before));let W=null;return t.endAt&&(W=function(Te){return new $a(Te.values||[],!Te.before)}(t.endAt)),nh(e,l,b,h,M,"F",H,W)}function mh(i){return i?void 0!==i.unaryFilter?[D(i)]:void 0!==i.fieldFilter?[p(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>mh(e)).reduce((e,t)=>e.concat(t)):Dn():[]}function Wf(i){return To[i]}function yh(i){return Cl[i]}function _(i){return{fieldPath:i.canonicalString()}}function d(i){return ts.fromServerFormat(i.fieldPath)}function p(i){return Ls.create(d(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dn()}}(i.fieldFilter.op),i.fieldFilter.value)}function D(i){switch(i.unaryFilter.op){case"IS_NAN":const e=d(i.unaryFilter.field);return Ls.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=d(i.unaryFilter.field);return Ls.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=d(i.unaryFilter.field);return Ls.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=d(i.unaryFilter.field);return Ls.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Dn()}}function U(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function re(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Je(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=dn(e)),e=Rt(i.get(t),e);return dn(e)}function Rt(i,e){let t=e;const o=i.length;for(let l=0;l<o;l++){const h=i.charAt(l);switch(h){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=h}}return t}function dn(i){return i+"\x01\x01"}function ln(i){const e=i.length;if(jn(e>=2),2===e)return jn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Ur.emptyPath();const t=e-2,o=[];let l="";for(let h=0;h<e;){const b=i.indexOf("\x01",h);switch((b<0||b>t)&&Dn(),i.charAt(b+1)){case"\x01":const M=i.substring(h,b);let H;0===l.length?H=M:(l+=M,H=l,l=""),o.push(H);break;case"\x10":l+=i.substring(h,b),l+="\0";break;case"\x11":l+=i.substring(h,b+1);break;default:Dn()}h=b+2}return new Ur(o)}const Xn=["userId","batchId"];function $n(i,e){return[i,Je(e)]}function _s(i,e,t){return[i,Je(e),t]}const Vo={},Ha=["prefixPath","collectionGroup","readTime","documentId"],hd=["prefixPath","collectionGroup","documentId"],hc=["collectionGroup","readTime","prefixPath","documentId"],fc=["canonicalId","targetId"],pc=["targetId","path"],gc=["path","targetId"],qf=["collectionId","parent"],fu=["indexId","uid"],xl=["uid","sequenceNumber"],fd=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Yf=["indexId","uid","orderedDocumentKey"],Ml=["userId","collectionPath","documentId"],Kf=["userId","collectionPath","largestBatchId"],My=["userId","collectionGroup","largestBatchId"],jg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ry=[...jg,"documentOverlays"],Hg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Oy=[...Hg,"indexConfiguration","indexState","indexEntries"],Zf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Mt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Dn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Mt((o,l)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(o,l)},this.catchCallback=h=>{this.wrapFailure(t,h).next(o,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Mt?t:Mt.resolve(t)}catch(t){return Mt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Mt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Mt.reject(t)}static resolve(e){return new Mt((t,o)=>{t(e)})}static reject(e){return new Mt((t,o)=>{o(e)})}static waitFor(e){return new Mt((t,o)=>{let l=0,h=0,b=!1;e.forEach(M=>{++l,M.next(()=>{++h,b&&h===l&&t()},H=>o(H))}),b=!0,h===l&&t()})}static or(e){let t=Mt.resolve(!1);for(const o of e)t=t.next(l=>l?Mt.resolve(l):o());return t}static forEach(e,t){const o=[];return e.forEach((l,h)=>{o.push(t.call(this,l,h))}),this.waitFor(o)}}class mc{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new I,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new yc(e,t.error)):this.At.resolve()},this.transaction.onerror=o=>{const l=Qf(o.target.error);this.At.reject(new yc(e,l))}}static open(e,t,o,l){try{return new mc(t,e.transaction(l,o))}catch(h){throw new yc(t,h)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Qt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Rl(t)}}class ya{constructor(e,t,o){this.name=e,this.version=t,this.Pt=o,12.2===ya.Vt((0,Pe.z$)())&&wi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Qt("SimpleDb","Removing database:",e),Lu(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Pe.hl)())return!1;if(ya.St())return!0;const e=(0,Pe.z$)(),t=ya.Vt(e),o=0<t&&t<10,l=ya.Dt(e),h=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||h)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var t=this;return(0,_e.Z)(function*(){return t.db||(Qt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,l)=>{const h=indexedDB.open(t.name,t.version);h.onsuccess=b=>{o(b.target.result)},h.onblocked=()=>{l(new yc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=b=>{const M=b.target.error;l("VersionError"===M.name?new C(Tt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===M.name?new C(Tt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+M):new yc(e,M))},h.onupgradeneeded=b=>{Qt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',b.oldVersion),t.Pt.kt(b.target.result,h.transaction,b.oldVersion,t.version).next(()=>{Qt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=o=>t.Mt(o)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,l){var h=this;return(0,_e.Z)(function*(){const b="readonly"===t;let M=0;for(;;){++M;try{h.db=yield h.Nt(e);const H=mc.open(h.db,e,b?"readonly":"readwrite",o),W=l(H).next(Te=>(H.bt(),Te)).catch(Te=>(H.abort(Te),Mt.reject(Te))).toPromise();return W.catch(()=>{}),yield H.Rt,W}catch(H){const W="FirebaseError"!==H.name&&M<3;if(Qt("SimpleDb","Transaction failed with error:",H.message,"Retrying:",W),h.close(),!W)return Promise.reject(H)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Py{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Lu(this.Ft.delete())}}class yc extends C{constructor(e,t){super(Tt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Fu(i){return"IndexedDbTransactionError"===i.name}class Rl{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Qt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Qt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Lu(o)}add(e){return Qt("SimpleDb","ADD",this.store.name,e,e),Lu(this.store.add(e))}get(e){return Lu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Qt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Qt("SimpleDb","DELETE",this.store.name,e),Lu(this.store.delete(e))}count(){return Qt("SimpleDb","COUNT",this.store.name),Lu(this.store.count())}qt(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const l=this.cursor(o),h=[];return this.Kt(l,(b,M)=>{h.push(M)}).next(()=>h)}{const l=this.store.getAll(o.range);return new Mt((h,b)=>{l.onerror=M=>{b(M.target.error)},l.onsuccess=M=>{h(M.target.result)}})}}Gt(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new Mt((l,h)=>{o.onerror=b=>{h(b.target.error)},o.onsuccess=b=>{l(b.target.result)}})}Qt(e,t){Qt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.jt=!1;const l=this.cursor(o);return this.Kt(l,(h,b,M)=>M.delete())}Wt(e,t){let o;t?o=e:(o={},t=e);const l=this.cursor(o);return this.Kt(l,t)}zt(e){const t=this.cursor({});return new Mt((o,l)=>{t.onerror=h=>{const b=Qf(h.target.error);l(b)},t.onsuccess=h=>{const b=h.target.result;b?e(b.primaryKey,b.value).next(M=>{M?b.continue():o()}):o()}})}Kt(e,t){const o=[];return new Mt((l,h)=>{e.onerror=b=>{h(b.target.error)},e.onsuccess=b=>{const M=b.target.result;if(!M)return void l();const H=new Py(M),W=t(M.primaryKey,M.value,H);if(W instanceof Mt){const Te=W.catch(Ye=>(H.done(),Mt.reject(Ye)));o.push(Te)}H.isDone?l():null===H.Lt?M.continue():M.continue(H.Lt)}}).next(()=>Mt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Lu(i){return new Mt((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const l=Qf(o.target.error);t(l)}})}let Xf=!1;function Qf(i){const e=ya.Vt((0,Pe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new C("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Xf||(Xf=!0,setTimeout(()=>{throw o},0)),o}}return i}class pd extends vh{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Ks(i,e){const t=hn(i);return ya.xt(t.Ht,e)}class _h{constructor(e,t,o,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(e.key)&&oh(h,e,o[l])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&ah(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&ah(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const o=e.get(t.key),l=o;this.applyToLocalView(l),o.isValidDocument()||l.convertToNoDocument(Vn.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ai())}isEqual(e){return this.batchId===e.batchId&&Bi(this.mutations,e.mutations,(t,o)=>Jl(t,o))&&Bi(this.baseMutations,e.baseMutations,(t,o)=>Jl(t,o))}}class bh{constructor(e,t,o,l){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=l}static from(e,t,o){jn(e.mutations.length===o.length);let l=ic;const h=e.mutations;for(let b=0;b<h.length;b++)l=l.insert(h[b].key,o[b].version);return new bh(e,t,o,l)}}class Eh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ga{constructor(e,t,o,l,h=Vn.min(),b=Vn.min(),M=vs.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=M}withSequenceNumber(e){return new Ga(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Jf{constructor(e){this.Jt=e}}function gd(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:md(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Bo(l=i.Jt,(h=e).key),fields:h.data.value.mapValue.fields,updateTime:Tl(l,h.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:pu(e.version)};else{if(!e.isUnknownDocument())return Dn();o.unknownDocument={path:t.path.toArray(),version:pu(e.version)}}var l,h;return o}function md(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function pu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Bu(i){const e=new Zr(i.seconds,i.nanoseconds);return Vn.fromTimestamp(e)}function Vu(i,e){const t=(e.baseMutations||[]).map(h=>hu(i.Jt,h));for(let h=0;h<e.mutations.length-1;++h){const b=e.mutations[h];h+1<e.mutations.length&&void 0!==e.mutations[h+1].transform&&(b.updateTransforms=e.mutations[h+1].transform.fieldTransforms,e.mutations.splice(h+1,1),++h)}const o=e.mutations.map(h=>hu(i.Jt,h)),l=Zr.fromMillis(e.localWriteTimeMs);return new _h(e.batchId,l,t,o)}function gu(i){const e=Bu(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Bu(i.lastLimboFreeSnapshotVersion):Vn.min();let o;var l;return void 0!==i.query.documents?(jn(1===(l=i.query).documents.length),o=po(Ua(ph(l.documents[0])))):o=po(dc(i.query)),new Ga(o,i.targetId,0,i.lastListenSequenceNumber,e,t,vs.fromBase64String(i.resumeToken))}function Gg(i,e){const t=pu(e.snapshotVersion),o=pu(e.lastLimboFreeSnapshotVersion);let l;l=hl(e.target)?cd(i.Jt,e.target):dd(i.Jt,e.target);const h=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ga(e.target),readTime:t,resumeToken:h,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:l}}function Ih(i){const e=dc({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Zc(e,e.limit,"L"):e}function ep(i,e){return new Eh(e.largestBatchId,hu(i.Jt,e.overlayMutation))}function zg(i,e){const t=e.path.lastSegment();return[i,Je(e.path.popLast()),t]}class Wg{getBundleMetadata(e,t){return Dh(e).get(t).next(o=>{if(o)return{id:(l=o).bundleId,createTime:Bu(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return Dh(e).put({bundleId:(o=t).id,createTime:pu(Ds(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return tp(e).get(t).next(o=>{if(o)return{name:(l=o).name,query:Ih(l.bundledQuery),readTime:Bu(l.readTime)};var l})}saveNamedQuery(e,t){return tp(e).put({name:(o=t).name,readTime:pu(Ds(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Dh(i){return Ks(i,"bundles")}function tp(i){return Ks(i,"namedQueries")}class qg{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new qg(e,t.uid||"")}getOverlay(e,t){return vc(e).get(zg(this.userId,t)).next(o=>o?ep(this.M,o):null)}saveOverlays(e,t,o){const l=[];return o.forEach((h,b)=>{const M=new Eh(t,b);l.push(this.Xt(e,M))}),Mt.waitFor(l)}removeOverlaysForBatchId(e,t,o){const l=new Set;t.forEach(b=>l.add(Je(b.getCollectionPath())));const h=[];return l.forEach(b=>{const M=IDBKeyRange.bound([this.userId,b,o],[this.userId,b,o+1],!1,!0);h.push(vc(e).Qt("collectionPathOverlayIndex",M))}),Mt.waitFor(h)}getOverlaysForCollection(e,t,o){const l=Il(),h=Je(t),b=IDBKeyRange.bound([this.userId,h,o],[this.userId,h,Number.POSITIVE_INFINITY],!0);return vc(e).qt("collectionPathOverlayIndex",b).next(M=>{for(const H of M){const W=ep(this.M,H);l.set(W.getKey(),W)}return l})}getOverlaysForCollectionGroup(e,t,o,l){const h=Il();let b;const M=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return vc(e).Wt({index:"collectionGroupOverlayIndex",range:M},(H,W,Te)=>{const Ye=ep(this.M,W);h.size()<l||Ye.largestBatchId===b?(h.set(Ye.getKey(),Ye),b=Ye.largestBatchId):Te.done()}).next(()=>h)}Xt(e,t){return vc(e).put(function(o,l,h){const[b,M,H]=zg(l,h.mutation.key);return{userId:l,collectionPath:M,documentId:H,collectionGroup:h.mutation.key.getCollectionGroup(),largestBatchId:h.largestBatchId,overlayMutation:Ao(o.Jt,h.mutation)}}(this.M,this.userId,t))}}function vc(i){return Ks(i,"documentOverlays")}class Ol{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Vi(e.integerValue));else if("doubleValue"in e){const o=Vi(e.doubleValue);isNaN(o)?this.ne(t,13):(this.ne(t,15),Po(o)?t.se(0):t.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(t,20),"string"==typeof o?t.ie(o):(t.ie(`${o.seconds||""}`),t.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Di(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(t,45),t.se(o.latitude||0),t.se(o.longitude||0)}else"mapValue"in e?O(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Dn()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const o=e.fields||{};this.ne(t,55);for(const l of Object.keys(o))this.re(l,t),this.te(o[l],t)}he(e,t){const o=e.values||[];this.ne(t,50);for(const l of o)this.te(l,t)}ae(e,t){this.ne(t,37),sn.fromName(e).path.forEach(o=>{this.ne(t,60),this.le(o,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Yg(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Kg(i){const e=64-function(t){let o=0;for(let l=0;l<8;++l){const h=Yg(255&t[l]);if(o+=h,8!==h)break}return o}(i);return Math.ceil(e/8)}Ol.fe=new Ol;class ky{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this._e(o.value),o=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.ge(o.value),o=t.next();this.ye()}pe(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(t<"\ud800"||"\udbff"<t)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const l=t.codePointAt(0);this._e(240|l>>>18),this._e(128|63&l>>>12),this._e(128|63&l>>>6),this._e(128|63&l)}}this.we()}Ie(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const l=t.codePointAt(0);this.ge(240|l>>>18),this.ge(128|63&l>>>12),this.ge(128|63&l>>>6),this.ge(128|63&l)}}this.ye()}Te(e){const t=this.Ee(e),o=Kg(t);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=255&t[l]}Re(e){const t=this.Ee(e),o=Kg(t);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let l=t.length-o;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(l){const h=new DataView(new ArrayBuffer(8));return h.setFloat64(0,l,!1),new Uint8Array(h.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let l=1;l<t.length;++l)t[l]^=o?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const l=new Uint8Array(o);l.set(this.buffer),this.buffer=l}}class va{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class Ny{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class _c{constructor(){this.De=new ky,this.Ce=new va(this.De),this.xe=new Ny(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Pl{constructor(e,t,o,l){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=l}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Pl(this.indexId,this.documentKey,this.arrayValue,o)}}function kl(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Zg(i.arrayValue,e.arrayValue),0!==t?t:(t=Zg(i.directionalValue,e.directionalValue),0!==t?t:sn.comparator(i.documentKey,e.documentKey)))}function Zg(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class Fy{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const o=t;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const t=lr(e);if(void 0!==t&&!this.Be(t))return!1;const o=xr(e);let l=0,h=0;for(;l<o.length&&this.Be(o[l]);++l);if(l===o.length)return!0;if(void 0!==this.Fe){const b=o[l];if(!this.Le(this.Fe,b)||!this.Ue(this.Me[h++],b))return!1;++l}for(;l<o.length;++l){const b=o[l];if(h>=this.Me.length||!this.Ue(this.Me[h++],b))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Xg{constructor(){this.qe=new np}addToCollectionParentIndex(e,t){return this.qe.add(t),Mt.resolve()}getCollectionParents(e,t){return Mt.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Mt.resolve()}deleteFieldIndex(e,t){return Mt.resolve()}getDocumentsMatchingTarget(e,t){return Mt.resolve(null)}getIndexType(e,t){return Mt.resolve(0)}getFieldIndexes(e,t){return Mt.resolve([])}getNextCollectionGroupToUpdate(e){return Mt.resolve(null)}getMinOffset(e,t){return Mt.resolve(ni.min())}updateCollectionGroup(e,t,o){return Mt.resolve()}updateIndexEntries(e,t){return Mt.resolve()}}class np{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t]||new gi(Ur.comparator),h=!l.has(o);return this.index[t]=l.add(o),h}has(e){const t=e.lastSegment(),o=e.popLast(),l=this.index[t];return l&&l.has(o)}getEntries(e){return(this.index[e]||new gi(Ur.comparator)).toArray()}}const Ch=new Uint8Array(0);class Ly{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new np,this.Ge=new Ci(o=>ga(o),(o,l)=>Mu(o,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const o=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const h={collectionId:o,parent:Je(l)};return Ir(e).put(h)}return Mt.resolve()}getCollectionParents(e,t){const o=[],l=IDBKeyRange.bound([t,""],[ws(t),""],!1,!0);return Ir(e).qt(l).next(h=>{for(const b of h){if(b.collectionId!==t)break;o.push(ln(b.parent))}return o})}addFieldIndex(e,t){const o=yd(e),l={indexId:(h=t).indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(b=>[b.fieldPath.canonicalString(),b.kind])};var h;return delete l.indexId,o.add(l).next()}deleteFieldIndex(e,t){const o=yd(e),l=vd(e),h=bc(e);return o.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>h.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=bc(e);let l=!0;const h=new Map;return Mt.forEach(this.Qe(t),b=>this.je(e,b).next(M=>{l&&(l=!!M),h.set(b,M)})).next(()=>{if(l){let b=ai();const M=[];return Mt.forEach(h,(H,W)=>{var Te;Qt("IndexedDbIndexManager",`Using index ${Te=H,`id=${Te.indexId}|cg=${Te.collectionGroup}|f=${Te.fields.map(Ti=>`${Ti.fieldPath}:${Ti.kind}`).join(",")}`} to execute ${ga(t)}`);const Ye=function(Ti,cs){const Ki=lr(cs);if(void 0===Ki)return null;for(const ds of iu(Ti,Ki.fieldPath))switch(ds.op){case"array-contains-any":return ds.value.arrayValue.values||[];case"array-contains":return[ds.value]}return null}(W,H),wt=function(Ti,cs){const Ki=new Map;for(const ds of xr(cs))for(const no of iu(Ti,ds.fieldPath))switch(no.op){case"==":case"in":Ki.set(ds.fieldPath.canonicalString(),no.value);break;case"not-in":case"!=":return Ki.set(ds.fieldPath.canonicalString(),no.value),Array.from(Ki.values())}return null}(W,H),Vt=function(Ti,cs){const Ki=[];let ds=!0;for(const no of xr(cs)){const Iu=0===no.kind?su(Ti,no.fieldPath,Ti.startAt):Kc(Ti,no.fieldPath,Ti.startAt);Ki.push(Iu.value),ds&&(ds=Iu.inclusive)}return new $a(Ki,ds)}(W,H),Gt=function(Ti,cs){const Ki=[];let ds=!0;for(const no of xr(cs)){const Iu=0===no.kind?Kc(Ti,no.fieldPath,Ti.endAt):su(Ti,no.fieldPath,Ti.endAt);Ki.push(Iu.value),ds&&(ds=Iu.inclusive)}return new $a(Ki,ds)}(W,H),Mn=this.We(H,W,Vt),pr=this.We(H,W,Gt),is=this.ze(H,W,wt),Rs=this.He(H.indexId,Ye,Mn,Vt.inclusive,pr,Gt.inclusive,is);return Mt.forEach(Rs,Ti=>o.Gt(Ti,t.limit).next(cs=>{cs.forEach(Ki=>{const ds=sn.fromSegments(Ki.documentKey);b.has(ds)||(b=b.add(ds),M.push(ds))})}))}).next(()=>M)}return Mt.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,o,l,h,b,M){const H=(null!=t?t.length:1)*Math.max(o.length,h.length),W=H/(null!=t?t.length:1),Te=[];for(let Ye=0;Ye<H;++Ye){const wt=t?this.Je(t[Ye/W]):Ch,Vt=this.Ye(e,wt,o[Ye%W],l),Gt=this.Xe(e,wt,h[Ye%W],b),Mn=M.map(pr=>this.Ye(e,wt,pr,!0));Te.push(...this.createRange(Vt,Gt,Mn))}return Te}Ye(e,t,o,l){const h=new Pl(e,sn.empty(),t,o);return l?h:h.ke()}Xe(e,t,o,l){const h=new Pl(e,sn.empty(),t,o);return l?h.ke():h}je(e,t){const o=new Fy(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(h=>{let b=null;for(const M of h)o.$e(M)&&(!b||M.fields.length>b.fields.length)&&(b=M);return b})}getIndexType(e,t){let o=2;return Mt.forEach(this.Qe(t),l=>this.je(e,l).next(h=>{h?0!==o&&h.fields.length<function(b){let M=new gi(ts.comparator),H=!1;for(const W of b.filters){const Te=W;Te.field.isKeyField()||("array-contains"===Te.op||"array-contains-any"===Te.op?H=!0:M=M.add(Te.field))}for(const W of b.orderBy)W.field.isKeyField()||(M=M.add(W.field));return M.size+(H?1:0)}(l)&&(o=1):o=0})).next(()=>o)}Ze(e,t){const o=new _c;for(const l of xr(e)){const h=t.data.field(l.fieldPath);if(null==h)return null;const b=o.Ne(l.kind);Ol.fe.Zt(h,b)}return o.Se()}Je(e){const t=new _c;return Ol.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const o=new _c;return Ol.fe.Zt(ho(this.databaseId,t),o.Ne(function(l){const h=xr(l);return 0===h.length?0:h[h.length-1].kind}(e))),o.Se()}ze(e,t,o){if(null===o)return[];let l=[];l.push(new _c);let h=0;for(const b of xr(e)){const M=o[h++];for(const H of l)if(this.en(t,b.fieldPath)&&Su(M))l=this.nn(l,b,M);else{const W=H.Ne(b.kind);Ol.fe.Zt(M,W)}}return this.sn(l)}We(e,t,o){return this.ze(e,t,o.position)}sn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Se();return t}nn(e,t,o){const l=[...e],h=[];for(const b of o.arrayValue.values||[])for(const M of l){const H=new _c;H.seed(M.Se()),Ol.fe.Zt(b,H.Ne(t.kind)),h.push(H)}return h}en(e,t){return!!e.filters.find(o=>o instanceof Ls&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=yd(e),l=vd(e);return(t?o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.qt()).next(h=>{const b=[];return Mt.forEach(h,M=>l.get([M.indexId,this.uid]).next(H=>{b.push(function(W,Te){const Ye=Te?new ns(Te.sequenceNumber,new ni(Bu(Te.readTime),new sn(ln(Te.documentKey)),Te.largestBatchId)):ns.empty(),wt=W.fields.map(([Vt,Gt])=>new cr(ts.fromServerFormat(Vt),Gt));return new nr(W.indexId,W.collectionGroup,wt,Ye)}(M,H))})).next(()=>b)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,l)=>{const h=o.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==h?h:Hn(o.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const l=yd(e),h=vd(e);return this.rn(e).next(b=>l.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(M=>Mt.forEach(M,H=>{return h.put({indexId:H.indexId,uid:this.user.uid||"",sequenceNumber:b,readTime:pu((wt=o).readTime),documentKey:Je(wt.documentKey.path),largestBatchId:wt.largestBatchId});var wt})))}updateIndexEntries(e,t){const o=new Map;return Mt.forEach(t,(l,h)=>{const b=o.get(l.collectionGroup);return(b?Mt.resolve(b):this.getFieldIndexes(e,l.collectionGroup)).next(M=>(o.set(l.collectionGroup,M),Mt.forEach(M,H=>this.on(e,l,H).next(W=>{const Te=this.un(h,H);return W.isEqual(Te)?Mt.resolve():this.an(e,h,H,W,Te)}))))})}cn(e,t,o,l){return bc(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.tn(o,t.key),documentKey:t.key.path.toArray()})}hn(e,t,o,l){return bc(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.tn(o,t.key),t.key.path.toArray()])}on(e,t,o){const l=bc(e);let h=new gi(kl);return l.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.tn(o,t)])},(b,M)=>{h=h.add(new Pl(o.indexId,t,M.arrayValue,M.directionalValue))}).next(()=>h)}un(e,t){let o=new gi(kl);const l=this.Ze(t,e);if(null==l)return o;const h=lr(t);if(null!=h){const b=e.data.field(h.fieldPath);if(Su(b))for(const M of b.arrayValue.values||[])o=o.add(new Pl(t.indexId,e.key,this.Je(M),l))}else o=o.add(new Pl(t.indexId,e.key,Ch,l));return o}an(e,t,o,l,h){Qt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const b=[];return function(M,H,W,Te,Ye){const wt=M.getIterator(),Vt=H.getIterator();let Gt=tu(wt),Mn=tu(Vt);for(;Gt||Mn;){let pr=!1,is=!1;if(Gt&&Mn){const Rs=W(Gt,Mn);Rs<0?is=!0:Rs>0&&(pr=!0)}else null!=Gt?is=!0:pr=!0;pr?(Te(Mn),Mn=tu(Vt)):is?(Ye(Gt),Gt=tu(wt)):(Gt=tu(wt),Mn=tu(Vt))}}(l,h,kl,M=>{b.push(this.cn(e,t,o,M))},M=>{b.push(this.hn(e,t,o,M))}),Mt.waitFor(b)}rn(e){let t=1;return vd(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,l,h)=>{h.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((b,M)=>kl(b,M)).filter((b,M,H)=>!M||0!==kl(b,H[M-1]));const l=[];l.push(e);for(const b of o){const M=kl(b,e),H=kl(b,t);if(0===M)l[0]=e.ke();else if(M>0&&H<0)l.push(b),l.push(b.ke());else if(H>0)break}l.push(t);const h=[];for(let b=0;b<l.length;b+=2)h.push(IDBKeyRange.bound([l[b].indexId,this.uid,l[b].arrayValue,l[b].directionalValue,Ch,[]],[l[b+1].indexId,this.uid,l[b+1].arrayValue,l[b+1].directionalValue,Ch,[]]));return h}getMinOffset(e,t){let o;return Mt.forEach(this.Qe(t),l=>this.je(e,l).next(h=>{h?(!o||pa(h.indexState.offset,o)<0)&&(o=h.indexState.offset):o=ni.min()})).next(()=>o)}}function Ir(i){return Ks(i,"collectionParents")}function bc(i){return Ks(i,"indexEntries")}function yd(i){return Ks(i,"indexConfiguration")}function vd(i){return Ks(i,"indexState")}const _d={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class rs{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new rs(e,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rp(i,e,t){const o=i.store("mutations"),l=i.store("documentMutations"),h=[],b=IDBKeyRange.only(t.batchId);let M=0;const H=o.Wt({range:b},(Te,Ye,wt)=>(M++,wt.delete()));h.push(H.next(()=>{jn(1===M)}));const W=[];for(const Te of t.mutations){const Ye=_s(e,Te.key.path,t.batchId);h.push(l.delete(Ye)),W.push(Te.key)}return Mt.waitFor(h).next(()=>W)}function Th(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Dn();e=i.noDocument}return JSON.stringify(e).length}rs.DEFAULT_COLLECTION_PERCENTILE=10,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rs.DEFAULT=new rs(41943040,rs.DEFAULT_COLLECTION_PERCENTILE,rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rs.DISABLED=new rs(-1,0,0);class bd{constructor(e,t,o,l){this.userId=e,this.M=t,this.indexManager=o,this.referenceDelegate=l,this.ln={}}static Yt(e,t,o,l){jn(""!==e.uid);const h=e.isAuthenticated()?e.uid:"";return new bd(h,t,o,l)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wa(e).Wt({index:"userMutationsIndex",range:o},(l,h,b)=>{t=!1,b.done()}).next(()=>t)}addMutationBatch(e,t,o,l){const h=Nl(e),b=Wa(e);return b.add({}).next(M=>{jn("number"==typeof M);const H=new _h(M,t,o,l),W=function(wt,Vt,Gt){const Mn=Gt.baseMutations.map(is=>Ao(wt.Jt,is)),pr=Gt.mutations.map(is=>Ao(wt.Jt,is));return{userId:Vt,batchId:Gt.batchId,localWriteTimeMs:Gt.localWriteTime.toMillis(),baseMutations:Mn,mutations:pr}}(this.M,this.userId,H),Te=[];let Ye=new gi((wt,Vt)=>Hn(wt.canonicalString(),Vt.canonicalString()));for(const wt of l){const Vt=_s(this.userId,wt.key.path,M);Ye=Ye.add(wt.key.path.popLast()),Te.push(b.put(W)),Te.push(h.put(Vt,Vo))}return Ye.forEach(wt=>{Te.push(this.indexManager.addToCollectionParentIndex(e,wt))}),e.addOnCommittedListener(()=>{this.ln[M]=H.keys()}),Mt.waitFor(Te).next(()=>H)})}lookupMutationBatch(e,t){return Wa(e).get(t).next(o=>o?(jn(o.userId===this.userId),Vu(this.M,o)):null)}fn(e,t){return this.ln[t]?Mt.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const l=o.keys();return this.ln[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,l=IDBKeyRange.lowerBound([this.userId,o]);let h=null;return Wa(e).Wt({index:"userMutationsIndex",range:l},(b,M,H)=>{M.userId===this.userId&&(jn(M.batchId>=o),h=Vu(this.M,M)),H.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Wa(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(l,h,b)=>{o=h.batchId,b.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wa(e).qt("userMutationsIndex",t).next(o=>o.map(l=>Vu(this.M,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=$n(this.userId,t.path),l=IDBKeyRange.lowerBound(o),h=[];return Nl(e).Wt({range:l},(b,M,H)=>{const[W,Te,Ye]=b,wt=ln(Te);if(W===this.userId&&t.path.isEqual(wt))return Wa(e).get(Ye).next(Vt=>{if(!Vt)throw Dn();jn(Vt.userId===this.userId),h.push(Vu(this.M,Vt))});H.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new gi(Hn);const l=[];return t.forEach(h=>{const b=$n(this.userId,h.path),M=IDBKeyRange.lowerBound(b),H=Nl(e).Wt({range:M},(W,Te,Ye)=>{const[wt,Vt,Gt]=W,Mn=ln(Vt);wt===this.userId&&h.path.isEqual(Mn)?o=o.add(Gt):Ye.done()});l.push(H)}),Mt.waitFor(l).next(()=>this.dn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1,h=$n(this.userId,o),b=IDBKeyRange.lowerBound(h);let M=new gi(Hn);return Nl(e).Wt({range:b},(H,W,Te)=>{const[Ye,wt,Vt]=H,Gt=ln(wt);Ye===this.userId&&o.isPrefixOf(Gt)?Gt.length===l&&(M=M.add(Vt)):Te.done()}).next(()=>this.dn(e,M))}dn(e,t){const o=[],l=[];return t.forEach(h=>{l.push(Wa(e).get(h).next(b=>{if(null===b)throw Dn();jn(b.userId===this.userId),o.push(Vu(this.M,b))}))}),Mt.waitFor(l).next(()=>o)}removeMutationBatch(e,t){return rp(e.Ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Mt.forEach(o,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Mt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),l=[];return Nl(e).Wt({range:o},(h,b,M)=>{if(h[0]===this.userId){const H=ln(h[1]);l.push(H)}else M.done()}).next(()=>{jn(0===l.length)})})}containsKey(e,t){return za(e,this.userId,t)}wn(e){return Sh(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function za(i,e,t){const o=$n(e,t.path),l=o[1],h=IDBKeyRange.lowerBound(o);let b=!1;return Nl(i).Wt({range:h,jt:!0},(M,H,W)=>{const[Te,Ye,wt]=M;Te===e&&Ye===l&&(b=!0),W.done()}).next(()=>b)}function Wa(i){return Ks(i,"mutations")}function Nl(i){return Ks(i,"documentMutations")}function Sh(i){return Ks(i,"mutationQueues")}class Ec{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Ec(0)}static yn(){return new Ec(-1)}}class Qg{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const o=new Ec(t.highestTargetId);return t.highestTargetId=o.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Vn.fromTimestamp(new Zr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.pn(e).next(l=>(l.highestListenSequenceNumber=t,o&&(l.lastRemoteSnapshotVersion=o.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.In(e,l)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(o=>(o.targetCount+=1,this.En(t,o),this.In(e,o))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ed(e).delete(t.targetId)).next(()=>this.pn(e)).next(o=>(jn(o.targetCount>0),o.targetCount-=1,this.In(e,o)))}removeTargets(e,t,o){let l=0;const h=[];return Ed(e).Wt((b,M)=>{const H=gu(M);H.sequenceNumber<=t&&null===o.get(H.targetId)&&(l++,h.push(this.removeTargetData(e,H)))}).next(()=>Mt.waitFor(h)).next(()=>l)}forEachTarget(e,t){return Ed(e).Wt((o,l)=>{const h=gu(l);t(h)})}pn(e){return wd(e).get("targetGlobalKey").next(t=>(jn(null!==t),t))}In(e,t){return wd(e).put("targetGlobalKey",t)}Tn(e,t){return Ed(e).put(Gg(this.M,t))}En(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=ga(t),l=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let h=null;return Ed(e).Wt({range:l,index:"queryTargetsIndex"},(b,M,H)=>{const W=gu(M);Mu(t,W.target)&&(h=W,H.done())}).next(()=>h)}addMatchingKeys(e,t,o){const l=[],h=_a(e);return t.forEach(b=>{const M=Je(b.path);l.push(h.put({targetId:o,path:M})),l.push(this.referenceDelegate.addReference(e,o,b))}),Mt.waitFor(l)}removeMatchingKeys(e,t,o){const l=_a(e);return Mt.forEach(t,h=>{const b=Je(h.path);return Mt.waitFor([l.delete([o,b]),this.referenceDelegate.removeReference(e,o,h)])})}removeMatchingKeysForTargetId(e,t){const o=_a(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(l)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),l=_a(e);let h=ai();return l.Wt({range:o,jt:!0},(b,M,H)=>{const W=ln(b[1]),Te=new sn(W);h=h.add(Te)}).next(()=>h)}containsKey(e,t){const o=Je(t.path),l=IDBKeyRange.bound([o],[ws(o)],!1,!0);let h=0;return _a(e).Wt({index:"documentTargetsIndex",jt:!0,range:l},([b,M],H,W)=>{0!==b&&(h++,W.done())}).next(()=>h>0)}Et(e,t){return Ed(e).get(t).next(o=>o?gu(o):null)}}function Ed(i){return Ks(i,"targets")}function wd(i){return Ks(i,"targetGlobal")}function _a(i){return Ks(i,"targetDocuments")}function mu(i){return Id.apply(this,arguments)}function Id(){return Id=(0,_e.Z)(function*(i){if(i.code!==Tt.FAILED_PRECONDITION||i.message!==Zf)throw i;Qt("LocalStore","Unexpectedly lost primary lease")}),Id.apply(this,arguments)}function Ah([i,e],[t,o]){const l=Hn(i,t);return 0===l?Hn(e,o):l}class U_{constructor(e){this.An=e,this.buffer=new gi(Ah),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Ah(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class By{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const o=this.Vn?3e5:6e4;Qt("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,_e.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(l){Fu(l)?Qt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield mu(l)}yield t.Sn(e)}))}}class Vy{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return Mt.resolve(Cn.A);const o=new U_(t);return this.Dn.forEachTarget(e,l=>o.Pn(l.sequenceNumber)).next(()=>this.Dn.xn(e,l=>o.Pn(l))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Dn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Qt("LruGarbageCollector","Garbage collection skipped; disabled"),Mt.resolve(_d)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Qt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_d):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let o,l,h,b,M,H,W;const Te=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ye=>(Ye>this.params.maximumSequenceNumbersToCollect?(Qt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ye}`),l=this.params.maximumSequenceNumbersToCollect):l=Ye,b=Date.now(),this.nthSequenceNumber(e,l))).next(Ye=>(o=Ye,M=Date.now(),this.removeTargets(e,o,t))).next(Ye=>(h=Ye,H=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ye=>(W=Date.now(),ca()<=dt.in.DEBUG&&Qt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${b-Te}ms\n\tDetermined least recently used ${l} in `+(M-b)+`ms\n\tRemoved ${h} targets in `+(H-M)+`ms\n\tRemoved ${Ye} documents in `+(W-H)+`ms\nTotal Duration: ${W-Te}ms`),Mt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:Ye})))}}class $y{constructor(e,t){this.db=e,this.garbageCollector=new Vy(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(l=>o+l))}kn(e){let t=0;return this.xn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(o,l)=>t(l))}addReference(e,t,o){return xh(e,o)}removeReference(e,t,o){return xh(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return xh(e,t)}On(e,t){return function(o,l){let h=!1;return Sh(o).zt(b=>za(o,b,l).next(M=>(M&&(h=!0),Mt.resolve(!M)))).next(()=>h)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let h=0;return this.Mn(e,(b,M)=>{if(M<=t){const H=this.On(e,b).next(W=>{if(!W)return h++,o.getEntry(e,b).next(()=>(o.removeEntry(b,Vn.min()),_a(e).delete([0,Je(b.path)])))});l.push(H)}}).next(()=>Mt.waitFor(l)).next(()=>o.apply(e)).next(()=>h)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return xh(e,t)}Mn(e,t){const o=_a(e);let l,h=Cn.A;return o.Wt({index:"documentTargetsIndex"},([b,M],{path:H,sequenceNumber:W})=>{0===b?(h!==Cn.A&&t(new sn(ln(l)),h),h=W,l=H):h=Cn.A}).next(()=>{h!==Cn.A&&t(new sn(ln(l)),h)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function xh(i,e){return _a(i).put((o=i.currentSequenceNumber,{targetId:0,path:Je(e.path),sequenceNumber:o}));var o}class ip{constructor(){this.changes=new Ci(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Mt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class j_{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return $u(e).put(o)}removeEntry(e,t,o){return $u(e).delete(function(l,h){const b=l.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],md(h),b[b.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.Fn(e,o)))}getEntry(e,t){let o=nn.newInvalidDocument(t);return $u(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(wc(t))},(l,h)=>{o=this.$n(t,h)}).next(()=>o)}Bn(e,t){let o={size:0,document:nn.newInvalidDocument(t)};return $u(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(wc(t))},(l,h)=>{o={document:this.$n(t,h),size:Th(h)}}).next(()=>o)}getEntries(e,t){let o=Lo();return this.Ln(e,t,(l,h)=>{const b=this.$n(l,h);o=o.insert(l,b)}).next(()=>o)}Un(e,t){let o=Lo(),l=new oi(sn.comparator);return this.Ln(e,t,(h,b)=>{const M=this.$n(h,b);o=o.insert(h,M),l=l.insert(h,Th(b))}).next(()=>({documents:o,qn:l}))}Ln(e,t,o){if(t.isEmpty())return Mt.resolve();let l=new gi(Mh);t.forEach(H=>l=l.add(H));const h=IDBKeyRange.bound(wc(l.first()),wc(l.last())),b=l.getIterator();let M=b.getNext();return $u(e).Wt({index:"documentKeyIndex",range:h},(H,W,Te)=>{const Ye=sn.fromSegments([...W.prefixPath,W.collectionGroup,W.documentId]);for(;M&&Mh(M,Ye)<0;)o(M,null),M=b.getNext();M&&M.isEqual(Ye)&&(o(M,W),M=b.hasNext()?b.getNext():null),M?Te.Ut(wc(M)):Te.done()}).next(()=>{for(;M;)o(M,null),M=b.hasNext()?b.getNext():null})}getAllFromCollection(e,t,o){const l=[t.popLast().toArray(),t.lastSegment(),md(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],h=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $u(e).qt(IDBKeyRange.bound(l,h,!0)).next(b=>{let M=Lo();for(const H of b){const W=this.$n(sn.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);M=M.insert(W.key,W)}return M})}getAllFromCollectionGroup(e,t,o,l){let h=Lo();const b=Jg(t,o),M=Jg(t,ni.max());return $u(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(b,M,!0)},(H,W,Te)=>{const Ye=this.$n(sn.fromSegments(W.prefixPath.concat(W.collectionGroup,W.documentId)),W);h=h.insert(Ye.key,Ye),h.size===l&&Te.done()}).next(()=>h)}newChangeBuffer(e){return new Uy(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return jy(e).get("remoteDocumentGlobalKey").next(t=>(jn(!!t),t))}Fn(e,t){return jy(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const o=function wh(i,e){let t;if(e.document)t=cc(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=sn.fromSegments(e.noDocument.path),l=Bu(e.noDocument.readTime);t=nn.newNoDocument(o,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Dn();{const o=sn.fromSegments(e.unknownDocument.path),l=Bu(e.unknownDocument.version);t=nn.newUnknownDocument(o,l)}}return e.readTime&&t.setReadTime(function(o){const l=new Zr(o[0],o[1]);return Vn.fromTimestamp(l)}(e.readTime)),t}(this.M,t);if(!o.isNoDocument()||!o.version.isEqual(Vn.min()))return o}return nn.newInvalidDocument(e)}}class Uy extends ip{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Ci(o=>o.toString(),(o,l)=>o.isEqual(l))}applyChanges(e){const t=[];let o=0,l=new gi((h,b)=>Hn(h.canonicalString(),b.canonicalString()));return this.changes.forEach((h,b)=>{const M=this.Gn.get(h);if(t.push(this.Kn.removeEntry(e,h,M.readTime)),b.isValidDocument()){const H=gd(this.Kn.M,b);l=l.add(h.path.popLast()),o+=Th(H)-M.size,t.push(this.Kn.addEntry(e,h,H))}else if(o-=M.size,this.trackRemovals){const H=gd(this.Kn.M,b.convertToNoDocument(Vn.min()));t.push(this.Kn.addEntry(e,h,H))}}),l.forEach(h=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,h))}),t.push(this.Kn.updateMetadata(e,o)),Mt.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(o=>(this.Gn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:o,qn:l})=>(l.forEach((h,b)=>{this.Gn.set(h,{size:b,readTime:o.get(h).readTime})}),o))}}function jy(i){return Ks(i,"remoteDocumentGlobal")}function $u(i){return Ks(i,"remoteDocumentsV14")}function wc(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Jg(i,e){const t=e.documentKey.path.toArray();return[i,md(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Mh(i,e){const t=i.path.toArray(),o=e.path.toArray();let l=0;for(let h=0;h<t.length-2&&h<o.length-2;++h)if(l=Hn(t[h],o[h]),l)return l;return l=Hn(t.length,o.length),l||(l=Hn(t[t.length-2],o[o.length-2]),l||Hn(t[t.length-1],o[o.length-1]))}class H_{constructor(e){this.M=e}kt(e,t,o,l){const h=new mc("createOrUpgrade",t);var M;o<1&&l>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xn,{unique:!0}),M.createObjectStore("documentMutations"),Hy(e),function(M){M.createObjectStore("remoteDocuments")}(e));let b=Mt.resolve();return o<3&&l>=3&&(0!==o&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),Hy(e)),b=b.next(()=>function(M){const H=M.store("targetGlobal"),W={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vn.min().toTimestamp(),targetCount:0};return H.put("targetGlobalKey",W)}(h))),o<4&&l>=4&&(0!==o&&(b=b.next(()=>function(M,H){return H.store("mutations").qt().next(W=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xn,{unique:!0});const Te=H.store("mutations"),Ye=W.map(wt=>Te.put(wt));return Mt.waitFor(Ye)})}(e,h))),b=b.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&l>=5&&(b=b.next(()=>this.Qn(h))),o<6&&l>=6&&(b=b.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.jn(h)))),o<7&&l>=7&&(b=b.next(()=>this.Wn(h))),o<8&&l>=8&&(b=b.next(()=>this.zn(e,h))),o<9&&l>=9&&(b=b.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&l>=10&&(b=b.next(()=>this.Hn(h))),o<11&&l>=11&&(b=b.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&l>=12&&(b=b.next(()=>{!function(M){const H=M.createObjectStore("documentOverlays",{keyPath:Ml});H.createIndex("collectionPathOverlayIndex",Kf,{unique:!1}),H.createIndex("collectionGroupOverlayIndex",My,{unique:!1})}(e)})),o<13&&l>=13&&(b=b.next(()=>function(M){const H=M.createObjectStore("remoteDocumentsV14",{keyPath:Ha});H.createIndex("documentKeyIndex",hd),H.createIndex("collectionGroupIndex",hc)}(e)).next(()=>this.Jn(e,h)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&l>=14&&(b=b.next(()=>{!function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:fu}).createIndex("sequenceNumberIndex",xl,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:fd}).createIndex("documentKeyIndex",Yf,{unique:!1})}(e)})),b}jn(e){let t=0;return e.store("remoteDocuments").Wt((o,l)=>{t+=Th(l)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Qn(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.qt().next(l=>Mt.forEach(l,h=>{const b=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",b).next(M=>Mt.forEach(M,H=>{jn(H.userId===h.userId);const W=Vu(this.M,H);return rp(e,h.userId,W).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const h=[];return o.Wt((b,M)=>{const H=new Ur(b),W=[0,Je(H)];h.push(t.get(W).next(Te=>Te?Mt.resolve():t.put({targetId:0,path:Je(H),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>Mt.waitFor(h))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:qf});const o=t.store("collectionParents"),l=new np,h=b=>{if(l.add(b)){const M=b.lastSegment(),H=b.popLast();return o.put({collectionId:M,parent:Je(H)})}};return t.store("remoteDocuments").Wt({jt:!0},(b,M)=>{const H=new Ur(b);return h(H.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([b,M,H],W)=>{const Te=ln(M);return h(Te.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((o,l)=>{const h=gu(l),b=Gg(this.M,h);return t.put(b)})}Jn(e,t){const o=t.store("remoteDocuments"),l=[];return o.Wt((h,b)=>{const M=t.store("remoteDocumentsV14"),H=(W=b,W.document?new sn(Ur.fromString(W.document.name).popFirst(5)):W.noDocument?sn.fromSegments(W.noDocument.path):W.unknownDocument?sn.fromSegments(W.unknownDocument.path):Dn()).path.toArray();var W;const Te={prefixPath:H.slice(0,H.length-2),collectionGroup:H[H.length-2],documentId:H[H.length-1],readTime:b.readTime||[0,0],unknownDocument:b.unknownDocument,noDocument:b.noDocument,document:b.document,hasCommittedMutations:!!b.hasCommittedMutations};l.push(M.put(Te))}).next(()=>Mt.waitFor(l))}}function Hy(i){i.createObjectStore("targetDocuments",{keyPath:pc}).createIndex("documentTargetsIndex",gc,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",fc,{unique:!0}),i.createObjectStore("targetGlobal")}const em="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class tm{constructor(e,t,o,l,h,b,M,H,W,Te,Ye=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Yn=h,this.window=b,this.document=M,this.Xn=W,this.Zn=Te,this.ts=Ye,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=wt=>Promise.resolve(),!tm.vt())throw new C(Tt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $y(this,l),this.hs=t+"main",this.M=new Jf(H),this.ls=new ya(this.hs,this.ts,new H_(this.M)),this.fs=new Qg(this.referenceDelegate,this.M),this.ds=new j_(this.M),this._s=new Wg,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===Te&&wi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new C(Tt.FAILED_PRECONDITION,em);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Cn(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var o=(0,_e.Z)(function*(l){if(t.started)return e(l)});return function(l){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,_e.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>sp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(Fu(e))return Qt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Qt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Rh(e).get("owner").next(t=>Mt.resolve(this.Ps(t)))}Vs(e){return sp(e).delete(this.clientId)}vs(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const l=Ks(o,"clientMetadata");return l.qt().next(h=>{const b=e.Ds(h,18e5),M=h.filter(H=>-1===b.indexOf(H));return Mt.forEach(M,H=>l.delete(H.clientId)).next(()=>M)})}).catch(()=>[]);if(e.ws)for(const o of t)e.ws.removeItem(e.Cs(o.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Mt.resolve(!0):Rh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new C(Tt.FAILED_PRECONDITION,em);return!1}}return!(!this.networkEnabled||!this.inForeground)||sp(e).qt().next(o=>void 0===this.Ds(o,5e3).find(l=>{if(this.clientId!==l.clientId){const b=!this.inForeground&&l.inForeground,M=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||b&&M)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Qt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new pd(t,Cn.A);return e.Rs(o).next(()=>e.Vs(o))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(o=>this.Ss(o.updateTimeMs,t)&&!this.xs(o.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>sp(e).qt().next(t=>this.Ds(t,18e5).map(o=>o.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return bd.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new Ly(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return qg.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,o){Qt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",h=14===(b=this.ts)?Oy:13===b?Hg:12===b?Ry:11===b?jg:void Dn();var b;let M;return this.ls.runTransaction(e,l,h,H=>(M=new pd(H,this.es?this.es.next():Cn.A),"readwrite-primary"===t?this.Es(M).next(W=>!!W||this.As(M)).next(W=>{if(!W)throw wi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new C(Tt.FAILED_PRECONDITION,Zf);return o(M)}).next(W=>this.bs(M).next(()=>W)):this.$s(M).next(()=>o(M)))).then(H=>(M.raiseOnCommittedEvent(),H))}$s(e){return Rh(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new C(Tt.FAILED_PRECONDITION,em)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Rh(e).put("owner",t)}static vt(){return ya.vt()}Rs(e){const t=Rh(e);return t.get("owner").next(o=>this.Ps(o)?(Qt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Mt.resolve())}Ss(e,t){const o=Date.now();return!(e<o-t||e>o&&(wi(`Detected an update time that is in the future: ${e} > ${o}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Pe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const o=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Qt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return wi("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){wi("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Rh(i){return Ks(i,"owner")}function sp(i){return Ks(i,"clientMetadata")}function nm(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class G_{constructor(e,t,o){this.ds=e,this.Bs=t,this.indexManager=o}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(o=>this.Us(e,t,o))}Us(e,t,o){return this.ds.getEntry(e,t).next(l=>{for(const h of o)h.applyToLocalView(l);return l})}qs(e,t){e.forEach((o,l)=>{for(const h of t)h.applyToLocalView(l)})}Ks(e,t){return this.ds.getEntries(e,t).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>this.qs(t,o))}Qs(e,t,o){return sn.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.js(e,t.path):Ql(t)?this.Ws(e,t,o):this.zs(e,t,o);var l}js(e,t){return this.Ls(e,new sn(t)).next(o=>{let l=rc();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}Ws(e,t,o){const l=t.collectionGroup;let h=rc();return this.indexManager.getCollectionParents(e,l).next(b=>Mt.forEach(b,M=>{const H=(W=t,Te=M.child(l),new fo(Te,null,W.explicitOrderBy.slice(),W.filters.slice(),W.limit,W.limitType,W.startAt,W.endAt));var W,Te;return this.zs(e,H,o).next(W=>{W.forEach((Te,Ye)=>{h=h.insert(Te,Ye)})})}).next(()=>h))}zs(e,t,o){let l;return this.ds.getAllFromCollection(e,t.path,o).next(h=>(l=h,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(h=>{for(const b of h)for(const M of b.mutations){const H=M.key;let W=l.get(H);null==W&&(W=nn.newInvalidDocument(H),l=l.insert(H,W)),ah(M,W,b.localWriteTime),W.isFoundDocument()||(l=l.remove(H))}}).next(()=>(l.forEach((h,b)=>{yl(t,b)||(l=l.remove(h))}),l))}}class rm{constructor(e,t,o,l){this.targetId=e,this.fromCache=t,this.Hs=o,this.Js=l}static Ys(e,t){let o=ai(),l=ai();for(const h of t.docChanges)switch(h.type){case 0:o=o.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new rm(e,t.fromCache,o,l)}}class Gy{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,o,l){return this.ti(e,t).next(h=>h||this.ei(e,t,l,o)).next(h=>h||this.ni(e,t))}ti(e,t){return Mt.resolve(null)}ei(e,t,o,l){return function Ug(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}(t)||l.isEqual(Vn.min())?this.ni(e,t):this.Zs.Ks(e,o).next(h=>{const b=this.si(t,h);return this.ii(t,b,o,l)?this.ni(e,t):(ca()<=dt.in.DEBUG&&Qt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Xc(t)),this.ri(e,b,t,us(l,-1)))})}si(e,t){let o=new gi(qo(e));return t.forEach((l,h)=>{yl(e,h)&&(o=o.add(h))}),o}ii(e,t,o,l){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const h="F"===e.limitType?t.last():t.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}ni(e,t){return ca()<=dt.in.DEBUG&&Qt("QueryEngine","Using full collection scan to execute query:",Xc(t)),this.Zs.Qs(e,t,ni.min())}ri(e,t,o,l){return this.Zs.Qs(e,o,l).next(h=>(t.forEach(b=>{h=h.insert(b.key,b)}),h))}}class Uu{constructor(e,t,o,l){this.persistence=e,this.oi=t,this.M=l,this.ui=new oi(Hn),this.ai=new Ci(h=>ga(h),Mu),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(o)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new G_(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function Oh(i,e,t,o){return new Uu(i,e,t,o)}function im(i,e){return Ph.apply(this,arguments)}function Ph(){return Ph=(0,_e.Z)(function*(i,e){const t=hn(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let l;return t.Bs.getAllMutationBatches(o).next(h=>(l=h,t.li(e),t.Bs.getAllMutationBatches(o))).next(h=>{const b=[],M=[];let H=ai();for(const W of l){b.push(W.batchId);for(const Te of W.mutations)H=H.add(Te.key)}for(const W of h){M.push(W.batchId);for(const Te of W.mutations)H=H.add(Te.key)}return t.fi.Ks(o,H).next(W=>({di:W,removedBatchIds:b,addedBatchIds:M}))})})}),Ph.apply(this,arguments)}function op(i,e){const t=hn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),h=t.hi.newChangeBuffer({trackRemovals:!0});return function(b,M,H,W){const Te=H.batch,Ye=Te.keys();let wt=Mt.resolve();return Ye.forEach(Vt=>{wt=wt.next(()=>W.getEntry(M,Vt)).next(Gt=>{const Mn=H.docVersions.get(Vt);jn(null!==Mn),Gt.version.compareTo(Mn)<0&&(Te.applyToRemoteDocument(Gt,H),Gt.isValidDocument()&&(Gt.setReadTime(H.commitVersion),W.addEntry(Gt)))})}),wt.next(()=>b.Bs.removeMutationBatch(M,Te))}(t,o,e,h).next(()=>h.apply(o)).next(()=>t.Bs.performConsistencyCheck(o)).next(()=>t.fi.Ks(o,l))})}function ap(i){const e=hn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function up(i,e){const t=hn(i),o=e.snapshotVersion;let l=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const b=t.hi.newChangeBuffer({trackRemovals:!0});l=t.ui;const M=[];e.targetChanges.forEach((W,Te)=>{const Ye=l.get(Te);if(!Ye)return;M.push(t.fs.removeMatchingKeys(h,W.removedDocuments,Te).next(()=>t.fs.addMatchingKeys(h,W.addedDocuments,Te)));let wt=Ye.withSequenceNumber(h.currentSequenceNumber);var Vt,Gt,Mn;e.targetMismatches.has(Te)?wt=wt.withResumeToken(vs.EMPTY_BYTE_STRING,Vn.min()).withLastLimboFreeSnapshotVersion(Vn.min()):W.resumeToken.approximateByteSize()>0&&(wt=wt.withResumeToken(W.resumeToken,o)),l=l.insert(Te,wt),Gt=wt,Mn=W,(0===(Vt=Ye).resumeToken.approximateByteSize()||Gt.snapshotVersion.toMicroseconds()-Vt.snapshotVersion.toMicroseconds()>=3e8||Mn.addedDocuments.size+Mn.modifiedDocuments.size+Mn.removedDocuments.size>0)&&M.push(t.fs.updateTargetData(h,wt))});let H=Lo();if(e.documentUpdates.forEach(W=>{e.resolvedLimboDocuments.has(W)&&M.push(t.persistence.referenceDelegate.updateLimboDocument(h,W))}),M.push(sm(h,b,e.documentUpdates).next(W=>{H=W})),!o.isEqual(Vn.min())){const W=t.fs.getLastRemoteSnapshotVersion(h).next(Te=>t.fs.setTargetsMetadata(h,h.currentSequenceNumber,o));M.push(W)}return Mt.waitFor(M).next(()=>b.apply(h)).next(()=>t.fi.Gs(h,H)).next(()=>H)}).then(h=>(t.ui=l,h))}function sm(i,e,t){let o=ai();return t.forEach(l=>o=o.add(l)),e.getEntries(i,o).next(l=>{let h=Lo();return t.forEach((b,M)=>{const H=l.get(b);M.isNoDocument()&&M.version.isEqual(Vn.min())?(e.removeEntry(b,M.readTime),h=h.insert(b,M)):!H.isValidDocument()||M.version.compareTo(H.version)>0||0===M.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(M),h=h.insert(b,M)):Qt("LocalStore","Ignoring outdated watch update for ",b,". Current version:",H.version," Watch version:",M.version)}),h})}function ju(i,e){const t=hn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(o,e)))}function Fl(i,e){const t=hn(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return t.fs.getTargetData(o,e).next(h=>h?(l=h,Mt.resolve(l)):t.fs.allocateTargetId(o).next(b=>(l=new Ga(e,b,0,o.currentSequenceNumber),t.fs.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=t.ui.get(o.targetId);return(null===l||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.ui=t.ui.insert(o.targetId,o),t.ai.set(e,o.targetId)),o})}function Ic(i,e,t){return Dd.apply(this,arguments)}function Dd(){return Dd=(0,_e.Z)(function*(i,e,t){const o=hn(i),l=o.ui.get(e),h=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",h,b=>o.persistence.referenceDelegate.removeTarget(b,l)))}catch(b){if(!Fu(b))throw b;Qt("LocalStore",`Failed to update sequence numbers for target ${e}: ${b}`)}o.ui=o.ui.remove(e),o.ai.delete(l.target)}),Dd.apply(this,arguments)}function kh(i,e,t){const o=hn(i);let l=Vn.min(),h=ai();return o.persistence.runTransaction("Execute query","readonly",b=>function(M,H,W){const Te=hn(M),Ye=Te.ai.get(W);return void 0!==Ye?Mt.resolve(Te.ui.get(Ye)):Te.fs.getTargetData(H,W)}(o,b,po(e)).next(M=>{if(M)return l=M.lastLimboFreeSnapshotVersion,o.fs.getMatchingKeysForTargetId(b,M.targetId).next(H=>{h=H})}).next(()=>o.oi.Qs(b,e,t?l:Vn.min(),t?h:ai())).next(M=>(am(o,ih(e),M),{documents:M,_i:h})))}function lp(i,e){const t=hn(i),o=hn(t.fs),l=t.ui.get(e);return l?Promise.resolve(l.target):t.persistence.runTransaction("Get target data","readonly",h=>o.Et(h,e).next(b=>b?b.target:null))}function om(i,e){const t=hn(i),o=t.ci.get(e)||Vn.min();return t.persistence.runTransaction("Get new document changes","readonly",l=>t.hi.getAllFromCollectionGroup(l,e,us(o,-1),Number.MAX_SAFE_INTEGER)).then(l=>(am(t,e,l),l))}function am(i,e,t){let o=Vn.min();t.forEach((l,h)=>{h.readTime.compareTo(o)>0&&(o=h.readTime)}),i.ci.set(e,o)}function Hu(){return Hu=(0,_e.Z)(function*(i,e,t,o){const l=hn(i);let h=ai(),b=Lo();for(const W of t){const Te=e.wi(W.metadata.name);W.document&&(h=h.add(Te));const Ye=e.mi(W);Ye.setReadTime(e.gi(W.metadata.readTime)),b=b.insert(Te,Ye)}const M=l.hi.newChangeBuffer({trackRemovals:!0}),H=yield Fl(l,(W=o,po(Ua(Ur.fromString(`__bundle__/docs/${W}`)))));var W;return l.persistence.runTransaction("Apply bundle documents","readwrite",W=>sm(W,M,b).next(Te=>(M.apply(W),Te)).next(Te=>l.fs.removeMatchingKeysForTargetId(W,H.targetId).next(()=>l.fs.addMatchingKeys(W,h,H.targetId)).next(()=>l.fi.Gs(W,Te)).next(()=>Te)))}),Hu.apply(this,arguments)}function cp(i,e){return Gu.apply(this,arguments)}function Gu(){return Gu=(0,_e.Z)(function*(i,e,t=ai()){const o=yield Fl(i,po(Ih(e.bundledQuery))),l=hn(i);return l.persistence.runTransaction("Save named query","readwrite",h=>{const b=Ds(e.readTime);if(o.snapshotVersion.compareTo(b)>=0)return l._s.saveNamedQuery(h,e);const M=o.withResumeToken(vs.EMPTY_BYTE_STRING,b);return l.ui=l.ui.insert(M.targetId,M),l.fs.updateTargetData(h,M).next(()=>l.fs.removeMatchingKeysForTargetId(h,o.targetId)).next(()=>l.fs.addMatchingKeys(h,t,o.targetId)).next(()=>l._s.saveNamedQuery(h,e))})}),Gu.apply(this,arguments)}class Td{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return Mt.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var o;return this.yi.set(t.id,{id:(o=t).id,version:o.version,createTime:Ds(o.createTime)}),Mt.resolve()}getNamedQuery(e,t){return Mt.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(o=t).name,query:Ih(o.bundledQuery),readTime:Ds(o.readTime)}),Mt.resolve();var o}}class Dc{constructor(){this.overlays=new oi(sn.comparator),this.Ii=new Map}getOverlay(e,t){return Mt.resolve(this.overlays.get(t))}saveOverlays(e,t,o){return o.forEach((l,h)=>{this.Xt(e,t,h)}),Mt.resolve()}removeOverlaysForBatchId(e,t,o){const l=this.Ii.get(o);return void 0!==l&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.Ii.delete(o)),Mt.resolve()}getOverlaysForCollection(e,t,o){const l=Il(),h=t.length+1,b=new sn(t.child("")),M=this.overlays.getIteratorFrom(b);for(;M.hasNext();){const H=M.getNext().value,W=H.getKey();if(!t.isPrefixOf(W.path))break;W.path.length===h&&H.largestBatchId>o&&l.set(H.getKey(),H)}return Mt.resolve(l)}getOverlaysForCollectionGroup(e,t,o,l){let h=new oi((W,Te)=>W-Te);const b=this.overlays.getIterator();for(;b.hasNext();){const W=b.getNext().value;if(W.getKey().getCollectionGroup()===t&&W.largestBatchId>o){let Te=h.get(W.largestBatchId);null===Te&&(Te=Il(),h=h.insert(W.largestBatchId,Te)),Te.set(W.getKey(),W)}}const M=Il(),H=h.getIterator();for(;H.hasNext()&&(H.getNext().value.forEach((W,Te)=>M.set(W,Te)),!(M.size()>=l)););return Mt.resolve(M)}Xt(e,t,o){if(null===o)return;const l=this.overlays.get(o.key);if(null!==l){const b=this.Ii.get(l.largestBatchId).delete(o.key);this.Ii.set(l.largestBatchId,b)}this.overlays=this.overlays.insert(o.key,new Eh(t,o));let h=this.Ii.get(t);void 0===h&&(h=ai(),this.Ii.set(t,h)),this.Ii.set(t,h.add(o.key))}}class dp{constructor(){this.Ti=new gi(Bs.Ei),this.Ai=new gi(Bs.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const o=new Bs(e,t);this.Ti=this.Ti.add(o),this.Ai=this.Ai.add(o)}bi(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.Pi(new Bs(e,t))}Vi(e,t){e.forEach(o=>this.removeReference(o,t))}vi(e){const t=new sn(new Ur([])),o=new Bs(t,e),l=new Bs(t,e+1),h=[];return this.Ai.forEachInRange([o,l],b=>{this.Pi(b),h.push(b.key)}),h}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new sn(new Ur([])),o=new Bs(t,e),l=new Bs(t,e+1);let h=ai();return this.Ai.forEachInRange([o,l],b=>{h=h.add(b.key)}),h}containsKey(e){const t=new Bs(e,0),o=this.Ti.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class Bs{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return sn.comparator(e.key,t.key)||Hn(e.Ci,t.Ci)}static Ri(e,t){return Hn(e.Ci,t.Ci)||sn.comparator(e.key,t.key)}}class um{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new gi(Bs.Ei)}checkEmpty(e){return Mt.resolve(0===this.Bs.length)}addMutationBatch(e,t,o,l){const h=this.xi;this.xi++;const b=new _h(h,t,o,l);this.Bs.push(b);for(const M of l)this.Ni=this.Ni.add(new Bs(M.key,h)),this.indexManager.addToCollectionParentIndex(e,M.key.path.popLast());return Mt.resolve(b)}lookupMutationBatch(e,t){return Mt.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.Mi(t+1),h=l<0?0:l;return Mt.resolve(this.Bs.length>h?this.Bs[h]:null)}getHighestUnacknowledgedBatchId(){return Mt.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return Mt.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Bs(t,0),l=new Bs(t,Number.POSITIVE_INFINITY),h=[];return this.Ni.forEachInRange([o,l],b=>{const M=this.ki(b.Ci);h.push(M)}),Mt.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new gi(Hn);return t.forEach(l=>{const h=new Bs(l,0),b=new Bs(l,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([h,b],M=>{o=o.add(M.Ci)})}),Mt.resolve(this.Oi(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,l=o.length+1;let h=o;sn.isDocumentKey(h)||(h=h.child(""));const b=new Bs(new sn(h),0);let M=new gi(Hn);return this.Ni.forEachWhile(H=>{const W=H.key.path;return!!o.isPrefixOf(W)&&(W.length===l&&(M=M.add(H.Ci)),!0)},b),Mt.resolve(this.Oi(M))}Oi(e){const t=[];return e.forEach(o=>{const l=this.ki(o);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){jn(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let o=this.Ni;return Mt.forEach(t.mutations,l=>{const h=new Bs(l.key,t.batchId);return o=o.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Ni=o})}_n(e){}containsKey(e,t){const o=new Bs(t,0),l=this.Ni.firstAfterOrEqual(o);return Mt.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return Mt.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class hp{constructor(e){this.$i=e,this.docs=new oi(sn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,l=this.docs.get(o),h=l?l.size:0,b=this.$i(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:b}),this.size+=b-h,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Mt.resolve(o?o.document.mutableCopy():nn.newInvalidDocument(t))}getEntries(e,t){let o=Lo();return t.forEach(l=>{const h=this.docs.get(l);o=o.insert(l,h?h.document.mutableCopy():nn.newInvalidDocument(l))}),Mt.resolve(o)}getAllFromCollection(e,t,o){let l=Lo();const h=new sn(t.child("")),b=this.docs.getIteratorFrom(h);for(;b.hasNext();){const{key:M,value:{document:H}}=b.getNext();if(!t.isPrefixOf(M.path))break;M.path.length>t.length+1||pa(La(H),o)<=0||(l=l.insert(H.key,H.mutableCopy()))}return Mt.resolve(l)}getAllFromCollectionGroup(e,t,o,l){Dn()}Bi(e,t){return Mt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new fp(this)}getSize(e){return Mt.resolve(this.size)}}class fp extends ip{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?t.push(this.Kn.addEntry(e,l)):this.Kn.removeEntry(o)}),Mt.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class lm{constructor(e){this.persistence=e,this.Li=new Ci(t=>ga(t),Mu),this.lastRemoteSnapshotVersion=Vn.min(),this.highestTargetId=0,this.Ui=0,this.qi=new dp,this.targetCount=0,this.Ki=Ec.gn()}forEachTarget(e,t){return this.Li.forEach((o,l)=>t(l)),Mt.resolve()}getLastRemoteSnapshotVersion(e){return Mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Mt.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),Mt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Ui&&(this.Ui=t),Mt.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new Ec(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Mt.resolve()}updateTargetData(e,t){return this.Tn(t),Mt.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Mt.resolve()}removeTargets(e,t,o){let l=0;const h=[];return this.Li.forEach((b,M)=>{M.sequenceNumber<=t&&null===o.get(M.targetId)&&(this.Li.delete(b),h.push(this.removeMatchingKeysForTargetId(e,M.targetId)),l++)}),Mt.waitFor(h).next(()=>l)}getTargetCount(e){return Mt.resolve(this.targetCount)}getTargetData(e,t){const o=this.Li.get(t)||null;return Mt.resolve(o)}addMatchingKeys(e,t,o){return this.qi.bi(t,o),Mt.resolve()}removeMatchingKeys(e,t,o){this.qi.Vi(t,o);const l=this.persistence.referenceDelegate,h=[];return l&&t.forEach(b=>{h.push(l.markPotentiallyOrphaned(e,b))}),Mt.waitFor(h)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),Mt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.qi.Di(t);return Mt.resolve(o)}containsKey(e,t){return Mt.resolve(this.qi.containsKey(t))}}class Nh{constructor(e,t){this.Gi={},this.overlays={},this.es=new Cn(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new lm(this),this.indexManager=new Xg,this.ds=new hp(o=>this.referenceDelegate.Qi(o)),this.M=new Jf(t),this._s=new Td(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Dc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Gi[e.toKey()];return o||(o=new um(t,this.referenceDelegate),this.Gi[e.toKey()]=o),o}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,o){Qt("MemoryPersistence","Starting transaction:",e);const l=new zy(this.es.next());return this.referenceDelegate.ji(),o(l).next(h=>this.referenceDelegate.Wi(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}zi(e,t){return Mt.or(Object.values(this.Gi).map(o=>()=>o.containsKey(e,t)))}}class zy extends vh{constructor(e){super(),this.currentSequenceNumber=e}}class Fh{constructor(e){this.persistence=e,this.Hi=new dp,this.Ji=null}static Yi(e){return new Fh(e)}get Xi(){if(this.Ji)return this.Ji;throw Dn()}addReference(e,t,o){return this.Hi.addReference(o,t),this.Xi.delete(o.toString()),Mt.resolve()}removeReference(e,t,o){return this.Hi.removeReference(o,t),this.Xi.add(o.toString()),Mt.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),Mt.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(l=>this.Xi.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(h=>this.Xi.add(h.toString()))}).next(()=>o.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mt.forEach(this.Xi,o=>{const l=sn.fromPath(o);return this.Zi(e,l).next(h=>{h||t.removeEntry(l,Vn.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(o=>{o?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return Mt.or([()=>Mt.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function Wy(i,e){return`firestore_clients_${i}_${e}`}function pp(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Lh(i,e){return`firestore_targets_${i}_${e}`}class Bh{constructor(e,t,o,l){this.user=e,this.batchId=t,this.state=o,this.error=l}static tr(e,t,o){const l=JSON.parse(o);let h,b="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return b&&l.error&&(b="string"==typeof l.error.message&&"string"==typeof l.error.code,b&&(h=new C(l.error.code,l.error.message))),b?new Bh(e,t,l.state,h):(wi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cc{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static tr(e,t){const o=JSON.parse(t);let l,h="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(l=new C(o.error.code,o.error.message))),h?new Cc(e,o.state,l):(wi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const o=JSON.parse(t);let l="object"==typeof o&&o.activeTargetIds instanceof Array,h=od();for(let b=0;l&&b<o.activeTargetIds.length;++b)l=ra(o.activeTargetIds[b]),h=h.add(o.activeTargetIds[b]);return l?new Vh(e,h):(wi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class gp{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new gp(t.clientId,t.onlineState):(wi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class xo{constructor(){this.activeTargetIds=od()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mp{constructor(e,t,o,l,h){this.window=e,this.Yn=t,this.persistenceKey=o,this.ir=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new oi(Hn),this.started=!1,this.cr=[];const b=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.hr=Wy(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new xo),this.dr=new RegExp(`^firestore_clients_${b}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${b}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${b}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.Fs();for(const l of t){if(l===e.ir)continue;const h=e.getItem(Wy(e.persistenceKey,l));if(h){const b=Vh.tr(l,h);b&&(e.ar=e.ar.insert(b.clientId,b))}}e.yr();const o=e.storage.getItem(e.mr);if(o){const l=e.pr(o);l&&e.Ir(l)}for(const l of e.cr)e.ur(l);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((o,l)=>{l.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,o){this.Er(e,t,o),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Lh(this.persistenceKey,e));if(o){const l=Cc.tr(e,o);l&&(t=l.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Lh(this.persistenceKey,e))}updateQueryState(e,t,o){this.br(e,t,o)}handleUserChange(e,t,o){t.forEach(l=>{this.Ar(l)}),this.currentUser=e,o.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Qt("SharedClientState","READ",e,t),t}setItem(e,t){Qt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Qt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Qt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.hr)return void wi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==o.key)if(t.dr.test(o.key)){if(null==o.newValue){const l=t.vr(o.key);return t.Sr(l,null)}{const l=t.Dr(o.key,o.newValue);if(l)return t.Sr(l.clientId,l)}}else if(t._r.test(o.key)){if(null!==o.newValue){const l=t.Cr(o.key,o.newValue);if(l)return t.Nr(l)}}else if(t.wr.test(o.key)){if(null!==o.newValue){const l=t.kr(o.key,o.newValue);if(l)return t.Mr(l)}}else if(o.key===t.mr){if(null!==o.newValue){const l=t.pr(o.newValue);if(l)return t.Ir(l)}}else if(o.key===t.lr){const l=function(h){let b=Cn.A;if(null!=h)try{const M=JSON.parse(h);jn("number"==typeof M),b=M}catch(M){wi("SharedClientState","Failed to read sequence number from WebStorage",M)}return b}(o.newValue);l!==Cn.A&&t.sequenceNumberHandler(l)}else if(o.key===t.gr){const l=t.Or(o.newValue);yield Promise.all(l.map(h=>t.syncEngine.Fr(h)))}}else t.cr.push(o)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,o){const l=new Bh(this.currentUser,e,t,o),h=pp(this.persistenceKey,this.currentUser,e);this.setItem(h,l.er())}Ar(e){const t=pp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,o){const l=Lh(this.persistenceKey,e),h=new Cc(e,t,o);this.setItem(l,h.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const o=this.vr(e);return Vh.tr(o,t)}Cr(e,t){const o=this._r.exec(e),l=Number(o[1]);return Bh.tr(new Li(void 0!==o[2]?o[2]:null),l,t)}kr(e,t){const o=this.wr.exec(e),l=Number(o[1]);return Cc.tr(l,t)}pr(e){return gp.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Qt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const o=t?this.ar.insert(e,t):this.ar.remove(e),l=this.Tr(this.ar),h=this.Tr(o),b=[],M=[];return h.forEach(H=>{l.has(H)||b.push(H)}),l.forEach(H=>{h.has(H)||M.push(H)}),this.syncEngine.Lr(b,M).then(()=>{this.ar=o})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=od();return e.forEach((o,l)=>{t=t.unionWith(l.activeTargetIds)}),t}}class cm{constructor(){this.Ur=new xo,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,o){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new xo,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class z_{Kr(e){}shutdown(){}}class qy{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Qt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Qt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const dm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class W_{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class Yy extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,o,l,h){const b=this.ho(e,t);Qt("RestConnection","Sending: ",b,o);const M={};return this.lo(M,l,h),this.fo(e,b,M,o).then(H=>(Qt("RestConnection","Received: ",H),H),H=>{throw Fs("RestConnection",`${e} failed with error: `,H,"url: ",b,"request:",o),H})}_o(e,t,o,l,h){return this.co(e,t,o,l,h)}lo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+wo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,h)=>e[h]=l),o&&o.headers.forEach((l,h)=>e[h]=l)}ho(e,t){return`${this.uo}/v1/${t}:${dm[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,o,l){return new Promise((h,b)=>{const M=new ka;M.listenOnce(Oa.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case ea.NO_ERROR:const W=M.getResponseJson();Qt("Connection","XHR received:",JSON.stringify(W)),h(W);break;case ea.TIMEOUT:Qt("Connection",'RPC "'+e+'" timed out'),b(new C(Tt.DEADLINE_EXCEEDED,"Request time out"));break;case ea.HTTP_ERROR:const Te=M.getStatus();if(Qt("Connection",'RPC "'+e+'" failed with status:',Te,"response text:",M.getResponseText()),Te>0){const Ye=M.getResponseJson().error;if(Ye&&Ye.status&&Ye.message){const wt=function(Vt){const Gt=Vt.toLowerCase().replace(/_/g,"-");return Object.values(Tt).indexOf(Gt)>=0?Gt:Tt.UNKNOWN}(Ye.status);b(new C(wt,Ye.message))}else b(new C(Tt.UNKNOWN,"Server responded with status "+M.getStatus()))}else b(new C(Tt.UNAVAILABLE,"Connection failed."));break;default:Dn()}}finally{Qt("Connection",'RPC "'+e+'" completed.')}});const H=JSON.stringify(l);M.send(t,"POST",H,o,15)})}wo(e,t,o){const l=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=ql(),b=js(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(M.xmlHttpFactory=new di({})),this.lo(M.initMessageHeaders,t,o),(0,Pe.uI)()||(0,Pe.b$)()||(0,Pe.d)()||(0,Pe.w1)()||(0,Pe.Mn)()||(0,Pe.ru)()||(M.httpHeadersOverwriteParam="$httpHeaders");const H=l.join("");Qt("Connection","Creating WebChannel: "+H,M);const W=h.createWebChannel(H,M);let Te=!1,Ye=!1;const wt=new W_({Jr:Gt=>{Ye?Qt("Connection","Not sending because WebChannel is closed:",Gt):(Te||(Qt("Connection","Opening WebChannel transport."),W.open(),Te=!0),Qt("Connection","WebChannel sending:",Gt),W.send(Gt))},Yr:()=>W.close()}),Vt=(Gt,Mn,pr)=>{Gt.listen(Mn,is=>{try{pr(is)}catch(Rs){setTimeout(()=>{throw Rs},0)}})};return Vt(W,Hs.EventType.OPEN,()=>{Ye||Qt("Connection","WebChannel transport opened.")}),Vt(W,Hs.EventType.CLOSE,()=>{Ye||(Ye=!0,Qt("Connection","WebChannel transport closed"),wt.ro())}),Vt(W,Hs.EventType.ERROR,Gt=>{Ye||(Ye=!0,Fs("Connection","WebChannel transport errored:",Gt),wt.ro(new C(Tt.UNAVAILABLE,"The operation could not be completed")))}),Vt(W,Hs.EventType.MESSAGE,Gt=>{var Mn;if(!Ye){const pr=Gt.data[0];jn(!!pr);const is=pr,Rs=is.error||(null===(Mn=is[0])||void 0===Mn?void 0:Mn.error);if(Rs){Qt("Connection","WebChannel received error:",Rs);const Ti=Rs.status;let cs=function(ds){const no=qi[ds];if(void 0!==no)return dh(no)}(Ti),Ki=Rs.message;void 0===cs&&(cs=Tt.INTERNAL,Ki="Unknown error status: "+Ti+" with message "+Rs.message),Ye=!0,wt.ro(new C(cs,Ki)),W.close()}else Qt("Connection","WebChannel received:",pr),wt.oo(pr)}}),Vt(b,lo.STAT_EVENT,Gt=>{Gt.stat===Pa.PROXY?Qt("Connection","Detected buffering proxy"):Gt.stat===Pa.NOPROXY&&Qt("Connection","Detected no buffering proxy")}),setTimeout(()=>{wt.io()},0),wt}}function $h(){return"undefined"!=typeof window?window:null}function Sd(){return"undefined"!=typeof document?document:null}function Ad(i){return new ad(i,!0)}class yp{constructor(e,t,o=1e3,l=1.5,h=6e4){this.Yn=e,this.timerId=t,this.mo=o,this.yo=l,this.po=h,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),l=Math.max(0,t-o);l>0&&Qt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,l,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class hm{constructor(e,t,o,l,h,b,M,H){this.Yn=e,this.Vo=o,this.vo=l,this.So=h,this.authCredentialsProvider=b,this.appCheckCredentialsProvider=M,this.listener=H,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new yp(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,_e.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,_e.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var o=this;return(0,_e.Z)(function*(){o.Uo(),o.qo(),o.No.cancel(),o.Do++,4!==e?o.No.reset():t&&t.code===Tt.RESOURCE_EXHAUSTED?(wi(t.toString()),wi("Using maximum backoff delay to prevent overloading the backend."),o.No.Ao()):t&&t.code===Tt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Ko(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.Do===t&&this.Qo(o,l)},o=>{e(()=>{const l=new C(Tt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.jo(l)})})}Qo(e,t){const o=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{o(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(l=>{o(()=>this.jo(l))}),this.stream.onMessage(l=>{o(()=>this.onMessage(l))})}Oo(){var e=this;this.state=5,this.No.Ro((0,_e.Z)(function*(){e.state=0,e.start()}))}jo(e){return Qt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(Qt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fm extends hm{constructor(e,t,o,l,h,b){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,l,b),this.M=h}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function Gf(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(H=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===H?1:"REMOVE"===H?2:"CURRENT"===H?3:"RESET"===H?4:Dn(),l=e.targetChange.targetIds||[],h=function(H,W){return H.N?(jn(void 0===W||"string"==typeof W),vs.fromBase64String(W||"")):(jn(void 0===W||W instanceof Uint8Array),vs.fromUint8Array(W||new Uint8Array))}(i,e.targetChange.resumeToken),b=e.targetChange.cause,M=b&&function(H){const W=void 0===H.code?Tt.UNKNOWN:dh(H.code);return new C(W,H.message||"")}(b);t=new Dl(o,l,h,M||null)}else if("documentChange"in e){const o=e.documentChange,l=So(i,o.document.name),h=Ds(o.document.updateTime),b=new vt({mapValue:{fields:o.document.fields}}),M=nn.newFoundDocument(l,h,b);t=new Is(o.targetIds||[],o.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const o=e.documentDelete,l=So(i,o.document),h=o.readTime?Ds(o.readTime):Vn.min(),b=nn.newNoDocument(l,h);t=new Is([],o.removedTargetIds||[],b.key,b)}else if("documentRemove"in e){const o=e.documentRemove,l=So(i,o.document);t=new Is([],o.removedTargetIds||[],l,null)}else{if(!("filter"in e))return Dn();{const o=e.filter,h=new ch(o.count||0);t=new Nu(o.targetId,h)}}var H;return t}(this.M,e),o=function(l){if(!("targetChange"in l))return Vn.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Vn.min():h.readTime?Ds(h.readTime):Vn.min()}(e);return this.listener.zo(t,o)}Ho(e){const t={};t.database=lc(this.M),t.addTarget=function(l,h){let b;const M=h.target;return b=hl(M)?{documents:cd(l,M)}:{query:dd(l,M)},b.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?b.resumeToken=Sl(l,h.resumeToken):h.snapshotVersion.compareTo(Vn.min())>0&&(b.readTime=Tl(l,h.snapshotVersion.toTimestamp())),b}(this.M,e);const o=function zf(i,e){const t=function(o,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Dn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Lo(t)}Jo(e){const t={};t.database=lc(this.M),t.removeTarget=e,this.Lo(t)}}class Ky extends hm{constructor(e,t,o,l,h,b){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,l,b),this.M=h,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(jn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function gh(i,e){return i&&i.length>0?(jn(void 0!==e),i.map(t=>function(o,l){let h=Ds(o.updateTime?o.updateTime:l);return h.isEqual(Vn.min())&&(h=Ds(l)),new sh(h,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Ds(e.commitTime);return this.listener.tu(o,t)}return jn(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=lc(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Ao(this.M,o))};this.Lo(t)}}class pm extends class{}{constructor(e,t,o,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=o,this.M=l,this.su=!1}iu(){if(this.su)throw new C(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.So.co(e,t,o,l,h)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new C(Tt.UNKNOWN,l.toString())})}_o(e,t,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.So._o(e,t,o,l,h)).catch(l=>{throw"FirebaseError"===l.name?(l.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new C(Tt.UNKNOWN,l.toString())})}terminate(){this.su=!0}}class Zy{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(wi(t),this.uu=!1):Qt("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Xy{constructor(e,t,o,l,h){var b=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=h,this.gu.Kr(M=>{o.enqueueAndForget((0,_e.Z)(function*(){var H;zu(b)&&(Qt("RemoteStore","Restarting streams for network reachability change."),yield(H=(0,_e.Z)(function*(W){const Te=hn(W);Te.wu.add(4),yield Sc(Te),Te.yu.set("Unknown"),Te.wu.delete(4),yield Tc(Te)}),function(W){return H.apply(this,arguments)})(b))}))}),this.yu=new Zy(o,l)}}function Tc(i){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,_e.Z)(function*(i){if(zu(i))for(const e of i.mu)yield e(!0)}),Uh.apply(this,arguments)}function Sc(i){return sa.apply(this,arguments)}function sa(){return sa=(0,_e.Z)(function*(i){for(const e of i.mu)yield e(!1)}),sa.apply(this,arguments)}function Ac(i,e){const t=hn(i);t._u.has(e.targetId)||(t._u.set(e.targetId,e),_p(t)?jh(t):qa(t).Mo()&&vp(t,e))}function xd(i,e){const t=hn(i),o=qa(t);t._u.delete(e),o.Mo()&&Qy(t,e),0===t._u.size&&(o.Mo()?o.$o():zu(t)&&t.yu.set("Unknown"))}function vp(i,e){i.pu.Z(e.targetId),qa(i).Ho(e)}function Qy(i,e){i.pu.Z(e),qa(i).Jo(e)}function jh(i){i.pu=new Ys({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i._u.get(e)||null}),qa(i).start(),i.yu.au()}function _p(i){return zu(i)&&!qa(i).ko()&&i._u.size>0}function zu(i){return 0===hn(i).wu.size}function gm(i){i.pu=void 0}function bp(i){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,_e.Z)(function*(i){i._u.forEach((e,t)=>{vp(i,e)})}),Ep.apply(this,arguments)}function Jy(i,e){return xc.apply(this,arguments)}function xc(){return xc=(0,_e.Z)(function*(i,e){gm(i),_p(i)?(i.yu.lu(e),jh(i)):i.yu.set("Unknown")}),xc.apply(this,arguments)}function wp(i,e,t){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,_e.Z)(function*(i,e,t){if(i.yu.set("Online"),e instanceof Dl&&2===e.state&&e.cause)try{yield(o=(0,_e.Z)(function*(l,h){const b=h.cause;for(const M of h.targetIds)l._u.has(M)&&(yield l.remoteSyncer.rejectListen(M,b),l._u.delete(M),l.pu.removeTarget(M))}),function(l,h){return o.apply(this,arguments)})(i,e)}catch(o){Qt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Mc(i,o)}else if(e instanceof Is?i.pu.ut(e):e instanceof Nu?i.pu._t(e):i.pu.ht(e),!t.isEqual(Vn.min()))try{const o=yield ap(i.localStore);t.compareTo(o)>=0&&(yield function(l,h){const b=l.pu.yt(h);return b.targetChanges.forEach((M,H)=>{if(M.resumeToken.approximateByteSize()>0){const W=l._u.get(H);W&&l._u.set(H,W.withResumeToken(M.resumeToken,h))}}),b.targetMismatches.forEach(M=>{const H=l._u.get(M);if(!H)return;l._u.set(M,H.withResumeToken(vs.EMPTY_BYTE_STRING,H.snapshotVersion)),Qy(l,M);const W=new Ga(H.target,M,1,H.sequenceNumber);vp(l,W)}),l.remoteSyncer.applyRemoteEvent(b)}(i,t))}catch(o){Qt("RemoteStore","Failed to raise snapshot:",o),yield Mc(i,o)}var o}),Ip.apply(this,arguments)}function Mc(i,e,t){return Md.apply(this,arguments)}function Md(){return Md=(0,_e.Z)(function*(i,e,t){if(!Fu(e))throw e;i.wu.add(1),yield Sc(i),i.yu.set("Offline"),t||(t=()=>ap(i.localStore)),i.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Qt("RemoteStore","Retrying IndexedDB access"),yield t(),i.wu.delete(1),yield Tc(i)}))}),Md.apply(this,arguments)}function Dp(i,e){return e().catch(t=>Mc(i,t,e))}function Rc(i){return Cp.apply(this,arguments)}function Cp(){return Cp=(0,_e.Z)(function*(i){const e=hn(i),t=Wu(e);let o=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;Tp(e);)try{const l=yield ju(e.localStore,o);if(null===l){0===e.du.length&&t.$o();break}o=l.batchId,q_(e,l)}catch(l){yield Mc(e,l)}mm(e)&&Sp(e)}),Cp.apply(this,arguments)}function Tp(i){return zu(i)&&i.du.length<10}function q_(i,e){i.du.push(e);const t=Wu(i);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function mm(i){return zu(i)&&!Wu(i).ko()&&i.du.length>0}function Sp(i){Wu(i).start()}function ym(i){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,_e.Z)(function*(i){Wu(i).nu()}),Hh.apply(this,arguments)}function vm(i){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,_e.Z)(function*(i){const e=Wu(i);for(const t of i.du)e.Zo(t.mutations)}),Gh.apply(this,arguments)}function yu(i,e,t){return Oc.apply(this,arguments)}function Oc(){return Oc=(0,_e.Z)(function*(i,e,t){const o=i.du.shift(),l=bh.from(o,e,t);yield Dp(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield Rc(i)}),Oc.apply(this,arguments)}function ev(i,e){return Ap.apply(this,arguments)}function Ap(){return Ap=(0,_e.Z)(function*(i,e){var t;e&&Wu(i).Xo&&(yield(t=(0,_e.Z)(function*(o,l){if(nc(h=l.code)&&h!==Tt.ABORTED){const b=o.du.shift();Wu(o).Fo(),yield Dp(o,()=>o.remoteSyncer.rejectFailedWrite(b.batchId,l)),yield Rc(o)}var h}),function(o,l){return t.apply(this,arguments)})(i,e)),mm(i)&&Sp(i)}),Ap.apply(this,arguments)}function tv(i,e){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,_e.Z)(function*(i,e){const t=hn(i);t.asyncQueue.verifyOperationInProgress(),Qt("RemoteStore","RemoteStore received new credentials");const o=zu(t);t.wu.add(3),yield Sc(t),o&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Tc(t)}),Rd.apply(this,arguments)}function zh(i,e){return Od.apply(this,arguments)}function Od(){return Od=(0,_e.Z)(function*(i,e){const t=hn(i);e?(t.wu.delete(2),yield Tc(t)):e||(t.wu.add(2),yield Sc(t),t.yu.set("Unknown"))}),Od.apply(this,arguments)}function qa(i){return i.Iu||(i.Iu=function(e,t,o){const l=hn(e);return l.iu(),new fm(t,l.So,l.authCredentials,l.appCheckCredentials,l.M,o)}(i.datastore,i.asyncQueue,{Xr:bp.bind(null,i),eo:Jy.bind(null,i),zo:wp.bind(null,i)}),i.mu.push(function(){var e=(0,_e.Z)(function*(t){t?(i.Iu.Fo(),_p(i)?jh(i):i.yu.set("Unknown")):(yield i.Iu.stop(),gm(i))});return function(t){return e.apply(this,arguments)}}())),i.Iu}function Wu(i){return i.Tu||(i.Tu=function(e,t,o){const l=hn(e);return l.iu(),new Ky(t,l.So,l.authCredentials,l.appCheckCredentials,l.M,o)}(i.datastore,i.asyncQueue,{Xr:ym.bind(null,i),eo:ev.bind(null,i),eu:vm.bind(null,i),tu:yu.bind(null,i)}),i.mu.push(function(){var e=(0,_e.Z)(function*(t){t?(i.Tu.Fo(),yield Rc(i)):(yield i.Tu.stop(),i.du.length>0&&(Qt("RemoteStore",`Stopping write stream with ${i.du.length} pending writes`),i.du=[]))});return function(t){return e.apply(this,arguments)}}())),i.Tu}class Pd{constructor(e,t,o,l,h){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=l,this.removalCallback=h,this.deferred=new I,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(b=>{})}static createAndSchedule(e,t,o,l,h){const b=Date.now()+o,M=new Pd(e,t,b,l,h);return M.start(o),M}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(Tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ll(i,e){if(wi("AsyncQueue",`${e}: ${i}`),Fu(i))return new C(Tt.UNAVAILABLE,`${e}: ${i}`);throw i}class Bl{constructor(e){this.comparator=e?(t,o)=>e(t,o)||sn.comparator(t.key,o.key):(t,o)=>sn.comparator(t.key,o.key),this.keyedMap=rc(),this.sortedSet=new oi(this.comparator)}static emptySet(e){return new Bl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=o.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new Bl;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class xp{constructor(){this.Eu=new oi(sn.comparator)}track(e){const t=e.doc.key,o=this.Eu.get(t);o?0!==e.type&&3===o.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==o.type?this.Eu=this.Eu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Eu=this.Eu.remove(t):1===e.type&&2===o.type?this.Eu=this.Eu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Dn():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Pc{constructor(e,t,o,l,h,b,M,H){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=h,this.fromCache=b,this.syncStateChanged=M,this.excludesMetadataChanges=H}static fromInitialDocuments(e,t,o,l){const h=[];return t.forEach(b=>{h.push({type:0,doc:b})}),new Pc(e,t,Bl.emptySet(t),h,o,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ml(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==o[l].type||!t[l].doc.isEqual(o[l].doc))return!1;return!0}}class Mp{constructor(){this.Ru=void 0,this.listeners=[]}}class nv{constructor(){this.queries=new Ci(e=>rh(e),ml),this.onlineState="Unknown",this.bu=new Set}}function Rp(i,e){return Wh.apply(this,arguments)}function Wh(){return Wh=(0,_e.Z)(function*(i,e){const t=hn(i),o=e.query;let l=!1,h=t.queries.get(o);if(h||(l=!0,h=new Mp),l)try{h.Ru=yield t.onListen(o)}catch(b){const M=Ll(b,`Initialization of query '${Xc(e.query)}' failed`);return void e.onError(M)}t.queries.set(o,h),h.listeners.push(e),e.Pu(t.onlineState),h.Ru&&e.Vu(h.Ru)&&Yu(t)}),Wh.apply(this,arguments)}function qu(i,e){return qh.apply(this,arguments)}function qh(){return qh=(0,_e.Z)(function*(i,e){const t=hn(i),o=e.query;let l=!1;const h=t.queries.get(o);if(h){const b=h.listeners.indexOf(e);b>=0&&(h.listeners.splice(b,1),l=0===h.listeners.length)}if(l)return t.queries.delete(o),t.onUnlisten(o)}),qh.apply(this,arguments)}function rv(i,e){const t=hn(i);let o=!1;for(const l of e){const b=t.queries.get(l.query);if(b){for(const M of b.listeners)M.Vu(l)&&(o=!0);b.Ru=l}}o&&Yu(t)}function iv(i,e,t){const o=hn(i),l=o.queries.get(e);if(l)for(const h of l.listeners)h.onError(t);o.queries.delete(e)}function Yu(i){i.bu.forEach(e=>{e.next()})}class Op{constructor(e,t,o){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=o||{}}Vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)3!==l.type&&o.push(l);e=new Pc(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class sv{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class _m{constructor(e){this.M=e}wi(e){return So(this.M,e)}mi(e){return e.metadata.exists?cc(this.M,e.document,!1):nn.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return Ds(e)}}class ov{constructor(e,t,o){this.Ou=e,this.localStore=t,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Yo(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=Ur.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,o=new _m(this.M);for(const l of e)if(l.metadata.queries){const h=o.wi(l.metadata.name);for(const b of l.metadata.queries){const M=(t.get(b)||ai()).add(h);t.set(b,M)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function Cd(i,e,t,o){return Hu.apply(this,arguments)}(e.localStore,new _m(e.M),e.documents,e.Ou.id),o=e.$u(e.documents);for(const l of e.queries)yield cp(e.localStore,l,o.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Yo(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Yh{constructor(e){this.key=e}}class Pp{constructor(e){this.key=e}}class kp{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=ai(),this.mutatedKeys=ai(),this.Gu=qo(e),this.Qu=new Bl(this.Gu)}get ju(){return this.Uu}Wu(e,t){const o=t?t.zu:new xp,l=t?t.Qu:this.Qu;let h=t?t.mutatedKeys:this.mutatedKeys,b=l,M=!1;const H="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,W="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((Te,Ye)=>{const wt=l.get(Te),Vt=yl(this.query,Ye)?Ye:null,Gt=!!wt&&this.mutatedKeys.has(wt.key),Mn=!!Vt&&(Vt.hasLocalMutations||this.mutatedKeys.has(Vt.key)&&Vt.hasCommittedMutations);let pr=!1;wt&&Vt?wt.data.isEqual(Vt.data)?Gt!==Mn&&(o.track({type:3,doc:Vt}),pr=!0):this.Hu(wt,Vt)||(o.track({type:2,doc:Vt}),pr=!0,(H&&this.Gu(Vt,H)>0||W&&this.Gu(Vt,W)<0)&&(M=!0)):!wt&&Vt?(o.track({type:0,doc:Vt}),pr=!0):wt&&!Vt&&(o.track({type:1,doc:wt}),pr=!0,(H||W)&&(M=!0)),pr&&(Vt?(b=b.add(Vt),h=Mn?h.add(Te):h.delete(Te)):(b=b.delete(Te),h=h.delete(Te)))}),null!==this.query.limit)for(;b.size>this.query.limit;){const Te="F"===this.query.limitType?b.last():b.first();b=b.delete(Te.key),h=h.delete(Te.key),o.track({type:1,doc:Te})}return{Qu:b,zu:o,ii:M,mutatedKeys:h}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const l=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const h=e.zu.Au();h.sort((W,Te)=>function(Ye,wt){const Vt=Gt=>{switch(Gt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dn()}};return Vt(Ye)-Vt(wt)}(W.type,Te.type)||this.Gu(W.doc,Te.doc)),this.Ju(o);const b=t?this.Yu():[],M=0===this.Ku.size&&this.current?1:0,H=M!==this.qu;return this.qu=M,0!==h.length||H?{snapshot:new Pc(this.query,e.Qu,l,h,e.mutatedKeys,0===M,H,!1),Xu:b}:{Xu:b}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new xp,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ai(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const t=[];return e.forEach(o=>{this.Ku.has(o)||t.push(new Pp(o))}),this.Ku.forEach(o=>{e.has(o)||t.push(new Yh(o))}),t}ta(e){this.Uu=e._i,this.Ku=ai();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return Pc.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class bm{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class Em{constructor(e){this.key=e,this.na=!1}}class av{constructor(e,t,o,l,h,b){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=b,this.sa={},this.ia=new Ci(M=>rh(M),ml),this.ra=new Map,this.oa=new Set,this.ua=new oi(sn.comparator),this.aa=new Map,this.ca=new dp,this.ha={},this.la=new Map,this.fa=Ec.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function uv(i,e){return Np.apply(this,arguments)}function Np(){return Np=(0,_e.Z)(function*(i,e){const t=Zu(i);let o,l;const h=t.ia.get(e);if(h)o=h.targetId,t.sharedClientState.addLocalQueryTarget(o),l=h.view.ea();else{const b=yield Fl(t.localStore,po(e));t.isPrimaryClient&&Ac(t.remoteStore,b);const M=t.sharedClientState.addLocalQueryTarget(b.targetId);o=b.targetId,l=yield Fp(t,e,o,"current"===M)}return l}),Np.apply(this,arguments)}function Fp(i,e,t,o){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,_e.Z)(function*(i,e,t,o){i._a=(Te,Ye,wt)=>{return(Vt=(0,_e.Z)(function*(Gt,Mn,pr,is){let Rs=Mn.view.Wu(pr);Rs.ii&&(Rs=yield kh(Gt.localStore,Mn.query,!1).then(({documents:Ki})=>Mn.view.Wu(Ki,Rs)));const Ti=is&&is.targetChanges.get(Mn.targetId),cs=Mn.view.applyChanges(Rs,Gt.isPrimaryClient,Ti);return nf(Gt,Mn.targetId,cs.Xu),cs.snapshot}),function(Gt,Mn,pr,is){return Vt.apply(this,arguments)})(i,Te,Ye,wt);var Vt};const l=yield kh(i.localStore,e,!0),h=new kp(e,l._i),b=h.Wu(l.documents),M=ma.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),H=h.applyChanges(b,i.isPrimaryClient,M);nf(i,t,H.Xu);const W=new bm(e,t,h);return i.ia.set(e,W),i.ra.has(t)?i.ra.get(t).push(e):i.ra.set(t,[e]),H.snapshot}),Kh.apply(this,arguments)}function Y_(i,e){return Zh.apply(this,arguments)}function Zh(){return Zh=(0,_e.Z)(function*(i,e){const t=hn(i),o=t.ia.get(e),l=t.ra.get(o.targetId);if(l.length>1)return t.ra.set(o.targetId,l.filter(h=>!ml(h,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Ic(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),xd(t.remoteStore,o.targetId),kc(t,o.targetId)}).catch(mu))):(kc(t,o.targetId),yield Ic(t.localStore,o.targetId,!0))}),Zh.apply(this,arguments)}function Lp(){return Lp=(0,_e.Z)(function*(i,e,t){const o=Xu(i);try{const l=yield function(h,b){const M=hn(h),H=Zr.now(),W=b.reduce((Ye,wt)=>Ye.add(wt.key),ai());let Te;return M.persistence.runTransaction("Locally write mutations","readwrite",Ye=>M.fi.Ks(Ye,W).next(wt=>{Te=wt;const Vt=[];for(const Gt of b){const Mn=id(Gt,Te.get(Gt.key));null!=Mn&&Vt.push(new lu(Gt.key,Mn,Zt(Mn.value.mapValue),Wi.exists(!0)))}return M.Bs.addMutationBatch(Ye,H,Vt,b)})).then(Ye=>(Ye.applyToLocalDocumentSet(Te),{batchId:Ye.batchId,changes:Te}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(h,b,M){let H=h.ha[h.currentUser.toKey()];H||(H=new oi(Hn)),H=H.insert(b,M),h.ha[h.currentUser.toKey()]=H}(o,l.batchId,t),yield Ea(o,l.changes),yield Rc(o.remoteStore)}catch(l){const h=Ll(l,"Failed to persist write");t.reject(h)}}),Lp.apply(this,arguments)}function cv(i,e){return wm.apply(this,arguments)}function wm(){return wm=(0,_e.Z)(function*(i,e){const t=hn(i);try{const o=yield up(t.localStore,e);e.targetChanges.forEach((l,h)=>{const b=t.aa.get(h);b&&(jn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?b.na=!0:l.modifiedDocuments.size>0?jn(b.na):l.removedDocuments.size>0&&(jn(b.na),b.na=!1))}),yield Ea(t,o,e)}catch(o){yield mu(o)}}),wm.apply(this,arguments)}function Xh(i,e,t){const o=hn(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const l=[];o.ia.forEach((h,b)=>{const M=b.view.Pu(e);M.snapshot&&l.push(M.snapshot)}),function(h,b){const M=hn(h);M.onlineState=b;let H=!1;M.queries.forEach((W,Te)=>{for(const Ye of Te.listeners)Ye.Pu(b)&&(H=!0)}),H&&Yu(M)}(o.eventManager,e),l.length&&o.sa.zo(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function dv(i,e,t){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,_e.Z)(function*(i,e,t){const o=hn(i);o.sharedClientState.updateQueryState(e,"rejected",t);const l=o.aa.get(e),h=l&&l.key;if(h){let b=new oi(sn.comparator);b=b.insert(h,nn.newNoDocument(h,Vn.min()));const M=ai().add(h),H=new sc(Vn.min(),new Map,new gi(Hn),b,M);yield cv(o,H),o.ua=o.ua.remove(h),o.aa.delete(e),Vp(o)}else yield Ic(o.localStore,e,!1).then(()=>kc(o,e,t)).catch(mu)}),Qh.apply(this,arguments)}function Im(i,e){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,_e.Z)(function*(i,e){const t=hn(i),o=e.batch.batchId;try{const l=yield op(t.localStore,e);tf(t,o,null),ef(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Ea(t,l)}catch(l){yield mu(l)}}),Dm.apply(this,arguments)}function ba(i,e,t){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,_e.Z)(function*(i,e,t){const o=hn(i);try{const l=yield function(h,b){const M=hn(h);return M.persistence.runTransaction("Reject batch","readwrite-primary",H=>{let W;return M.Bs.lookupMutationBatch(H,b).next(Te=>(jn(null!==Te),W=Te.keys(),M.Bs.removeMutationBatch(H,Te))).next(()=>M.Bs.performConsistencyCheck(H)).next(()=>M.fi.Ks(H,W))})}(o.localStore,e);tf(o,e,t),ef(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Ea(o,l)}catch(l){yield mu(l)}}),Cm.apply(this,arguments)}function Jh(){return Jh=(0,_e.Z)(function*(i,e){const t=hn(i);zu(t.remoteStore)||Qt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(h){const b=hn(h);return b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>b.Bs.getHighestUnacknowledgedBatchId(M))}(t.localStore);if(-1===o)return void e.resolve();const l=t.la.get(o)||[];l.push(e),t.la.set(o,l)}catch(o){const l=Ll(o,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),Jh.apply(this,arguments)}function ef(i,e){(i.la.get(e)||[]).forEach(t=>{t.resolve()}),i.la.delete(e)}function tf(i,e,t){const o=hn(i);let l=o.ha[o.currentUser.toKey()];if(l){const h=l.get(e);h&&(t?h.reject(t):h.resolve(),l=l.remove(e)),o.ha[o.currentUser.toKey()]=l}}function kc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ra.get(e))i.ia.delete(o),t&&i.sa.wa(o,t);i.ra.delete(e),i.isPrimaryClient&&i.ca.vi(e).forEach(o=>{i.ca.containsKey(o)||hv(i,o)})}function hv(i,e){i.oa.delete(e.path.canonicalString());const t=i.ua.get(e);null!==t&&(xd(i.remoteStore,t),i.ua=i.ua.remove(e),i.aa.delete(t),Vp(i))}function nf(i,e,t){for(const o of t)o instanceof Yh?(i.ca.addReference(o.key,e),Bp(i,o)):o instanceof Pp?(Qt("SyncEngine","Document no longer in limbo: "+o.key),i.ca.removeReference(o.key,e),i.ca.containsKey(o.key)||hv(i,o.key)):Dn()}function Bp(i,e){const t=e.key,o=t.path.canonicalString();i.ua.get(t)||i.oa.has(o)||(Qt("SyncEngine","New document in limbo: "+t),i.oa.add(o),Vp(i))}function Vp(i){for(;i.oa.size>0&&i.ua.size<i.maxConcurrentLimboResolutions;){const e=i.oa.values().next().value;i.oa.delete(e);const t=new sn(Ur.fromString(e)),o=i.fa.next();i.aa.set(o,new Em(t)),i.ua=i.ua.insert(t,o),Ac(i.remoteStore,new Ga(po(Ua(t.path)),o,2,Cn.A))}}function Ea(i,e,t){return $p.apply(this,arguments)}function $p(){return $p=(0,_e.Z)(function*(i,e,t){const o=hn(i),l=[],h=[],b=[];var M;o.ia.isEmpty()||(o.ia.forEach((M,H)=>{b.push(o._a(H,e,t).then(W=>{if(W){o.isPrimaryClient&&o.sharedClientState.updateQueryState(H.targetId,W.fromCache?"not-current":"current"),l.push(W);const Te=rm.Ys(H.targetId,W);h.push(Te)}}))}),yield Promise.all(b),o.sa.zo(l),yield(M=(0,_e.Z)(function*(H,W){const Te=hn(H);try{yield Te.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ye=>Mt.forEach(W,wt=>Mt.forEach(wt.Hs,Vt=>Te.persistence.referenceDelegate.addReference(Ye,wt.targetId,Vt)).next(()=>Mt.forEach(wt.Js,Vt=>Te.persistence.referenceDelegate.removeReference(Ye,wt.targetId,Vt)))))}catch(Ye){if(!Fu(Ye))throw Ye;Qt("LocalStore","Failed to update sequence numbers: "+Ye)}for(const Ye of W){const wt=Ye.targetId;if(!Ye.fromCache){const Vt=Te.ui.get(wt),Mn=Vt.withLastLimboFreeSnapshotVersion(Vt.snapshotVersion);Te.ui=Te.ui.insert(wt,Mn)}}}),function(H,W){return M.apply(this,arguments)})(o.localStore,h))}),$p.apply(this,arguments)}function fv(i,e){return Up.apply(this,arguments)}function Up(){return Up=(0,_e.Z)(function*(i,e){const t=hn(i);if(!t.currentUser.isEqual(e)){Qt("SyncEngine","User change. New user:",e.toKey());const o=yield im(t.localStore,e);t.currentUser=e,(l=t).la.forEach(b=>{b.forEach(M=>{M.reject(new C(Tt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.la.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Ea(t,o.di)}var l}),Up.apply(this,arguments)}function pv(i,e){const t=hn(i),o=t.aa.get(e);if(o&&o.na)return ai().add(o.key);{let l=ai();const h=t.ra.get(e);if(!h)return l;for(const b of h){const M=t.ia.get(b);l=l.unionWith(M.view.ju)}return l}}function gv(i,e){return jp.apply(this,arguments)}function jp(){return jp=(0,_e.Z)(function*(i,e){const t=hn(i),o=yield kh(t.localStore,e.query,!0),l=e.view.ta(o);return t.isPrimaryClient&&nf(t,e.targetId,l.Xu),l}),jp.apply(this,arguments)}function rf(i,e){return Ku.apply(this,arguments)}function Ku(){return Ku=(0,_e.Z)(function*(i,e){const t=hn(i);return om(t.localStore,e).then(o=>Ea(t,o))}),Ku.apply(this,arguments)}function mv(i,e,t,o){return Vl.apply(this,arguments)}function Vl(){return Vl=(0,_e.Z)(function*(i,e,t,o){const l=hn(i),h=yield function(b,M){const H=hn(b),W=hn(H.Bs);return H.persistence.runTransaction("Lookup mutation documents","readonly",Te=>W.fn(Te,M).next(Ye=>Ye?H.fi.Ks(Te,Ye):Mt.resolve(null)))}(l.localStore,e);var M;null!==h?("pending"===t?yield Rc(l.remoteStore):"acknowledged"===t||"rejected"===t?(tf(l,e,o||null),ef(l,e),M=e,hn(hn(l.localStore).Bs)._n(M)):Dn(),yield Ea(l,h)):Qt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Vl.apply(this,arguments)}function Hp(){return Hp=(0,_e.Z)(function*(i,e){const t=hn(i);if(Zu(t),Xu(t),!0===e&&!0!==t.da){const o=t.sharedClientState.getAllActiveQueryTargets(),l=yield sf(t,o.toArray());t.da=!0,yield zh(t.remoteStore,!0);for(const h of l)Ac(t.remoteStore,h)}else if(!1===e&&!1!==t.da){const o=[];let l=Promise.resolve();t.ra.forEach((h,b)=>{t.sharedClientState.isLocalQueryTarget(b)?o.push(b):l=l.then(()=>(kc(t,b),Ic(t.localStore,b,!0))),xd(t.remoteStore,b)}),yield l,yield sf(t,o),function(h){const b=hn(h);b.aa.forEach((M,H)=>{xd(b.remoteStore,H)}),b.ca.Si(),b.aa=new Map,b.ua=new oi(sn.comparator)}(t),t.da=!1,yield zh(t.remoteStore,!1)}}),Hp.apply(this,arguments)}function sf(i,e,t){return oa.apply(this,arguments)}function oa(){return oa=(0,_e.Z)(function*(i,e,t){const o=hn(i),l=[],h=[];for(const b of e){let M;const H=o.ra.get(b);if(H&&0!==H.length){M=yield Fl(o.localStore,po(H[0]));for(const W of H){const Te=o.ia.get(W),Ye=yield gv(o,Te);Ye.snapshot&&h.push(Ye.snapshot)}}else{const W=yield lp(o.localStore,b);M=yield Fl(o.localStore,W),yield Fp(o,Nc(W),b,!1)}l.push(M)}return o.sa.zo(h),l}),oa.apply(this,arguments)}function Nc(i){return nh(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function go(i){const e=hn(i);return hn(hn(e.localStore).persistence).Fs()}function $l(i,e,t,o){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,_e.Z)(function*(i,e,t,o){const l=hn(i);if(l.da)return void Qt("SyncEngine","Ignoring unexpected query state notification.");const h=l.ra.get(e);if(h&&h.length>0)switch(t){case"current":case"not-current":{const b=yield om(l.localStore,ih(h[0])),M=sc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Ea(l,b,M);break}case"rejected":yield Ic(l.localStore,e,!0),kc(l,e,o);break;default:Dn()}}),Fc.apply(this,arguments)}function aa(i,e,t){return kd.apply(this,arguments)}function kd(){return kd=(0,_e.Z)(function*(i,e,t){const o=Zu(i);if(o.da){for(const l of e){if(o.ra.has(l)){Qt("SyncEngine","Adding an already active target "+l);continue}const h=yield lp(o.localStore,l),b=yield Fl(o.localStore,h);yield Fp(o,Nc(h),b.targetId,!1),Ac(o.remoteStore,b)}for(const l of t)o.ra.has(l)&&(yield Ic(o.localStore,l,!1).then(()=>{xd(o.remoteStore,l),kc(o,l)}).catch(mu))}}),kd.apply(this,arguments)}function Zu(i){const e=hn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=cv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dv.bind(null,e),e.sa.zo=rv.bind(null,e.eventManager),e.sa.wa=iv.bind(null,e.eventManager),e}function Xu(i){const e=hn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Im.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ba.bind(null,e),e}class Ul{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.M=Ad(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return Oh(this.persistence,new Gy,e.initialUser,this.M)}ya(e){return new Nh(Fh.Yi,this.M)}ga(e){return new cm}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jl extends Ul{constructor(e,t,o){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,_e.Z)(function*(){yield t().call(o,e),yield o.Ta.initialize(o,e),yield Xu(o.Ta.syncEngine),yield Rc(o.Ta.remoteStore),yield o.persistence.Ts(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Ia(e){return Oh(this.persistence,new Gy,e.initialUser,this.M)}pa(e){return new By(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=nm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?rs.withCacheSize(this.cacheSizeBytes):rs.DEFAULT;return new tm(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,$h(),Sd(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new cm}}class Bc extends jl{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,_e.Z)(function*(){yield t().call(o,e);const l=o.Ta.syncEngine;o.sharedClientState instanceof mp&&(o.sharedClientState.syncEngine={$r:mv.bind(null,l),Br:$l.bind(null,l),Lr:aa.bind(null,l),Fs:go.bind(null,l),Fr:rf.bind(null,l)},yield o.sharedClientState.start()),yield o.persistence.Ts(function(){var h=(0,_e.Z)(function*(b){yield function yv(i,e){return Hp.apply(this,arguments)}(o.Ta.syncEngine,b),o.gcScheduler&&(b&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):b||o.gcScheduler.stop())});return function(b){return h.apply(this,arguments)}}())})()}ga(e){const t=$h();if(!mp.vt(t))throw new C(Tt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=nm(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new mp(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class Qu{initialize(e,t){var o=this;return(0,_e.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=l=>Xh(o.syncEngine,l,1),o.remoteStore.remoteSyncer.handleCredentialChange=fv.bind(null,o.syncEngine),yield zh(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new nv}createDatastore(e){const t=Ad(e.databaseInfo.databaseId),o=new Yy(e.databaseInfo);return new pm(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,l=e.asyncQueue,h=M=>Xh(this.syncEngine,M,0),b=qy.vt()?new qy:new z_,new Xy(t,o,l,h,b);var t,o,l,h,b}createSyncEngine(e,t){return function(o,l,h,b,M,H,W){const Te=new av(o,l,h,b,M,H);return W&&(Te.da=!0),Te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const o=hn(t);Qt("RemoteStore","RemoteStore shutting down."),o.wu.add(5),yield Sc(o),o.gu.shutdown(),o.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Hl(i,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class vu{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Tm{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new I,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(o=>{o&&o.Mu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Va();if(null===t)return null;const o=e.ba.decode(t),l=Number(o);isNaN(l)&&e.va(`length string (${o}) is not valid number`);const h=yield e.Sa(l);return new sv(JSON.parse(h),t.length+l)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,_e.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}Sa(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const o=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Sm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new C(Tt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(l=(0,_e.Z)(function*(h,b){const M=hn(h),H=lc(M.M)+"/documents",W={documents:b.map(Vt=>Bo(M.M,Vt))},Te=yield M._o("BatchGetDocuments",H,W),Ye=new Map;Te.forEach(Vt=>{const Gt=function du(i,e){return"found"in e?function(t,o){jn(!!o.found);const l=So(t,o.found.name),h=Ds(o.found.updateTime),b=new vt({mapValue:{fields:o.found.fields}});return nn.newFoundDocument(l,h,b)}(i,e):"missing"in e?function(t,o){jn(!!o.missing),jn(!!o.readTime);const l=So(t,o.missing),h=Ds(o.readTime);return nn.newNoDocument(l,h)}(i,e):Dn()}(M.M,Vt);Ye.set(Gt.key.toString(),Gt)});const wt=[];return b.forEach(Vt=>{const Gt=Ye.get(Vt.toString());jn(!!Gt),wt.push(Gt)}),wt}),function(h,b){return l.apply(this,arguments)})(t.datastore,e);var l;return o.forEach(l=>t.recordVersion(l)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new cu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,l)=>{const h=sn.fromPath(l);e.mutations.push(new wl(h,e.precondition(h)))}),yield(o=(0,_e.Z)(function*(l,h){const b=hn(l),M=lc(b.M)+"/documents",H={writes:h.map(W=>Ao(b.M,W))};yield b.co("Commit",M,H)}),function(l,h){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Dn();t=Vn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new C(Tt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Wi.updateTime(t):Wi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Vn.min()))throw new C(Tt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Wi.updateTime(t)}return Wi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Am{constructor(e,t,o,l,h){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=l,this.deferred=h,this.xa=o.maxAttempts,this.No=new yp(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,_e.Z)(function*(){const t=new Sm(e.datastore),o=e.ka(t);o&&o.then(l=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(l)}).catch(h=>{e.Ma(h)}))}).catch(l=>{e.Ma(l)})}))}ka(e){try{const t=this.updateFunction(e);return!As(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!nc(t)}return!1}}class xm{constructor(e,t,o,l){var h=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=l,this.user=Li.UNAUTHENTICATED,this.clientId=jr.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var b=(0,_e.Z)(function*(M){Qt("FirestoreClient","Received user=",M.uid),yield h.authCredentialListener(M),h.user=M});return function(M){return b.apply(this,arguments)}}()),this.appCheckCredentials.start(o,b=>(Qt("FirestoreClient","Received new app check token=",b),this.appCheckCredentialListener(b,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new I;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const l=Ll(o,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function Gp(i,e){return af.apply(this,arguments)}function af(){return af=(0,_e.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Qt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,_e.Z)(function*(h){o.isEqual(h)||(yield im(e.localStore,h),o=h)});return function(h){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),af.apply(this,arguments)}function zp(i,e){return uf.apply(this,arguments)}function uf(){return uf=(0,_e.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield lf(i);Qt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(l=>tv(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,h)=>tv(e.remoteStore,h)),i.onlineComponents=e}),uf.apply(this,arguments)}function lf(i){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,_e.Z)(function*(i){return i.offlineComponents||(Qt("FirestoreClient","Using default OfflineComponentProvider"),yield Gp(i,new Ul)),i.offlineComponents}),Wp.apply(this,arguments)}function Nd(i){return qp.apply(this,arguments)}function qp(){return qp=(0,_e.Z)(function*(i){return i.onlineComponents||(Qt("FirestoreClient","Using default OnlineComponentProvider"),yield zp(i,new Qu)),i.onlineComponents}),qp.apply(this,arguments)}function Mm(i){return lf(i).then(e=>e.persistence)}function cf(i){return lf(i).then(e=>e.localStore)}function Rm(i){return Nd(i).then(e=>e.remoteStore)}function Yp(i){return Nd(i).then(e=>e.syncEngine)}function Gl(i){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,_e.Z)(function*(i){const e=yield Nd(i),t=e.eventManager;return t.onListen=uv.bind(null,e.syncEngine),t.onUnlisten=Y_.bind(null,e.syncEngine),t}),Kp.apply(this,arguments)}function bv(i,e,t={}){const o=new I;return i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(l,h,b,M,H){const W=new vu({next:Ye=>{h.enqueueAndForget(()=>qu(l,Te));const wt=Ye.docs.has(b);!wt&&Ye.fromCache?H.reject(new C(Tt.UNAVAILABLE,"Failed to get document because the client is offline.")):wt&&Ye.fromCache&&M&&"server"===M.source?H.reject(new C(Tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):H.resolve(Ye)},error:Ye=>H.reject(Ye)}),Te=new Op(Ua(b.path),W,{includeMetadataChanges:!0,ku:!0});return Rp(l,Te)}(yield Gl(i),i.asyncQueue,e,t,o)})),o.promise}function df(i,e,t={}){const o=new I;return i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(l,h,b,M,H){const W=new vu({next:Ye=>{h.enqueueAndForget(()=>qu(l,Te)),Ye.fromCache&&"server"===M.source?H.reject(new C(Tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):H.resolve(Ye)},error:Ye=>H.reject(Ye)}),Te=new Op(b,W,{includeMetadataChanges:!0,ku:!0});return Rp(l,Te)}(yield Gl(i),i.asyncQueue,e,t,o)})),o.promise}const Iv=new Map;function Xp(i,e,t){if(!t)throw new C(Tt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Qp(i,e,t,o){if(!0===e&&!0===o)throw new C(Tt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Dv(i){if(!sn.isDocumentKey(i))throw new C(Tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Pm(i){if(sn.isDocumentKey(i))throw new C(Tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function _u(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":Dn()}function Xr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new C(Tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_u(i);throw new C(Tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Jp(i,e){if(e<=0)throw new C(Tt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class km{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new C(Tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new C(Tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Qp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vc{constructor(e,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new km({}),this._settingsFrozen=!1,e instanceof Mi?this._databaseId=e:(this._app=e,this._databaseId=function(l){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new C(Tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mi(l.options.projectId)}(e))}get app(){if(!this._app)throw new C(Tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(Tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new km(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new P;switch(t.type){case"gapi":const o=t.client;return jn(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new We(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new C(Tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Iv.get(e);t&&(Qt("ComponentProvider","Removing Datastore"),Iv.delete(e),t.terminate())}(this),Promise.resolve()}}class Yi{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yi(this.firestore,e,this._key)}}class to{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class Ya extends to{constructor(e,t,o){super(e,t,Ua(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yi(this.firestore,null,new sn(e))}withConverter(e){return new Ya(this.firestore,e,this._path)}}function Nm(i,e,...t){if(i=(0,Pe.m9)(i),Xp("collection","path",e),i instanceof Vc){const o=Ur.fromString(e,...t);return Pm(o),new Ya(i,null,o)}{if(!(i instanceof Yi||i instanceof Ya))throw new C(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Ur.fromString(e,...t));return Pm(o),new Ya(i.firestore,null,o)}}function ff(i,e,...t){if(i=(0,Pe.m9)(i),1===arguments.length&&(e=jr.R()),Xp("doc","path",e),i instanceof Vc){const o=Ur.fromString(e,...t);return Dv(o),new Yi(i,null,new sn(o))}{if(!(i instanceof Yi||i instanceof Ya))throw new C(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Ur.fromString(e,...t));return Dv(o),new Yi(i.firestore,i instanceof Ya?i.converter:null,new sn(o))}}function Fm(i,e){return i=(0,Pe.m9)(i),e=(0,Pe.m9)(e),(i instanceof Yi||i instanceof Ya)&&(e instanceof Yi||e instanceof Ya)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function eg(i,e){return i=(0,Pe.m9)(i),e=(0,Pe.m9)(e),i instanceof to&&e instanceof to&&i.firestore===e.firestore&&ml(i._query,e._query)&&i.converter===e.converter}class Tv{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new yp(this,"async_queue_retry"),this.Qa=()=>{const t=Sd();t&&Qt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=Sd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=Sd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new I;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,_e.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!Fu(t))throw t;Qt("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(o=>{throw this.Ua=o,this.qa=!1,wi("INTERNAL UNHANDLED ERROR: ",function(h){let b=h.message||"";return h.stack&&(b=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),b}(o)),o}).then(o=>(this.qa=!1,o))));return this.Fa=t,t}enqueueAfterDelay(e,t,o){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const l=Pd.createAndSchedule(this,e,t,o,h=>this.Ha(h));return this.La.push(l),l}ja(){this.Ua&&Dn()}verifyOperationInProgress(){}Ja(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function pf(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const l of["next","error","complete"])if(l in o&&"function"==typeof o[l])return!0;return!1}(i)}class Lm{constructor(){this._progressObserver={},this._taskCompletionResolver=new I,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ls extends Vc{constructor(e,t,o){super(e,t,o),this.type="firestore",this._queue=new Tv,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||$c(this),this._firestoreClient.terminate()}}function Vs(i){return i._firestoreClient||$c(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function $c(i){var e;const t=i._freezeSettings(),o=(h=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Na(i._databaseId,h,i._persistenceKey,(M=t).host,M.ssl,M.experimentalForceLongPolling,M.experimentalAutoDetectLongPolling,M.useFetchStreams));var h,M;i._firestoreClient=new xm(i._authCredentials,i._appCheckCredentials,i._queue,o)}function gf(i,e,t){const o=new I;return i.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield Gp(i,t),yield zp(i,e),o.resolve()}catch(l){if(!("FirebaseError"===(h=l).name?h.code===Tt.FAILED_PRECONDITION||h.code===Tt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),o.reject(l)}var h})).then(()=>o.promise)}function sg(i){if(i._initialized||i._terminated)throw new C(Tt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ka{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new C(Tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ts(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ua(vs.fromBase64String(e))}catch(t){throw new C(Tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ua(vs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ju{constructor(e){this._methodName=e}}class Fd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new C(Tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new C(Tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Hn(this._lat,e._lat)||Hn(this._long,e._long)}}const og=/^__.*__$/;class jm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new lu(e,this.data,this.fieldMask,t,this.fieldTransforms):new tc(e,this.data,t,this.fieldTransforms)}}class Hm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new lu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ag(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dn()}}class Ld{constructor(e,t,o,l,h,b){this.settings=e,this.databaseId=t,this.M=o,this.ignoreUndefinedProperties=l,void 0===h&&this.tc(),this.fieldTransforms=h||[],this.fieldMask=b||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new Ld(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.nc({path:o,ic:!1});return l.rc(e),l}oc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.nc({path:o,ic:!1});return l.tc(),l}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return _f(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(ag(this.ec)&&og.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class ug{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=o||Ad(e)}lc(e,t,o,l=!1){return new Ld({ec:e,methodName:t,hc:o,path:ts.emptyPath(),ic:!1,cc:l},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function el(i){const e=i._freezeSettings(),t=Ad(i._databaseId);return new ug(i._databaseId,!!e.ignoreUndefinedProperties,t)}function mf(i,e,t,o,l,h={}){const b=i.lc(h.merge||h.mergeFields?2:0,e,t,l);Wm("Data must be an object, but it was:",b,o);const M=hg(o,b);let H,W;if(h.merge)H=new Ja(b.fieldMask),W=b.fieldTransforms;else if(h.mergeFields){const Te=[];for(const Ye of h.mergeFields){const wt=pg(e,Ye,t);if(!b.contains(wt))throw new C(Tt.INVALID_ARGUMENT,`Field '${wt}' is specified in your field mask but missing from your input data.`);xs(Te,wt)||Te.push(wt)}H=new Ja(Te),W=b.fieldTransforms.filter(Ye=>H.covers(Ye.field))}else H=null,W=b.fieldTransforms;return new jm(new vt(M),H,W)}class Uc extends Ju{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uc}}function lg(i,e,t){return new Ld({ec:3,hc:e.settings.hc,methodName:i._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class Bd extends Ju{_toFieldTransform(e){return new qs(e.path,new Pu)}isEqual(e){return e instanceof Bd}}class cg extends Ju{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=lg(this,e,!0),o=this.fc.map(h=>tl(h,t)),l=new au(o);return new qs(e.path,l)}isEqual(e){return this===e}}class Gm extends Ju{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=lg(this,e,!0),o=this.fc.map(h=>tl(h,t)),l=new Co(o);return new qs(e.path,l)}isEqual(e){return this===e}}class zm extends Ju{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new ku(e.M,Jc(e.M,this.dc));return new qs(e.path,t)}isEqual(e){return this===e}}function yf(i,e,t,o){const l=i.lc(1,e,t);Wm("Data must be an object, but it was:",l,o);const h=[],b=vt.empty();co(o,(H,W)=>{const Te=Vd(e,H,t);W=(0,Pe.m9)(W);const Ye=l.oc(Te);if(W instanceof Uc)h.push(Te);else{const wt=tl(W,Ye);null!=wt&&(h.push(Te),b.set(Te,wt))}});const M=new Ja(h);return new Hm(b,M,l.fieldTransforms)}function vf(i,e,t,o,l,h){const b=i.lc(1,e,t),M=[pg(e,o,t)],H=[l];if(h.length%2!=0)throw new C(Tt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let wt=0;wt<h.length;wt+=2)M.push(pg(e,h[wt])),H.push(h[wt+1]);const W=[],Te=vt.empty();for(let wt=M.length-1;wt>=0;--wt)if(!xs(W,M[wt])){const Vt=M[wt];let Gt=H[wt];Gt=(0,Pe.m9)(Gt);const Mn=b.oc(Vt);if(Gt instanceof Uc)W.push(Vt);else{const pr=tl(Gt,Mn);null!=pr&&(W.push(Vt),Te.set(Vt,pr))}}const Ye=new Ja(W);return new Hm(Te,Ye,b.fieldTransforms)}function dg(i,e,t,o=!1){return tl(t,i.lc(o?4:3,e))}function tl(i,e){if(fg(i=(0,Pe.m9)(i)))return Wm("Unsupported field value:",e,i),hg(i,e);if(i instanceof Ju)return function(t,o){if(!ag(o.ec))throw o.ac(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ac(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,o){const l=[];let h=0;for(const b of t){let M=tl(b,o.uc(h));null==M&&(M={nullValue:"NULL_VALUE"}),l.push(M),h++}return{arrayValue:{values:l}}}(i,e)}return function(t,o){if(null===(t=(0,Pe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Jc(o.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=Zr.fromDate(t);return{timestampValue:Tl(o.M,l)}}if(t instanceof Zr){const l=new Zr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Tl(o.M,l)}}if(t instanceof Fd)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ua)return{bytesValue:Sl(o.M,t._byteString)};if(t instanceof Yi){const l=o.databaseId,h=t.firestore._databaseId;if(!h.isEqual(l))throw o.ac(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:uc(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ac(`Unsupported field value: ${_u(t)}`)}(i,e)}function hg(i,e){const t={};return dl(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):co(i,(o,l)=>{const h=tl(l,e.sc(o));null!=h&&(t[o]=h)}),{mapValue:{fields:t}}}function fg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Zr||i instanceof Fd||i instanceof ua||i instanceof Yi||i instanceof Ju)}function Wm(i,e,t){if(!fg(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=_u(t);throw e.ac("an object"===o?i+" a custom object":i+" "+o)}var o}function pg(i,e,t){if((e=(0,Pe.m9)(e))instanceof Ka)return e._internalPath;if("string"==typeof e)return Vd(i,e);throw _f("Field path arguments must be of type string or ",i,!1,void 0,t)}const Mv=new RegExp("[~\\*/\\[\\]]");function Vd(i,e,t){if(e.search(Mv)>=0)throw _f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Ka(...e.split("."))._internalPath}catch(o){throw _f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function _f(i,e,t,o,l){const h=o&&!o.isEmpty(),b=void 0!==l;let M=`Function ${e}() called with invalid data`;t&&(M+=" (via `toFirestore()`)"),M+=". ";let H="";return(h||b)&&(H+=" (found",h&&(H+=` in field ${o}`),b&&(H+=` in document ${l}`),H+=")"),new C(Tt.INVALID_ARGUMENT,M+i+H)}function xs(i,e){return i.some(t=>t.isEqual(e))}class jc{constructor(e,t,o,l,h){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Yi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Rv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(bf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Rv extends jc{data(){return super.data()}}function bf(i,e){return"string"==typeof e?Vd(i,e):e instanceof Ka?e._internalPath:e._delegate._internalPath}class nl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bu extends jc{constructor(e,t,o,l,h,b){super(e,t,o,l,b),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(bf("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Hc extends bu{data(e={}){return super.data(e)}}class Eu{constructor(e,t,o,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new nl(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Hc(this._firestore,this._userDataWriter,o.key,o,new nl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new C(Tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(b=>({type:"added",doc:new Hc(o._firestore,o._userDataWriter,b.doc.key,b.doc,new nl(o._snapshot.mutatedKeys.has(b.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:h++}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(b=>l||3!==b.type).map(b=>{const M=new Hc(o._firestore,o._userDataWriter,b.doc.key,b.doc,new nl(o._snapshot.mutatedKeys.has(b.doc.key),o._snapshot.fromCache),o.query.converter);let H=-1,W=-1;return 0!==b.type&&(H=h.indexOf(b.doc.key),h=h.delete(b.doc.key)),1!==b.type&&(h=h.add(b.doc),W=h.indexOf(b.doc.key)),{type:Gc(b.type),doc:M,oldIndex:H,newIndex:W}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Gc(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dn()}}function qm(i,e){return i instanceof bu&&e instanceof bu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Eu&&e instanceof Eu&&i._firestore===e._firestore&&eg(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Ym(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new C(Tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zc{}function rl(i,...e){for(const t of e)i=t._apply(i);return i}class Km extends zc{constructor(e,t,o){super(),this._c=e,this.wc=t,this.mc=o,this.type="where"}_apply(e){const t=el(e.firestore),o=function(l,h,b,M,H,W,Te){let Ye;if(H.isKeyField()){if("array-contains"===W||"array-contains-any"===W)throw new C(Tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${W}' queries on documentId().`);if("in"===W||"not-in"===W){ey(Te,W);const Vt=[];for(const Gt of Te)Vt.push(Jm(M,l,Gt));Ye={arrayValue:{values:Vt}}}else Ye=Jm(M,l,Te)}else"in"!==W&&"not-in"!==W&&"array-contains-any"!==W||ey(Te,W),Ye=dg(b,"where",Te,"in"===W||"not-in"===W);const wt=Ls.create(H,W,Ye);return function(Vt,Gt){if(Gt.S()){const pr=gl(Vt);if(null!==pr&&!pr.isEqual(Gt.field))throw new C(Tt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${pr.toString()}' and '${Gt.field.toString()}'`);const is=Ou(Vt);null!==is&&Ef(0,Gt.field,is)}const Mn=function(pr,is){for(const Rs of pr.filters)if(is.indexOf(Rs.op)>=0)return Rs.op;return null}(Vt,function(pr){switch(pr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Gt.op));if(null!==Mn)throw new C(Tt.INVALID_ARGUMENT,Mn===Gt.op?`Invalid query. You cannot use more than one '${Gt.op.toString()}' filter.`:`Invalid query. You cannot use '${Gt.op.toString()}' filters with '${Mn.toString()}' filters.`)}(l,wt),wt}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new to(e.firestore,e.converter,function(l,h){const b=l.filters.concat([h]);return new fo(l.path,l.collectionGroup,l.explicitOrderBy.slice(),b,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,o))}}class Zm extends zc{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(o,l,h){if(null!==o.startAt)throw new C(Tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new C(Tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const b=new Ru(l,h);return function(M,H){if(null===Ou(M)){const W=gl(M);null!==W&&Ef(0,W,H.field)}}(o,b),b}(e._query,this._c,this.gc);return new to(e.firestore,e.converter,function(o,l){const h=o.explicitOrderBy.concat([l]);return new fo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class wa extends zc{constructor(e,t,o){super(),this.type=e,this.yc=t,this.Ic=o}_apply(e){return new to(e.firestore,e.converter,Zc(e._query,this.yc,this.Ic))}}class Ia extends zc{constructor(e,t,o){super(),this.type=e,this.Tc=t,this.Ec=o}_apply(e){const t=Qm(e,this.type,this.Tc,this.Ec);return new to(e.firestore,e.converter,(l=t,new fo((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,l,o.endAt)));var o,l}}class mg extends zc{constructor(e,t,o){super(),this.type=e,this.Tc=t,this.Ec=o}_apply(e){const t=Qm(e,this.type,this.Tc,this.Ec);return new to(e.firestore,e.converter,(l=t,new fo((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,l)));var o,l}}function Qm(i,e,t,o){if(t[0]=(0,Pe.m9)(t[0]),t[0]instanceof jc)return function(l,h,b,M,H){if(!M)throw new C(Tt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${b}().`);const W=[];for(const Te of ou(l))if(Te.field.isKeyField())W.push(ho(h,M.key));else{const Ye=M.data.field(Te.field);if(Wo(Ye))throw new C(Tt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ye){const wt=Te.field.canonicalString();throw new C(Tt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${wt}' (used as the orderBy) does not exist.`)}W.push(Ye)}return new $a(W,H)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const l=el(i.firestore);return function(h,b,M,H,W,Te){const Ye=h.explicitOrderBy;if(W.length>Ye.length)throw new C(Tt.INVALID_ARGUMENT,`Too many arguments provided to ${H}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const wt=[];for(let Vt=0;Vt<W.length;Vt++){const Gt=W[Vt];if(Ye[Vt].field.isKeyField()){if("string"!=typeof Gt)throw new C(Tt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${H}(), but got a ${typeof Gt}`);if(!Ql(h)&&-1!==Gt.indexOf("/"))throw new C(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${H}() must be a plain document ID, but '${Gt}' contains a slash.`);const Mn=h.path.child(Ur.fromString(Gt));if(!sn.isDocumentKey(Mn))throw new C(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${H}() must result in a valid document path, but '${Mn}' is not because it contains an odd number of segments.`);const pr=new sn(Mn);wt.push(ho(b,pr))}else{const Mn=dg(M,H,Gt);wt.push(Mn)}}return new $a(wt,Te)}(i._query,i.firestore._databaseId,l,e,t,o)}}function Jm(i,e,t){if("string"==typeof(t=(0,Pe.m9)(t))){if(""===t)throw new C(Tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ql(e)&&-1!==t.indexOf("/"))throw new C(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Ur.fromString(t));if(!sn.isDocumentKey(o))throw new C(Tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ho(i,new sn(o))}if(t instanceof Yi)return ho(i,t._key);throw new C(Tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_u(t)}.`)}function ey(i,e){if(!Array.isArray(i)||0===i.length)throw new C(Tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new C(Tt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Ef(i,e,t){if(!t.isEqual(e))throw new C(Tt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const $d={maxAttempts:5};class yg{convertValue(e,t="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Dn()}}convertObject(e,t){const o={};return co(e.fields,(l,h)=>{o[l]=this.convertValue(h,t)}),o}convertGeoPoint(e){return new Fd(Vi(e.latitude),Vi(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=ta(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(na(e));default:return null}}convertTimestamp(e){const t=Js(e);return new Zr(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Ur.fromString(e);jn(re(o));const l=new Mi(o.get(1),o.get(3)),h=new sn(o.popFirst(5));return l.isEqual(t)||wi(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),h}}function Ud(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class Nv extends yg{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yi(this.firestore,null,t)}}class vg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=el(e)}set(e,t,o){this._verifyNotCommitted();const l=wu(e,this._firestore),h=Ud(l.converter,t,o),b=mf(this._dataReader,"WriteBatch.set",l._key,h,null!==l.converter,o);return this._mutations.push(b.toMutation(l._key,Wi.none())),this}update(e,t,o,...l){this._verifyNotCommitted();const h=wu(e,this._firestore);let b;return b="string"==typeof(t=(0,Pe.m9)(t))||t instanceof Ka?vf(this._dataReader,"WriteBatch.update",h._key,t,o,l):yf(this._dataReader,"WriteBatch.update",h._key,t),this._mutations.push(b.toMutation(h._key,Wi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=wu(e,this._firestore);return this._mutations=this._mutations.concat(new cu(t._key,Wi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new C(Tt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wu(i,e){if((i=(0,Pe.m9)(i)).firestore!==e)throw new C(Tt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class zl extends yg{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yi(this.firestore,null,t)}}function bg(i,e,t){i=Xr(i,Yi);const o=Xr(i.firestore,ls),l=Ud(i.converter,e,t);return Wl(o,[mf(el(o),"setDoc",i._key,l,null!==i.converter,t).toMutation(i._key,Wi.none())])}function Eg(i,e,t,...o){i=Xr(i,Yi);const l=Xr(i.firestore,ls),h=el(l);let b;return b="string"==typeof(e=(0,Pe.m9)(e))||e instanceof Ka?vf(h,"updateDoc",i._key,e,t,o):yf(h,"updateDoc",i._key,e),Wl(l,[b.toMutation(i._key,Wi.exists(!0))])}function wg(i,...e){var t,o,l;i=(0,Pe.m9)(i);let h={includeMetadataChanges:!1},b=0;"object"!=typeof e[b]||pf(e[b])||(h=e[b],b++);const M={includeMetadataChanges:h.includeMetadataChanges};if(pf(e[b])){const Ye=e[b];e[b]=null===(t=Ye.next)||void 0===t?void 0:t.bind(Ye),e[b+1]=null===(o=Ye.error)||void 0===o?void 0:o.bind(Ye),e[b+2]=null===(l=Ye.complete)||void 0===l?void 0:l.bind(Ye)}let H,W,Te;if(i instanceof Yi)W=Xr(i.firestore,ls),Te=Ua(i._key.path),H={next:Ye=>{e[b]&&e[b](Ig(W,i,Ye))},error:e[b+1],complete:e[b+2]};else{const Ye=Xr(i,to);W=Xr(Ye.firestore,ls),Te=Ye._query;const wt=new zl(W);H={next:Vt=>{e[b]&&e[b](new Eu(W,wt,Ye,Vt))},error:e[b+1],complete:e[b+2]},Ym(i._query)}return function(Ye,wt,Vt,Gt){const Mn=new vu(Gt),pr=new Op(wt,Mn,Vt);return Ye.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return Rp(yield Gl(Ye),pr)})),()=>{Mn.Aa(),Ye.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return qu(yield Gl(Ye),pr)}))}}(Vs(W),Te,M,H)}function Wl(i,e){return function(t,o){const l=new I;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function lv(i,e,t){return Lp.apply(this,arguments)}(yield Yp(t),o,l)})),l.promise}(Vs(i),e)}function Ig(i,e,t){const o=t.docs.get(e._key),l=new zl(i);return new bu(i,l,e._key,o,new nl(t.hasPendingWrites,t.fromCache),e.converter)}class Fv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=el(e)}get(e){const t=wu(e,this._firestore),o=new Nv(this._firestore);return this._transaction.lookup([t._key]).then(l=>{if(!l||1!==l.length)return Dn();const h=l[0];if(h.isFoundDocument())return new jc(this._firestore,o,h.key,h,t.converter);if(h.isNoDocument())return new jc(this._firestore,o,t._key,null,t.converter);throw Dn()})}set(e,t,o){const l=wu(e,this._firestore),h=Ud(l.converter,t,o),b=mf(this._dataReader,"Transaction.set",l._key,h,null!==l.converter,o);return this._transaction.set(l._key,b),this}update(e,t,o,...l){const h=wu(e,this._firestore);let b;return b="string"==typeof(t=(0,Pe.m9)(t))||t instanceof Ka?vf(this._dataReader,"Transaction.update",h._key,t,o,l):yf(this._dataReader,"Transaction.update",h._key,t),this._transaction.update(h._key,b),this}delete(e){const t=wu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=wu(e,this._firestore),o=new zl(this._firestore);return super.get(e).then(l=>new bu(this._firestore,o,t._key,l._document,new nl(!1,!1),t.converter))}}function Dg(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new C("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function uy(){if("undefined"==typeof Uint8Array)throw new C("unimplemented","Uint8Arrays are not available in this environment.")}function ly(){if(!function Jd(){return"undefined"!=typeof atob}())throw new C("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){wo=mt.SDK_VERSION,(0,mt._registerComponent)(new Dt.wA("firestore",(t,{options:o})=>{const l=t.getProvider("app").getImmediate(),h=new ls(l,new Z(t.getProvider("auth-internal")),new En(t.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC")),(0,mt.registerVersion)(Eo,"3.4.9",i),(0,mt.registerVersion)(Eo,"3.4.9","esm2017")}();class jd{constructor(e){this._delegate=e}static fromBase64String(e){return ly(),new jd(ua.fromBase64String(e))}static fromUint8Array(e){return uy(),new jd(ua.fromUint8Array(e))}toBase64(){return ly(),this._delegate.toBase64()}toUint8Array(){return uy(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Cg(i){return function cy(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class dy{enableIndexedDbPersistence(e,t){return function Vm(i,e){sg(i=Xr(i,ls));const t=Vs(i),o=i._freezeSettings(),l=new Qu;return gf(t,l,new jl(l,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function ng(i){sg(i=Xr(i,ls));const e=Vs(i),t=i._freezeSettings(),o=new Qu;return gf(e,o,new Bc(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Sv(i){if(i._initialized&&!i._terminated)throw new C(Tt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new I;return i._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(o){if(!ya.vt())return Promise.resolve();const l=o+"main";yield ya.delete(l)}),function(o){return t.apply(this,arguments)})(nm(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Tg{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Mi||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Fs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function hf(i,e,t,o={}){var l;const h=(i=Xr(i,Vc))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==e&&Fs("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},h),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let b,M;if("string"==typeof o.mockUserToken)b=o.mockUserToken,M=Li.MOCK_USER;else{b=(0,Pe.Sg)(o.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const H=o.mockUserToken.sub||o.mockUserToken.user_id;if(!H)throw new C(Tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new Li(H)}i._authCredentials=new $(new w(b,M))}}(this._delegate,e,t,o)}enableNetwork(){return function ig(i){return function Om(i){return i.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield Mm(i),t=yield Rm(i);return e.setNetworkEnabled(!0),function(o){const l=hn(o);return l.wu.delete(0),Tc(l)}(t)}))}(Vs(i=Xr(i,ls)))}(this._delegate)}disableNetwork(){return function $m(i){return function vv(i){return i.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield Mm(i),t=yield Rm(i);return e.setNetworkEnabled(!1),(o=(0,_e.Z)(function*(l){const h=hn(l);h.wu.add(0),yield Sc(h),h.yu.set("Offline")}),function(l){return o.apply(this,arguments)})(t);var o}))}(Vs(i=Xr(i,ls)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Qp("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function rg(i){return function(e){const t=new I;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function K_(i,e){return Jh.apply(this,arguments)}(yield Yp(e),t)})),t.promise}(Vs(i=Xr(i,ls)))}(this._delegate)}onSnapshotsInSync(e){return function oy(i,e){return function Zp(i,e){const t=new vu(e);return i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return o=yield Gl(i),l=t,hn(o).bu.add(l),void l.next();var o,l})),()=>{t.Aa(),i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return o=yield Gl(i),l=t,void hn(o).bu.delete(l);var o,l}))}}(Vs(i=Xr(i,ls)),pf(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new C("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new qd(this,Nm(this._delegate,e))}catch(t){throw mo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ko(this,ff(this._delegate,e))}catch(t){throw mo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ms(this,function Cv(i,e){if(i=Xr(i,Vc),Xp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new C(Tt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new to(i,null,(t=e,new fo(Ur.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw mo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Lv(i,e,t){i=Xr(i,ls);const o=Object.assign(Object.assign({},$d),t);return function(l){if(l.maxAttempts<1)throw new C(Tt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function wv(i,e,t){const o=new I;return i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const l=yield(h=i,Nd(h).then(b=>b.datastore));var h;new Am(i.asyncQueue,l,t,e,o).run()})),o.promise}(Vs(i),l=>e(new Fv(i,l)),o)}(this._delegate,t=>e(new Sg(this,t)))}batch(){return Vs(this._delegate),new Ag(new vg(this._delegate,e=>Wl(this._delegate,e)))}loadBundle(e){return function Av(i,e){const t=Vs(i=Xr(i,ls)),o=new Lm;return function Z_(i,e,t,o){const l=function(h,b){let M;return M="string"==typeof h?(new TextEncoder).encode(h):h,H=function(H,W){if(H instanceof Uint8Array)return Hl(H,W);if(H instanceof ArrayBuffer)return Hl(new Uint8Array(H),W);if(H instanceof ReadableStream)return H.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new Tm(H,b);var H}(t,Ad(e));i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function Lc(i,e,t){const o=hn(i);var l;(l=(0,_e.Z)(function*(h,b,M){try{const H=yield b.getMetadata();if(yield function(wt,Vt){const Gt=hn(wt),Mn=Ds(Vt.createTime);return Gt.persistence.runTransaction("hasNewerBundle","readonly",pr=>Gt._s.getBundleMetadata(pr,Vt.id)).then(pr=>!!pr&&pr.createTime.compareTo(Mn)>=0)}(h.localStore,H))return yield b.close(),M._completeWith({taskState:"Success",documentsLoaded:(wt=H).totalDocuments,bytesLoaded:wt.totalBytes,totalDocuments:wt.totalDocuments,totalBytes:wt.totalBytes}),Promise.resolve(new Set);M._updateProgress(Yo(H));const W=new ov(H,h.localStore,b.M);let Te=yield b.ma();for(;Te;){const wt=yield W.Fu(Te);wt&&M._updateProgress(wt),Te=yield b.ma()}const Ye=yield W.complete();return yield Ea(h,Ye.Lu,void 0),yield function(wt,Vt){const Gt=hn(wt);return Gt.persistence.runTransaction("Save bundle","readwrite",Mn=>Gt._s.saveBundleMetadata(Mn,Vt))}(h.localStore,H),M._completeWith(Ye.progress),Promise.resolve(Ye.Bu)}catch(H){return Fs("SyncEngine",`Loading bundle failed with ${H}`),M._failWith(H),Promise.resolve(new Set)}var wt}),function(h,b,M){return l.apply(this,arguments)})(o,e,t).then(l=>{o.sharedClientState.notifyBundleLoaded(l)})}(yield Yp(i),l,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Um(i,e){return function X_(i,e){return i.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,o){const l=hn(t);return l.persistence.runTransaction("Get named query","readonly",h=>l._s.getNamedQuery(h,o))}(yield cf(i),e)}))}(Vs(i=Xr(i,ls)),e).then(t=>t?new to(i,null,t.query):null)}(this._delegate,e).then(t=>t?new Ms(this,t):null)}}class Hd extends yg{constructor(e){super(),this.firestore=e}convertBytes(e){return new jd(new ua(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ko.forKey(t,this.firestore,null)}}class Sg{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Hd(e)}get(e){const t=ol(e);return this._delegate.get(t).then(o=>new Gd(this._firestore,new bu(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const l=ol(e);return o?(Dg("Transaction.set",o),this._delegate.set(l,t,o)):this._delegate.set(l,t),this}update(e,t,o,...l){const h=ol(e);return 2===arguments.length?this._delegate.update(h,t):this._delegate.update(h,t,o,...l),this}delete(e){const t=ol(e);return this._delegate.delete(t),this}}class Ag{constructor(e){this._delegate=e}set(e,t,o){const l=ol(e);return o?(Dg("WriteBatch.set",o),this._delegate.set(l,t,o)):this._delegate.set(l,t),this}update(e,t,o,...l){const h=ol(e);return 2===arguments.length?this._delegate.update(h,t):this._delegate.update(h,t,o,...l),this}delete(e){const t=ol(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class il{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Hc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new zd(this._firestore,o),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=il.INSTANCES;let l=o.get(e);l||(l=new WeakMap,o.set(e,l));let h=l.get(t);return h||(h=new il(e,new Hd(e),t),l.set(t,h)),h}}il.INSTANCES=new WeakMap;class Ko{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Hd(e)}static forPath(e,t,o){if(e.length%2!=0)throw new C("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ko(t,new Yi(t._delegate,o,new sn(e)))}static forKey(e,t,o){return new Ko(t,new Yi(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new qd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new qd(this.firestore,Nm(this._delegate,e))}catch(t){throw mo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Pe.m9)(e))instanceof Yi&&Fm(this._delegate,e)}set(e,t){t=Dg("DocumentReference.set",t);try{return t?bg(this._delegate,e,t):bg(this._delegate,e)}catch(o){throw mo(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?Eg(this._delegate,e):Eg(this._delegate,e,t,...o)}catch(l){throw mo(l,"updateDoc()","DocumentReference.update()")}}delete(){return function iy(i){return Wl(Xr(i.firestore,ls),[new cu(i._key,Wi.none())])}(this._delegate)}onSnapshot(...e){const t=xg(e),o=sl(e,l=>new Gd(this.firestore,new bu(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return wg(this._delegate,t,o)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function ty(i){i=Xr(i,Yi);const e=Xr(i.firestore,ls),t=Vs(e),o=new zl(e);return function _v(i,e){const t=new I;return i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(o=(0,_e.Z)(function*(l,h,b){try{const M=yield function(H,W){const Te=hn(H);return Te.persistence.runTransaction("read document","readonly",Ye=>Te.fi.Ls(Ye,W))}(l,h);M.isFoundDocument()?b.resolve(M):M.isNoDocument()?b.resolve(null):b.reject(new C(Tt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const H=Ll(M,`Failed to get document '${h} from cache`);b.reject(H)}}),function(l,h,b){return o.apply(this,arguments)})(yield cf(i),e,t);var o})),t.promise}(t,i._key).then(l=>new bu(e,o,i._key,l,new nl(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function ny(i){i=Xr(i,Yi);const e=Xr(i.firestore,ls);return bv(Vs(e),i._key,{source:"server"}).then(t=>Ig(e,i,t))}(this._delegate):function wf(i){i=Xr(i,Yi);const e=Xr(i.firestore,ls);return bv(Vs(e),i._key).then(t=>Ig(e,i,t))}(this._delegate),t.then(o=>new Gd(this.firestore,new bu(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Ko(this.firestore,this._delegate.withConverter(e?il.getInstance(this.firestore,e):null))}}function mo(i,e,t){return i.message=i.message.replace(e,t),i}function xg(i){for(const e of i)if("object"==typeof e&&!Cg(e))return e;return{}}function sl(i,e){var t,o;let l;return l=Cg(i[0])?i[0]:Cg(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:h=>{l.next&&l.next(e(h))},error:null===(t=l.error)||void 0===t?void 0:t.bind(l),complete:null===(o=l.complete)||void 0===o?void 0:o.bind(l)}}class Gd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ko(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return qm(this._delegate,e._delegate)}}class zd extends Gd{data(e){const t=this._delegate.data(e);return function Io(i,e){i||Dn()}(void 0!==t),t}}class Ms{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Hd(e)}where(e,t,o){try{return new Ms(this.firestore,rl(this._delegate,function J_(i,e,t){const o=e,l=bf("where",i);return new Km(l,o,t)}(e,t,o)))}catch(l){throw mo(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ms(this.firestore,rl(this._delegate,function gg(i,e="asc"){const t=e,o=bf("orderBy",i);return new Zm(o,t)}(e,t)))}catch(o){throw mo(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ms(this.firestore,rl(this._delegate,function Ov(i){return Jp("limit",i),new wa("limit",i,"F")}(e)))}catch(t){throw mo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ms(this.firestore,rl(this._delegate,function Pv(i){return Jp("limitToLast",i),new wa("limitToLast",i,"L")}(e)))}catch(t){throw mo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ms(this.firestore,rl(this._delegate,function Da(...i){return new Ia("startAt",i,!0)}(...e)))}catch(t){throw mo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ms(this.firestore,rl(this._delegate,function Ca(...i){return new Ia("startAfter",i,!1)}(...e)))}catch(t){throw mo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ms(this.firestore,rl(this._delegate,function Xm(...i){return new mg("endBefore",i,!1)}(...e)))}catch(t){throw mo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ms(this.firestore,rl(this._delegate,function kv(...i){return new mg("endAt",i,!0)}(...e)))}catch(t){throw mo(t,"endAt()","Query.endAt()")}}isEqual(e){return eg(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function If(i){i=Xr(i,to);const e=Xr(i.firestore,ls),t=Vs(e),o=new zl(e);return function Ev(i,e){const t=new I;return i.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(o=(0,_e.Z)(function*(l,h,b){try{const M=yield kh(l,h,!0),H=new kp(h,M._i),W=H.Wu(M.documents),Te=H.applyChanges(W,!1);b.resolve(Te.snapshot)}catch(M){const H=Ll(M,`Failed to execute query '${h} against cache`);b.reject(H)}}),function(l,h,b){return o.apply(this,arguments)})(yield cf(i),e,t);var o})),t.promise}(t,i._query).then(l=>new Eu(e,o,i,l))}(this._delegate):"server"===(null==e?void 0:e.source)?function ry(i){i=Xr(i,to);const e=Xr(i.firestore,ls),t=Vs(e),o=new zl(e);return df(t,i._query,{source:"server"}).then(l=>new Eu(e,o,i,l))}(this._delegate):function _g(i){i=Xr(i,to);const e=Xr(i.firestore,ls),t=Vs(e),o=new zl(e);return Ym(i._query),df(t,i._query).then(l=>new Eu(e,o,i,l))}(this._delegate),t.then(o=>new Wd(this.firestore,new Eu(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=xg(e),o=sl(e,l=>new Wd(this.firestore,new Eu(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return wg(this._delegate,t,o)}withConverter(e){return new Ms(this.firestore,this._delegate.withConverter(e?il.getInstance(this.firestore,e):null))}}class n0{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new zd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Wd{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ms(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new zd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new n0(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new zd(this._firestore,o))})}isEqual(e){return qm(this._delegate,e._delegate)}}class qd extends Ms{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ko(this.firestore,e):null}doc(e){try{return new Ko(this.firestore,void 0===e?ff(this._delegate):ff(this._delegate,e))}catch(t){throw mo(t,"doc()","CollectionReference.doc()")}}add(e){return function sy(i,e){const t=Xr(i.firestore,ls),o=ff(i),l=Ud(i.converter,e);return Wl(t,[mf(el(i.firestore),"addDoc",o._key,l,null!==i.converter,{}).toMutation(o._key,Wi.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new Ko(this.firestore,t))}isEqual(e){return Fm(this._delegate,e._delegate)}withConverter(e){return new qd(this.firestore,this._delegate.withConverter(e?il.getInstance(this.firestore,e):null))}}function ol(i){return Xr(i,Yi)}class Df{constructor(...e){this._delegate=new Ka(...e)}static documentId(){return new Df(ts.keyField().canonicalString())}isEqual(e){return(e=(0,Pe.m9)(e))instanceof Ka&&this._delegate._internalPath.isEqual(e._internalPath)}}class Wc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Vv(){return new Bd("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Wc(e)}static delete(){const e=function Bv(){return new Uc("deleteField")}();return e._methodName="FieldValue.delete",new Wc(e)}static arrayUnion(...e){const t=function $v(...i){return new cg("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new Wc(t)}static arrayRemove(...e){const t=function Uv(...i){return new Gm("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new Wc(t)}static increment(e){const t=function jv(i){return new zm("increment",i)}(e);return t._methodName="FieldValue.increment",new Wc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const sr={Firestore:Tg,GeoPoint:Fd,Timestamp:Zr,Blob:jd,Transaction:Sg,WriteBatch:Ag,DocumentReference:Ko,DocumentSnapshot:Gd,Query:Ms,QueryDocumentSnapshot:zd,QuerySnapshot:Wd,CollectionReference:qd,FieldPath:Df,FieldValue:Wc,setLogLevel:function hy(i){!function da(i){zo.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Wv(i){(function zv(i,e){i.INTERNAL.registerComponent(new Dt.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),l=t.getProvider("firestore").getImmediate();return e(o,l)},"PUBLIC").setServiceProps(Object.assign({},sr)))})(i,(e,t)=>new Tg(e,t,new dy)),i.registerVersion("@firebase/firestore-compat","0.1.18")}(ut.Z);var al=F(4941),Cf=F(440),qv=F(127);function Yd(i,e){return function Tf(i,e=se.z){return new G.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(i,e)}function fy(i,e){return Yd(i,e).pipe((0,ge.U)(t=>({payload:t,type:"query"})))}function Kd(i,e){return fy(i,e).pipe((0,ne.O)(void 0),ve(),(0,ge.U)(([t,o])=>{const l=o.payload.docChanges(),h=l.map(b=>({type:b.type,payload:b}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((b,M)=>{const H=l.find(Te=>Te.doc.ref.isEqual(b.ref)),W=null==t?void 0:t.payload.docs.find(Te=>Te.ref.isEqual(b.ref));H&&JSON.stringify(H.doc.metadata)===JSON.stringify(b.metadata)||!H&&W&&JSON.stringify(W.metadata)===JSON.stringify(b.metadata)||h.push({type:"modified",payload:{oldIndex:M,newIndex:M,type:"modified",doc:b}})}),h}))}function py(i,e,t){return Kd(i,t).pipe((0,Q.R)((o,l)=>function Yv(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function gy(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Sf(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Sf(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Sf(i,e.oldIndex,1)}return i}(i,o))}),i}(o,l.map(h=>h.payload),e),[]),(0,fe.x)(),(0,ge.U)(o=>o.map(l=>({type:l.type,payload:l}))))}function Sf(i,e,t,...o){const l=i.slice();return l.splice(e,t,...o),l}function Mg(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Rg{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Kd(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ge.U)(o=>o.filter(l=>e.indexOf(l.type)>-1)))),t.pipe((0,ne.O)(void 0),ve(),(0,Be.h)(([o,l])=>l.length>0||!o),(0,ge.U)(([o,l])=>l),ue.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Q.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Mg(e);return py(this.query,t,this.afs.schedulers.outsideAngular).pipe(ue.iC)}valueChanges(e={}){return fy(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),ue.iC)}get(e){return(0,Fe.D)(this.query.get(e)).pipe(ue.iC)}add(e){return this.ref.add(e)}doc(e){return new my(this.ref.doc(e),this.afs)}}class my{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:l,query:h}=vy(o,t);return new Rg(l,h,this.afs)}snapshotChanges(){return function bs(i,e){return Yd(i,e).pipe((0,ne.O)(void 0),ve(),(0,ge.U)(([t,o])=>o.exists?(null==t?void 0:t.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ue.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ge.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Fe.D)(this.ref.get(e)).pipe(ue.iC)}}class Kv{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Kd(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,Be.h)(t=>t.length>0),ue.iC):Kd(this.query,this.afs.schedulers.outsideAngular).pipe(ue.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Q.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Mg(e);return py(this.query,t,this.afs.schedulers.outsideAngular).pipe(ue.iC)}valueChanges(e={}){return fy(this.query,this.afs.schedulers.outsideAngular).pipe((0,ge.U)(o=>o.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),ue.iC)}get(e){return(0,Fe.D)(this.query.get(e)).pipe(ue.iC)}}const yy=new a.OlP("angularfire2.enableFirestorePersistence"),qc=new a.OlP("angularfire2.firestore.persistenceSettings"),Zv=new a.OlP("angularfire2.firestore.settings"),Xv=new a.OlP("angularfire2.firestore.use-emulator");function vy(i,e=(t=>t)){return{query:e(i),ref:i}}let Zd=(()=>{class i{constructor(t,o,l,h,b,M,H,W,Te,Ye,wt,Vt,Gt,Mn,pr,is,Rs){this.schedulers=H;const Ti=(0,oe.on)(t,M,o),cs=Te;Ye&&(0,al.nw)(Ti,M,wt,Gt,Mn,pr,Vt,is),[this.firestore,this.persistenceEnabled$]=(0,oe.cc)(`${Ti.name}.firestore`,"AngularFirestore",Ti.name,()=>{const Ki=M.runOutsideAngular(()=>Ti.firestore());if(h&&Ki.settings(h),cs&&Ki.useEmulator(...cs),l&&!(0,xe.PM)(b)){const ds=()=>{try{return(0,Fe.D)(Ki.enablePersistence(W||void 0).then(()=>!0,()=>!1))}catch(no){return"undefined"!=typeof console&&console.warn(no),(0,Ae.of)(!1)}};return[Ki,M.runOutsideAngular(ds)]}return[Ki,(0,Ae.of)(!1)]},[h,cs,l])}collection(t,o){let l;l="string"==typeof t?this.firestore.collection(t):t;const{ref:h,query:b}=vy(l,o),M=this.schedulers.ngZone.run(()=>h);return new Rg(M,b,this)}collectionGroup(t,o){const l=o||(b=>b),h=this.firestore.collectionGroup(t);return new Kv(l(h),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const l=this.schedulers.ngZone.run(()=>o);return new my(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(a.LFG(oe.Dh),a.LFG(oe.xv,8),a.LFG(yy,8),a.LFG(Zv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(ue.HU),a.LFG(qc,8),a.LFG(Xv,8),a.LFG(al.zQ,8),a.LFG(al.Qv,8),a.LFG(al.L6,8),a.LFG(al._Q,8),a.LFG(al.rT,8),a.LFG(al.lh,8),a.LFG(al.f7,8),a.LFG(Cf.nm,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),_y=(()=>{class i{constructor(){qv.Z.registerVersion("angularfire",ue.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:yy,useValue:!0},{provide:qc,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[Zd]}),i})()},4586:(Wt,rt,F)=>{"use strict";F.d(rt,{Q1:()=>yo,TE:()=>y});var a=F(2916),se=F(1086),G=F(5254),Fe=F(3489),Ae=F(353);class De{constructor(m,V){this.dueTime=m,this.scheduler=V}call(m,V){return V.subscribe(new ve(m,this.dueTime,this.scheduler))}}class ve extends Fe.L{constructor(m,V,ie){super(m),this.dueTime=V,this.scheduler=ie,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(m){this.clearDebounce(),this.lastValue=m,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(de,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:m}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(m)}}clearDebounce(){const m=this.debouncedSubscription;null!==m&&(this.remove(m),m.unsubscribe(),this.debouncedSubscription=null)}}function de(g){g.debouncedNext()}var ee=F(4850),ne=F(7545),ge=F(6351),Q=F(6435),fe=F(2011),Be=F(3942),oe=F(9671),xe=F(9681),ye=F(2090),ut=F(4859);const _e="firebasestorage.googleapis.com",mt="storageBucket";class Pe extends ye.ZR{constructor(m,V){super(lt(m),`Firebase Storage: ${V} (${lt(m)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pe.prototype)}_codeEquals(m){return lt(m)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(m){this.customData.serverResponse=m,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function lt(g){return"storage/"+g}function he(){return new Pe("unknown","An unknown error occurred, please check the error payload for server response.")}function pt(){return new Pe("canceled","User canceled the upload/download.")}function qe(){return new Pe("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Ee(g){return new Pe("invalid-argument",g)}function et(){return new Pe("app-deleted","The Firebase app was deleted.")}function It(g){return new Pe("invalid-root-operation","The operation '"+g+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ge(g,m){return new Pe("invalid-format","String does not match format '"+g+"': "+m)}function Ft(g){throw new Pe("internal-error","Internal error: "+g)}class an{constructor(m,V){this.bucket=m,this.path_=V}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const m=encodeURIComponent;return"/b/"+m(this.bucket)+"/o/"+m(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(m,V){let ie;try{ie=an.makeFromUrl(m,V)}catch(Ie){return new an(m,"")}if(""===ie.path)return ie;throw function it(g){return new Pe("invalid-default-bucket","Invalid default bucket '"+g+"'.")}(m)}static makeFromUrl(m,V){let ie=null;const Ie="([A-Za-z0-9.\\-_]+)",Jt=new RegExp("^gs://"+Ie+"(/(.*))?$","i");function Un(xi){xi.path_=decodeURIComponent(xi.path)}const Sr=V.replace(/[.]/g,"\\."),Ai=[{regex:Jt,indices:{bucket:1,path:3},postModify:function nt(xi){"/"===xi.path.charAt(xi.path.length-1)&&(xi.path_=xi.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Sr}/v[A-Za-z0-9_]+/b/${Ie}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Un},{regex:new RegExp(`^https?://${V===_e?"(?:storage.googleapis.com|storage.cloud.google.com)":V}/${Ie}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Un}];for(let xi=0;xi<Ai.length;xi++){const io=Ai[xi],so=io.regex.exec(m);if(so){let ao=so[io.indices.path];ao||(ao=""),ie=new an(so[io.indices.bucket],ao),io.postModify(ie);break}}if(null==ie)throw function kt(g){return new Pe("invalid-url","Invalid URL '"+g+"'.")}(m);return ie}}class Tn{constructor(m){this.promise_=Promise.reject(m)}getPromise(){return this.promise_}cancel(m=!1){}}function An(g){return"string"==typeof g||g instanceof String}function wn(g){return or()&&g instanceof Blob}function or(){return"undefined"!=typeof Blob}function On(g,m,V,ie){if(ie<m)throw Ee(`Invalid value for '${g}'. Expected ${m} or greater.`);if(ie>V)throw Ee(`Invalid value for '${g}'. Expected ${V} or less.`)}function Kn(g,m,V){let ie=m;return null==V&&(ie=`https://${m}`),`${V}://${ie}/v0${g}`}function Bn(g){const m=encodeURIComponent;let V="?";for(const ie in g)g.hasOwnProperty(ie)&&(V=V+(m(ie)+"=")+m(g[ie])+"&");return V=V.slice(0,-1),V}var Wn=(()=>{return(g=Wn||(Wn={}))[g.NO_ERROR=0]="NO_ERROR",g[g.NETWORK_ERROR=1]="NETWORK_ERROR",g[g.ABORT=2]="ABORT",Wn;var g})();class Lt{constructor(m,V,ie,Ie,nt,xt,Jt,Kt,Un,Yn,Sr){this.url_=m,this.method_=V,this.headers_=ie,this.body_=Ie,this.successCodes_=nt,this.additionalRetryCodes_=xt,this.callback_=Jt,this.errorCallback_=Kt,this.timeout_=Un,this.progressCallback_=Yn,this.connectionFactory_=Sr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((fr,Or)=>{this.resolve_=fr,this.reject_=Or,this.start_()})}start_(){const V=(ie,Ie)=>{const nt=this.resolve_,xt=this.reject_,Jt=Ie.connection;if(Ie.wasSuccessCode)try{const Kt=this.callback_(Jt,Jt.getResponse());!function bn(g){return void 0!==g}(Kt)?nt():nt(Kt)}catch(Kt){xt(Kt)}else if(null!==Jt){const Kt=he();Kt.serverResponse=Jt.getErrorText(),xt(this.errorCallback_?this.errorCallback_(Jt,Kt):Kt)}else xt(Ie.canceled?this.appDelete_?et():pt():function $e(){return new Pe("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?V(0,new Pr(!1,null,!0)):this.backoffId_=function en(g,m,V){let ie=1,Ie=null,nt=null,xt=!1,Jt=0;function Kt(){return 2===Jt}let Un=!1;function Yn(...Kr){Un||(Un=!0,m.apply(null,Kr))}function Sr(Kr){Ie=setTimeout(()=>{Ie=null,g(Or,Kt())},Kr)}function fr(){nt&&clearTimeout(nt)}function Or(Kr,...Qi){if(Un)return void fr();if(Kr)return fr(),void Yn.call(null,Kr,...Qi);if(Kt()||xt)return fr(),void Yn.call(null,Kr,...Qi);let Ai;ie<64&&(ie*=2),1===Jt?(Jt=2,Ai=0):Ai=1e3*(ie+Math.random()),Sr(Ai)}let yr=!1;function ti(Kr){yr||(yr=!0,fr(),!Un&&(null!==Ie?(Kr||(Jt=2),clearTimeout(Ie),Sr(0)):Kr||(Jt=1)))}return Sr(0),nt=setTimeout(()=>{xt=!0,ti(!0)},V),ti}((ie,Ie)=>{if(Ie)return void ie(!1,new Pr(!1,null,!0));const nt=this.connectionFactory_();this.pendingConnection_=nt;const xt=Jt=>{null!==this.progressCallback_&&this.progressCallback_(Jt.loaded,Jt.lengthComputable?Jt.total:-1)};null!==this.progressCallback_&&nt.addUploadProgressListener(xt),nt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&nt.removeUploadProgressListener(xt),this.pendingConnection_=null;const Jt=nt.getErrorCode()===Wn.NO_ERROR,Kt=nt.getStatus();if(!Jt||this.isRetryStatusCode_(Kt)){const Yn=nt.getErrorCode()===Wn.ABORT;return void ie(!1,new Pr(!1,null,Yn))}const Un=-1!==this.successCodes_.indexOf(Kt);ie(!0,new Pr(Un,nt))})},V,this.timeout_)}getPromise(){return this.promise_}cancel(m){this.canceled_=!0,this.appDelete_=m||!1,null!==this.backoffId_&&function on(g){g(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(m){const V=m>=500&&m<600,Ie=-1!==[408,429].indexOf(m),nt=-1!==this.additionalRetryCodes_.indexOf(m);return V||Ie||nt}}class Pr{constructor(m,V,ie){this.wasSuccessCode=m,this.connection=V,this.canceled=!!ie}}function Br(...g){const m=function Qn(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==m){const V=new m;for(let ie=0;ie<g.length;ie++)V.append(g[ie]);return V.getBlob()}if(or())return new Blob(g);throw new Pe("unsupported-environment","This browser doesn't seem to support creating Blobs")}const rn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class kr{constructor(m,V){this.data=m,this.contentType=V||null}}function Ne(g,m){switch(g){case rn.RAW:return new kr(Ue(m));case rn.BASE64:case rn.BASE64URL:return new kr(At(g,m));case rn.DATA_URL:return new kr(function ot(g){const m=new Ve(g);return m.base64?At(rn.BASE64,m.rest):function ke(g){let m;try{m=decodeURIComponent(g)}catch(V){throw Ge(rn.DATA_URL,"Malformed data URL.")}return Ue(m)}(m.rest)}(m),function Et(g){return new Ve(g).contentType}(m))}throw he()}function Ue(g){const m=[];for(let V=0;V<g.length;V++){let ie=g.charCodeAt(V);ie<=127?m.push(ie):ie<=2047?m.push(192|ie>>6,128|63&ie):55296==(64512&ie)?V<g.length-1&&56320==(64512&g.charCodeAt(V+1))?(ie=65536|(1023&ie)<<10|1023&g.charCodeAt(++V),m.push(240|ie>>18,128|ie>>12&63,128|ie>>6&63,128|63&ie)):m.push(239,191,189):56320==(64512&ie)?m.push(239,191,189):m.push(224|ie>>12,128|ie>>6&63,128|63&ie)}return new Uint8Array(m)}function At(g,m){switch(g){case rn.BASE64:{const Ie=-1!==m.indexOf("-"),nt=-1!==m.indexOf("_");if(Ie||nt)throw Ge(g,"Invalid character '"+(Ie?"-":"_")+"' found: is it base64url encoded?");break}case rn.BASE64URL:{const Ie=-1!==m.indexOf("+"),nt=-1!==m.indexOf("/");if(Ie||nt)throw Ge(g,"Invalid character '"+(Ie?"+":"/")+"' found: is it base64 encoded?");m=m.replace(/-/g,"+").replace(/_/g,"/");break}}let V;try{V=function Ar(g){return atob(g)}(m)}catch(Ie){throw Ge(g,"Invalid character found")}const ie=new Uint8Array(V.length);for(let Ie=0;Ie<V.length;Ie++)ie[Ie]=V.charCodeAt(Ie);return ie}class Ve{constructor(m){this.base64=!1,this.contentType=null;const V=m.match(/^data:([^,]+)?,/);if(null===V)throw Ge(rn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ie=V[1]||null;null!=ie&&(this.base64=function $t(g,m){return g.length>=m.length&&g.substring(g.length-m.length)===m}(ie,";base64"),this.contentType=this.base64?ie.substring(0,ie.length-7):ie),this.rest=m.substring(m.indexOf(",")+1)}}class tn{constructor(m,V){let ie=0,Ie="";wn(m)?(this.data_=m,ie=m.size,Ie=m.type):m instanceof ArrayBuffer?(V?this.data_=new Uint8Array(m):(this.data_=new Uint8Array(m.byteLength),this.data_.set(new Uint8Array(m))),ie=this.data_.length):m instanceof Uint8Array&&(V?this.data_=m:(this.data_=new Uint8Array(m.length),this.data_.set(m)),ie=m.length),this.size_=ie,this.type_=Ie}size(){return this.size_}type(){return this.type_}slice(m,V){if(wn(this.data_)){const Ie=function br(g,m,V){return g.webkitSlice?g.webkitSlice(m,V):g.mozSlice?g.mozSlice(m,V):g.slice?g.slice(m,V):null}(this.data_,m,V);return null===Ie?null:new tn(Ie)}{const ie=new Uint8Array(this.data_.buffer,m,V-m);return new tn(ie,!0)}}static getBlob(...m){if(or()){const V=m.map(ie=>ie instanceof tn?ie.data_:ie);return new tn(Br.apply(null,V))}{const V=m.map(xt=>An(xt)?Ne(rn.RAW,xt).data:xt.data_);let ie=0;V.forEach(xt=>{ie+=xt.byteLength});const Ie=new Uint8Array(ie);let nt=0;return V.forEach(xt=>{for(let Jt=0;Jt<xt.length;Jt++)Ie[nt++]=xt[Jt]}),new tn(Ie,!0)}}uploadData(){return this.data_}}function yn(g){let m;try{m=JSON.parse(g)}catch(V){return null}return function Gn(g){return"object"==typeof g&&!Array.isArray(g)}(m)?m:null}function Pn(g){const m=g.lastIndexOf("/",g.length-2);return-1===m?g:g.slice(m+1)}function Er(g,m){return m}class dr{constructor(m,V,ie,Ie){this.server=m,this.local=V||m,this.writable=!!ie,this.xform=Ie||Er}}let Hr=null;function Vr(){if(Hr)return Hr;const g=[];g.push(new dr("bucket")),g.push(new dr("generation")),g.push(new dr("metageneration")),g.push(new dr("name","fullPath",!0));const V=new dr("name");V.xform=function m(nt,xt){return function Gr(g){return!An(g)||g.length<2?g:Pn(g)}(xt)},g.push(V);const Ie=new dr("size");return Ie.xform=function ie(nt,xt){return void 0!==xt?Number(xt):xt},g.push(Ie),g.push(new dr("timeCreated")),g.push(new dr("updated")),g.push(new dr("md5Hash",null,!0)),g.push(new dr("cacheControl",null,!0)),g.push(new dr("contentDisposition",null,!0)),g.push(new dr("contentEncoding",null,!0)),g.push(new dr("contentLanguage",null,!0)),g.push(new dr("contentType",null,!0)),g.push(new dr("metadata","customMetadata",!0)),Hr=g,Hr}function li(g,m,V){const ie=yn(m);return null===ie?null:function hi(g,m,V){const ie={type:"file"},Ie=V.length;for(let nt=0;nt<Ie;nt++){const xt=V[nt];ie[xt.local]=xt.xform(ie,m[xt.server])}return function ui(g,m){Object.defineProperty(g,"ref",{get:function V(){const nt=new an(g.bucket,g.fullPath);return m._makeStorageReference(nt)}})}(ie,g),ie}(g,ie,V)}function wr(g,m){const V={},ie=m.length;for(let Ie=0;Ie<ie;Ie++){const nt=m[Ie];nt.writable&&(V[nt.server]=g[nt.local])}return JSON.stringify(V)}const Wr="prefixes";class Me{constructor(m,V,ie,Ie){this.url=m,this.method=V,this.handler=ie,this.timeout=Ie,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function me(g){if(!g)throw he()}function ft(g,m){return function V(ie,Ie){const nt=li(g,Ie,m);return me(null!==nt),nt}}function mn(g){return function m(V,ie){let Ie;return Ie=401===V.getStatus()?V.getErrorText().includes("Firebase App Check token is invalid")?function ae(){return new Pe("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function X(){return new Pe("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===V.getStatus()?function le(g){return new Pe("quota-exceeded","Quota for bucket '"+g+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(g.bucket):403===V.getStatus()?function Re(g){return new Pe("unauthorized","User does not have permission to access '"+g+"'.")}(g.path):ie,Ie.serverResponse=ie.serverResponse,Ie}}function Nn(g){const m=mn(g);return function V(ie,Ie){let nt=m(ie,Ie);return 404===ie.getStatus()&&(nt=function Se(g){return new Pe("object-not-found","Object '"+g+"' does not exist.")}(g.path)),nt.serverResponse=Ie.serverResponse,nt}}function mr(g,m,V){const Ie=Kn(m.fullServerUrl(),g.host,g._protocol),xt=g.maxOperationRetryTime,Jt=new Me(Ie,"GET",ft(g,V),xt);return Jt.errorHandler=Nn(m),Jt}function Zn(g,m,V,ie,Ie){const nt={};nt.prefix=m.isRoot?"":m.path+"/",V&&V.length>0&&(nt.delimiter=V),ie&&(nt.pageToken=ie),Ie&&(nt.maxResults=Ie);const Jt=Kn(m.bucketOnlyServerUrl(),g.host,g._protocol),Un=g.maxOperationRetryTime,Yn=new Me(Jt,"GET",function bt(g,m){return function V(ie,Ie){const nt=function tt(g,m,V){const ie=yn(V);return null===ie?null:function Mr(g,m,V){const ie={prefixes:[],items:[],nextPageToken:V.nextPageToken};if(V[Wr])for(const Ie of V[Wr]){const nt=Ie.replace(/\/$/,""),xt=g._makeStorageReference(new an(m,nt));ie.prefixes.push(xt)}if(V.items)for(const Ie of V.items){const nt=g._makeStorageReference(new an(m,Ie.name));ie.items.push(nt)}return ie}(g,m,ie)}(g,m,Ie);return me(null!==nt),nt}}(g,m.bucket),Un);return Yn.urlParams=nt,Yn.errorHandler=mn(m),Yn}function Rr(g,m,V){const ie=Object.assign({},V);return ie.fullPath=g.path,ie.size=m.size(),ie.contentType||(ie.contentType=function mi(g,m){return g&&g.contentType||m&&m.type()||"application/octet-stream"}(null,m)),ie}class hr{constructor(m,V,ie,Ie){this.current=m,this.total=V,this.finalized=!!ie,this.metadata=Ie||null}}function qr(g,m){let V=null;try{V=g.getResponseHeader("X-Goog-Upload-Status")}catch(Ie){me(!1)}return me(!!V&&-1!==(m||["active"]).indexOf(V)),V}const pe={STATE_CHANGED:"state_changed"},Le={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Qe(g){switch(g){case"running":case"pausing":case"canceling":return Le.RUNNING;case"paused":return Le.PAUSED;case"success":return Le.SUCCESS;case"canceled":return Le.CANCELED;default:return Le.ERROR}}class ce{constructor(m,V,ie){if(function Dr(g){return"function"==typeof g}(m)||null!=V||null!=ie)this.next=m,this.error=null!=V?V:void 0,this.complete=null!=ie?ie:void 0;else{const nt=m;this.next=nt.next,this.error=nt.error,this.complete=nt.complete}}}function we(g){return(...m)=>{Promise.resolve().then(()=>g(...m))}}class Ct extends class _t{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Wn.NO_ERROR,this.sendPromise_=new Promise(m=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Wn.ABORT,m()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Wn.NETWORK_ERROR,m()}),this.xhr_.addEventListener("load",()=>{m()})})}send(m,V,ie,Ie){if(this.sent_)throw Ft("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(V,m,!0),void 0!==Ie)for(const nt in Ie)Ie.hasOwnProperty(nt)&&this.xhr_.setRequestHeader(nt,Ie[nt].toString());return void 0!==ie?this.xhr_.send(ie):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ft("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ft("cannot .getStatus() before sending");try{return this.xhr_.status}catch(m){return-1}}getResponse(){if(!this.sent_)throw Ft("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ft("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(m){return this.xhr_.getResponseHeader(m)}addUploadProgressListener(m){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",m)}removeUploadProgressListener(m){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",m)}}{initXhr(){this.xhr_.responseType="text"}}function St(){return new Ct}class Cr{constructor(m,V,ie=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=m,this._blob=V,this._metadata=ie,this._mappings=Vr(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Ie=>{this._request=void 0,this._chunkMultiplier=1,Ie._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=Ie,this._transition("error"))},this._metadataErrorHandler=Ie=>{this._request=void 0,Ie._codeEquals("canceled")?this.completeTransitions_():(this._error=Ie,this._transition("error"))},this._promise=new Promise((Ie,nt)=>{this._resolve=Ie,this._reject=nt,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const m=this._transferred;return V=>this._updateProgress(m+V)}_shouldDoResumable(m){return m.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(m){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([V,ie])=>{switch(this._state){case"running":m(V,ie);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((m,V)=>{const ie=function ri(g,m,V,ie,Ie){const nt=m.bucketOnlyServerUrl(),xt=Rr(m,ie,Ie),Jt={name:xt.fullPath},Kt=Kn(nt,g.host,g._protocol),Yn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${ie.size()}`,"X-Goog-Upload-Header-Content-Type":xt.contentType,"Content-Type":"application/json; charset=utf-8"},Sr=wr(xt,V),yr=new Me(Kt,"POST",function Or(ti){let Kr;qr(ti);try{Kr=ti.getResponseHeader("X-Goog-Upload-URL")}catch(Qi){me(!1)}return me(An(Kr)),Kr},g.maxUploadRetryTime);return yr.urlParams=Jt,yr.headers=Yn,yr.body=Sr,yr.errorHandler=mn(m),yr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ie=this._ref.storage._makeRequest(ie,St,m,V);this._request=Ie,Ie.getPromise().then(nt=>{this._request=void 0,this._uploadUrl=nt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const m=this._uploadUrl;this._resolveToken((V,ie)=>{const Ie=function Sn(g,m,V,ie){const Kt=new Me(V,"POST",function nt(Un){const Yn=qr(Un,["active","final"]);let Sr=null;try{Sr=Un.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Or){me(!1)}Sr||me(!1);const fr=Number(Sr);return me(!isNaN(fr)),new hr(fr,ie.size(),"final"===Yn)},g.maxUploadRetryTime);return Kt.headers={"X-Goog-Upload-Command":"query"},Kt.errorHandler=mn(m),Kt}(this._ref.storage,this._ref._location,m,this._blob),nt=this._ref.storage._makeRequest(Ie,St,V,ie);this._request=nt,nt.getPromise().then(xt=>{xt=xt,this._request=void 0,this._updateProgress(xt.current),this._needToFetchStatus=!1,xt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const m=262144*this._chunkMultiplier,V=new hr(this._transferred,this._blob.size()),ie=this._uploadUrl;this._resolveToken((Ie,nt)=>{let xt;try{xt=function Y(g,m,V,ie,Ie,nt,xt,Jt){const Kt=new hr(0,0);if(xt?(Kt.current=xt.current,Kt.total=xt.total):(Kt.current=0,Kt.total=ie.size()),ie.size()!==Kt.total)throw function Xe(){return new Pe("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const Un=Kt.total-Kt.current;let Yn=Un;Ie>0&&(Yn=Math.min(Yn,Ie));const Sr=Kt.current,yr={"X-Goog-Upload-Command":Yn===Un?"upload, finalize":"upload","X-Goog-Upload-Offset":`${Kt.current}`},ti=ie.slice(Sr,Sr+Yn);if(null===ti)throw qe();const Ai=new Me(V,"POST",function Kr(xi,io){const so=qr(xi,["active","final"]),oo=Kt.current+Yn,ao=ie.size();let vo;return vo="final"===so?ft(m,nt)(xi,io):null,new hr(oo,ao,"final"===so,vo)},m.maxUploadRetryTime);return Ai.headers=yr,Ai.body=ti.uploadData(),Ai.progressCallback=Jt||null,Ai.errorHandler=mn(g),Ai}(this._ref._location,this._ref.storage,ie,this._blob,m,this._mappings,V,this._makeProgressCallback())}catch(Kt){return this._error=Kt,void this._transition("error")}const Jt=this._ref.storage._makeRequest(xt,St,Ie,nt);this._request=Jt,Jt.getPromise().then(Kt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Kt.current),Kt.finalized?(this._metadata=Kt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((m,V)=>{const ie=mr(this._ref.storage,this._ref._location,this._mappings),Ie=this._ref.storage._makeRequest(ie,St,m,V);this._request=Ie,Ie.getPromise().then(nt=>{this._request=void 0,this._metadata=nt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((m,V)=>{const ie=function Jr(g,m,V,ie,Ie){const nt=m.bucketOnlyServerUrl(),xt={"X-Goog-Upload-Protocol":"multipart"},Kt=function Jt(){let Ai="";for(let xi=0;xi<2;xi++)Ai+=Math.random().toString().slice(2);return Ai}();xt["Content-Type"]="multipart/related; boundary="+Kt;const Un=Rr(m,ie,Ie),Yn=wr(Un,V),Or=tn.getBlob("--"+Kt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Yn+"\r\n--"+Kt+"\r\nContent-Type: "+Un.contentType+"\r\n\r\n",ie,"\r\n--"+Kt+"--");if(null===Or)throw qe();const yr={name:Un.fullPath},ti=Kn(nt,g.host,g._protocol),Qi=g.maxUploadRetryTime,vr=new Me(ti,"POST",ft(g,V),Qi);return vr.urlParams=yr,vr.headers=xt,vr.body=Or.uploadData(),vr.errorHandler=mn(m),vr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Ie=this._ref.storage._makeRequest(ie,St,m,V);this._request=Ie,Ie.getPromise().then(nt=>{this._request=void 0,this._metadata=nt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(m){const V=this._transferred;this._transferred=m,this._transferred!==V&&this._notifyObservers()}_transition(m){if(this._state!==m)switch(m){case"canceling":case"pausing":this._state=m,void 0!==this._request&&this._request.cancel();break;case"running":const V="paused"===this._state;this._state=m,V&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=m,this._notifyObservers();break;case"canceled":this._error=pt(),this._state=m,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const m=Qe(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:m,metadata:this._metadata,task:this,ref:this._ref}}on(m,V,ie,Ie){const nt=new ce(V||void 0,ie||void 0,Ie||void 0);return this._addObserver(nt),()=>{this._removeObserver(nt)}}then(m,V){return this._promise.then(m,V)}catch(m){return this.then(null,m)}_addObserver(m){this._observers.push(m),this._notifyObserver(m)}_removeObserver(m){const V=this._observers.indexOf(m);-1!==V&&this._observers.splice(V,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(V=>{this._notifyObserver(V)})}_finishPromise(){if(void 0!==this._resolve){let m=!0;switch(Qe(this._state)){case Le.SUCCESS:we(this._resolve.bind(null,this.snapshot))();break;case Le.CANCELED:case Le.ERROR:we(this._reject.bind(null,this._error))();break;default:m=!1}m&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(m){switch(Qe(this._state)){case Le.RUNNING:case Le.PAUSED:m.next&&we(m.next.bind(m,this.snapshot))();break;case Le.SUCCESS:m.complete&&we(m.complete.bind(m))();break;default:m.error&&we(m.error.bind(m,this._error))()}}resume(){const m="paused"===this._state||"pausing"===this._state;return m&&this._transition("running"),m}pause(){const m="running"===this._state;return m&&this._transition("pausing"),m}cancel(){const m="running"===this._state||"pausing"===this._state;return m&&this._transition("canceling"),m}}class ar{constructor(m,V){this._service=m,this._location=V instanceof an?V:an.makeFromUrl(V,m.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(m,V){return new ar(m,V)}get root(){const m=new an(this._location.bucket,"");return this._newRef(this._service,m)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Pn(this._location.path)}get storage(){return this._service}get parent(){const m=function Jn(g){if(0===g.length)return null;const m=g.lastIndexOf("/");return-1===m?"":g.slice(0,m)}(this._location.path);if(null===m)return null;const V=new an(this._location.bucket,m);return new ar(this._service,V)}_throwIfRoot(m){if(""===this._location.path)throw It(m)}}function Tr(g,m,V){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,oe.Z)(function*(g,m,V){const Ie=yield ur(g,{pageToken:V});m.prefixes.push(...Ie.prefixes),m.items.push(...Ie.items),null!=Ie.nextPageToken&&(yield Tr(g,m,Ie.nextPageToken))})).apply(this,arguments)}function ur(g,m){null!=m&&"number"==typeof m.maxResults&&On("options.maxResults",1,1e3,m.maxResults);const V=m||{},ie=Zn(g.storage,g._location,"/",V.pageToken,V.maxResults);return g.storage.makeRequestWithTokens(ie,St)}function ci(g){g._throwIfRoot("getDownloadURL");const m=function Rn(g,m,V){const Ie=Kn(m.fullServerUrl(),g.host,g._protocol),xt=g.maxOperationRetryTime,Jt=new Me(Ie,"GET",function jt(g,m){return function V(ie,Ie){const nt=li(g,Ie,m);return me(null!==nt),function zr(g,m,V,ie){const Ie=yn(m);if(null===Ie||!An(Ie.downloadTokens))return null;const nt=Ie.downloadTokens;if(0===nt.length)return null;const xt=encodeURIComponent;return nt.split(",").map(Un=>{const Sr=g.fullPath;return Kn("/b/"+xt(g.bucket)+"/o/"+xt(Sr),V,ie)+Bn({alt:"media",token:Un})})[0]}(nt,Ie,g.host,g._protocol)}}(g,V),xt);return Jt.errorHandler=Nn(m),Jt}(g.storage,g._location,Vr());return g.storage.makeRequestWithTokens(m,St).then(V=>{if(null===V)throw function st(){return new Pe("no-download-url","The given file does not have any download URLs.")}();return V})}function $s(g,m){const V=function qt(g,m){const V=m.split("/").filter(ie=>ie.length>0).join("/");return 0===g.length?V:g+"/"+V}(g._location.path,m),ie=new an(g._location.bucket,V);return new ar(g.storage,ie)}function Os(g,m){if(g instanceof ss){const V=g;if(null==V._bucket)throw function gt(){return new Pe("no-default-bucket","No default bucket found. Did you set the '"+mt+"' property when initializing the app?")}();const ie=new ar(V,V._bucket);return null!=m?Os(ie,m):ie}return void 0!==m?$s(g,m):g}function Zi(g,m){if(m&&function ki(g){return/^[A-Za-z]+:\/\//.test(g)}(m)){if(g instanceof ss)return function Cs(g,m){return new ar(g,m)}(g,m);throw Ee("To use ref(service, url), the first argument must be a Storage instance.")}return Os(g,m)}function yi(g,m){const V=null==m?void 0:m[mt];return null==V?null:an.makeFromBucketSpec(V,g)}class ss{constructor(m,V,ie,Ie,nt){this.app=m,this._authProvider=V,this._appCheckProvider=ie,this._url=Ie,this._firebaseVersion=nt,this._bucket=null,this._host=_e,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=Ie?an.makeFromBucketSpec(Ie,this._host):yi(this._host,this.app.options)}get host(){return this._host}set host(m){this._host=m,this._bucket=null!=this._url?an.makeFromBucketSpec(this._url,m):yi(m,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(m){On("time",0,Number.POSITIVE_INFINITY,m),this._maxUploadRetryTime=m}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(m){On("time",0,Number.POSITIVE_INFINITY,m),this._maxOperationRetryTime=m}_getAuthToken(){var m=this;return(0,oe.Z)(function*(){if(m._overrideAuthToken)return m._overrideAuthToken;const V=m._authProvider.getImmediate({optional:!0});if(V){const ie=yield V.getToken();if(null!==ie)return ie.accessToken}return null})()}_getAppCheckToken(){var m=this;return(0,oe.Z)(function*(){const V=m._appCheckProvider.getImmediate({optional:!0});return V?(yield V.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(m=>m.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(m){return new ar(this,m)}_makeRequest(m,V,ie,Ie){if(this._deleted)return new Tn(et());{const nt=function fn(g,m,V,ie,Ie,nt){const xt=Bn(g.urlParams),Jt=g.url+xt,Kt=Object.assign({},g.headers);return function zn(g,m){m&&(g["X-Firebase-GMPID"]=m)}(Kt,m),function Bt(g,m){null!==m&&m.length>0&&(g.Authorization="Firebase "+m)}(Kt,V),function gr(g,m){g["X-Firebase-Storage-Version"]="webjs/"+(null!=m?m:"AppManager")}(Kt,nt),function cn(g,m){null!==m&&(g["X-Firebase-AppCheck"]=m)}(Kt,ie),new Lt(Jt,g.method,Kt,g.body,g.successCodes,g.additionalRetryCodes,g.handler,g.errorHandler,g.timeout,g.progressCallback,Ie)}(m,this._appId,ie,Ie,V,this._firebaseVersion);return this._requests.add(nt),nt.getPromise().then(()=>this._requests.delete(nt),()=>this._requests.delete(nt)),nt}}makeRequestWithTokens(m,V){var ie=this;return(0,oe.Z)(function*(){const[Ie,nt]=yield Promise.all([ie._getAuthToken(),ie._getAppCheckToken()]);return ie._makeRequest(m,V,Ie,nt).getPromise()})()}}const Ts="@firebase/storage";function ii(g,m){return Zi(g=(0,ye.m9)(g),m)}function K(g,{instanceIdentifier:m}){const V=g.getProvider("app").getImmediate(),ie=g.getProvider("auth-internal"),Ie=g.getProvider("app-check-internal");return new ss(V,ie,Ie,m,xe.SDK_VERSION)}!function k(){(0,xe._registerComponent)(new ut.wA("storage",K,"PUBLIC").setMultipleInstances(!0)),(0,xe.registerVersion)(Ts,"0.9.6",""),(0,xe.registerVersion)(Ts,"0.9.6","esm2017")}();class te{constructor(m,V,ie){this._delegate=m,this.task=V,this.ref=ie}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class He{constructor(m,V){this._delegate=m,this._ref=V,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new te(this._delegate.snapshot,this,this._ref)}then(m,V){return this._delegate.then(ie=>{if(m)return m(new te(ie,this,this._ref))},V)}on(m,V,ie,Ie){let nt;return V&&(nt="function"==typeof V?xt=>V(new te(xt,this,this._ref)):{next:V.next?xt=>V.next(new te(xt,this,this._ref)):void 0,complete:V.complete||void 0,error:V.error||void 0}),this._delegate.on(m,nt,ie||void 0,Ie||void 0)}}class x{constructor(m,V){this._delegate=m,this._service=V}get prefixes(){return this._delegate.prefixes.map(m=>new A(m,this._service))}get items(){return this._delegate.items.map(m=>new A(m,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class A{constructor(m,V){this._delegate=m,this.storage=V}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(m){const V=function os(g,m){return $s(g,m)}(this._delegate,m);return new A(V,this.storage)}get root(){return new A(this._delegate.root,this.storage)}get parent(){const m=this._delegate.parent;return null==m?null:new A(m,this.storage)}put(m,V){return this._throwIfRoot("put"),new He(function Xi(g,m,V){return function Pt(g,m,V){return g._throwIfRoot("uploadBytesResumable"),new Cr(g,new tn(m),V)}(g=(0,ye.m9)(g),m,V)}(this._delegate,m,V),this)}putString(m,V=rn.RAW,ie){this._throwIfRoot("putString");const Ie=Ne(V,m),nt=Object.assign({},ie);return null==nt.contentType&&null!=Ie.contentType&&(nt.contentType=Ie.contentType),new He(new Cr(this._delegate,new tn(Ie.data,!0),nt),this)}listAll(){return function fs(g){return function pn(g){const m={prefixes:[],items:[]};return Tr(g,m).then(()=>m)}(g=(0,ye.m9)(g))}(this._delegate).then(m=>new x(m,this.storage))}list(m){return function pi(g,m){return ur(g=(0,ye.m9)(g),m)}(this._delegate,m||void 0).then(V=>new x(V,this.storage))}getMetadata(){return function _i(g){return function Pi(g){g._throwIfRoot("getMetadata");const m=mr(g.storage,g._location,Vr());return g.storage.makeRequestWithTokens(m,St)}(g=(0,ye.m9)(g))}(this._delegate)}updateMetadata(m){return function fi(g,m){return function Ui(g,m){g._throwIfRoot("updateMetadata");const V=function tr(g,m,V,ie){const nt=Kn(m.fullServerUrl(),g.host,g._protocol),Jt=wr(V,ie),Un=g.maxOperationRetryTime,Yn=new Me(nt,"PATCH",ft(g,ie),Un);return Yn.headers={"Content-Type":"application/json; charset=utf-8"},Yn.body=Jt,Yn.errorHandler=Nn(m),Yn}(g.storage,g._location,m,Vr());return g.storage.makeRequestWithTokens(V,St)}(g=(0,ye.m9)(g),m)}(this._delegate,m)}getDownloadURL(){return function Hi(g){return ci(g=(0,ye.m9)(g))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function ps(g){return function ro(g){g._throwIfRoot("deleteObject");const m=function ir(g,m){const ie=Kn(m.fullServerUrl(),g.host,g._protocol),Jt=new Me(ie,"DELETE",function xt(Kt,Un){},g.maxOperationRetryTime);return Jt.successCodes=[200,204],Jt.errorHandler=Nn(m),Jt}(g.storage,g._location);return g.storage.makeRequestWithTokens(m,St)}(g=(0,ye.m9)(g))}(this._delegate)}_throwIfRoot(m){if(""===this._delegate._location.path)throw It(m)}}class S{constructor(m,V){this.app=m,this._delegate=V}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(m){if(z(m))throw Ee("ref() expected a child path but got a URL, use refFromURL instead.");return new A(ii(this._delegate,m),this)}refFromURL(m){if(!z(m))throw Ee("refFromURL() expected a full URL but got a child path, use ref() instead.");try{an.makeFromUrl(m,this._delegate.host)}catch(V){throw Ee("refFromUrl() expected a valid full URL but got an invalid one.")}return new A(ii(this._delegate,m),this)}setMaxUploadRetryTime(m){this._delegate.maxUploadRetryTime=m}setMaxOperationRetryTime(m){this._delegate.maxOperationRetryTime=m}useEmulator(m,V,ie={}){!function gs(g,m,V,ie={}){!function vi(g,m,V,ie={}){g.host=`${m}:${V}`,g._protocol="http";const{mockUserToken:Ie}=ie;Ie&&(g._overrideAuthToken="string"==typeof Ie?Ie:(0,ye.Sg)(Ie,g.app.options.projectId))}(g,m,V,ie)}(this._delegate,m,V,ie)}}function z(g){return/^[A-Za-z]+:\/\//.test(g)}function er(g,{instanceIdentifier:m}){const V=g.getProvider("app-compat").getImmediate(),ie=g.getProvider("storage").getImmediate({identifier:m});return new S(V,ie)}!function qn(g){const m={TaskState:Le,TaskEvent:pe,StringFormat:rn,Storage:S,Reference:A};g.INTERNAL.registerComponent(new ut.wA("storage-compat",er,"PUBLIC").setServiceProps(m).setMultipleInstances(!0)),g.registerVersion("@firebase/storage-compat","0.1.14")}(Be.Z);var $r=F(440),bi=F(127);function Yr(g){const m=function ms(g){return new a.y(m=>{const V=xt=>m.next(xt);V(g.snapshot);const nt=g.on("state_changed",V);return g.then(xt=>{V(xt),m.complete()},xt=>{V(g.snapshot),(xt=>{m.error(xt)})(xt)}),function(){nt()}}).pipe(function ue(g,m=Ae.P){return V=>V.lift(new De(g,m))}(0))}(g);return{task:g,then:g.then.bind(g),catch:g.catch.bind(g),pause:g.pause.bind(g),cancel:g.cancel.bind(g),resume:g.resume.bind(g),snapshotChanges:()=>m,percentageChanges:()=>m.pipe((0,ee.U)(V=>V.bytesTransferred/V.totalBytes*100))}}function si(g){return{getDownloadURL:()=>(0,se.of)(void 0).pipe(ge.fc,(0,ne.w)(()=>g.getDownloadURL()),ge.iC),getMetadata:()=>(0,se.of)(void 0).pipe(ge.fc,(0,ne.w)(()=>g.getMetadata()),ge.iC),delete:()=>(0,G.D)(g.delete()),child:m=>si(g.child(m)),updateMetadata:m=>(0,G.D)(g.updateMetadata(m)),put:(m,V)=>Yr(g.put(m,V)),putString:(m,V,ie)=>Yr(g.putString(m,V,ie)),list:m=>(0,G.D)(g.list(m)),listAll:()=>(0,G.D)(g.listAll())}}const Ps=new Q.OlP("angularfire2.storageBucket"),xn=new Q.OlP("angularfire2.storage.maxUploadRetryTime"),Zs=new Q.OlP("angularfire2.storage.maxOperationRetryTime"),Es=new Q.OlP("angularfire2.storage.use-emulator");let yo=(()=>{class g{constructor(V,ie,Ie,nt,xt,Jt,Kt,Un,Yn,Sr){const fr=(0,fe.on)(V,xt,ie);this.storage=(0,fe.cc)(`${fr.name}.storage.${Ie}`,"AngularFireStorage",fr.name,()=>{const Or=xt.runOutsideAngular(()=>fr.storage(Ie||void 0)),yr=Yn;return yr&&Or.useEmulator(...yr),Kt&&Or.setMaxUploadRetryTime(Kt),Un&&Or.setMaxOperationRetryTime(Un),Or},[Kt,Un])}ref(V){return si(this.storage.ref(V))}refFromURL(V){return si(this.storage.refFromURL(V))}upload(V,ie,Ie){return si(this.storage.ref(V)).put(ie,Ie)}}return g.\u0275fac=function(V){return new(V||g)(Q.LFG(fe.Dh),Q.LFG(fe.xv,8),Q.LFG(Ps,8),Q.LFG(Q.Lbi),Q.LFG(Q.R0b),Q.LFG(ge.HU),Q.LFG(xn,8),Q.LFG(Zs,8),Q.LFG(Es,8),Q.LFG($r.nm,8))},g.\u0275prov=Q.Yz7({token:g,factory:g.\u0275fac,providedIn:"any"}),g})(),L=(()=>{class g{}return g.\u0275fac=function(V){return new(V||g)},g.\u0275mod=Q.oAB({type:g}),g.\u0275inj=Q.cJS({}),g})(),y=(()=>{class g{constructor(){bi.Z.registerVersion("angularfire",ge.q4.full,"gcs-compat")}}return g.\u0275fac=function(V){return new(V||g)},g.\u0275mod=Q.oAB({type:g}),g.\u0275inj=Q.cJS({providers:[yo],imports:[L]}),g})()},2011:(Wt,rt,F)=>{"use strict";F.d(rt,{Dh:()=>ve,GT:()=>ue,cc:()=>fe,hO:()=>Q,on:()=>ee,pX:()=>Ae,xv:()=>de});var a=F(6435),se=F(127),G=F(6351);Wt=F.hmd(Wt);const Fe=["ngOnDestroy"],Ae=(ye,ut,_e,mt={})=>new Proxy(ye,{get:(Dt,dt)=>_e.runOutsideAngular(()=>{var Pe;if(ye[dt])return(null===(Pe=null==mt?void 0:mt.spy)||void 0===Pe?void 0:Pe.get)&&mt.spy.get(dt,ye[dt]),ye[dt];if(Fe.indexOf(dt)>-1)return()=>{};const lt=ut.toPromise().then(he=>{const Se=he&&he[dt];return"function"==typeof Se?Se.bind(he):Se&&Se.then?Se.then(le=>_e.run(()=>le)):_e.run(()=>Se)});return new Proxy(()=>{},{get:(he,Se)=>lt[Se],apply:(he,Se,le)=>lt.then(X=>{var ae;const Re=X&&X(...le);return(null===(ae=null==mt?void 0:mt.spy)||void 0===ae?void 0:ae.apply)&&mt.spy.apply(dt,le,Re),Re})})})}),ue=(ye,ut)=>{ut.forEach(_e=>{Object.getOwnPropertyNames(_e.prototype||_e).forEach(mt=>{Object.defineProperty(ye.prototype,mt,Object.getOwnPropertyDescriptor(_e.prototype||_e,mt))})})};class De{constructor(ut){return ut}}const ve=new a.OlP("angularfire2.app.options"),de=new a.OlP("angularfire2.app.name");function ee(ye,ut,_e){const Dt="object"==typeof _e&&_e||{};Dt.name=Dt.name||"string"==typeof _e&&_e||"[DEFAULT]";const Pe=se.Z.apps.filter(lt=>lt&&lt.name===Dt.name)[0]||ut.runOutsideAngular(()=>se.Z.initializeApp(ye,Dt));try{JSON.stringify(ye)!==JSON.stringify(Pe.options)&&ne("error",`${Pe.name} Firebase App already initialized with different options${Wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(lt){}return new De(Pe)}const ne=(ye,...ut)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[ye](...ut)},ge={provide:De,useFactory:ee,deps:[ve,a.R0b,[new a.FiY,de]]};let Q=(()=>{class ye{constructor(_e){se.Z.registerVersion("angularfire",G.q4.full,"core"),se.Z.registerVersion("angularfire",G.q4.full,"app-compat"),se.Z.registerVersion("angular",a.q4F.full,_e.toString())}static initializeApp(_e,mt){return{ngModule:ye,providers:[{provide:ve,useValue:_e},{provide:de,useValue:mt}]}}}return ye.\u0275fac=function(_e){return new(_e||ye)(a.LFG(a.Lbi))},ye.\u0275mod=a.oAB({type:ye}),ye.\u0275inj=a.cJS({providers:[ge]}),ye})();function fe(ye,ut,_e,mt,Dt){const[,dt,Pe]=globalThis.\u0275AngularfireInstanceCache.find(lt=>lt[0]===ye)||[];if(dt)return function Be(ye,ut){try{return ye.toString()===ut.toString()}catch(_e){return ye===ut}}(Dt,Pe)||(xe("error",`${ut} was already initialized on the ${_e} Firebase App with different settings.${oe?" You may need to reload as Firebase is not HMR aware.":""}`),xe("warn",{is:Dt,was:Pe})),dt;{const lt=mt();return globalThis.\u0275AngularfireInstanceCache.push([ye,lt,Dt]),lt}}const oe=!!Wt.hot,xe=(ye,...ut)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[ye](...ut)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(Wt,rt,F)=>{"use strict";F.d(rt,{q4:()=>Di,iC:()=>eu,fc:()=>Fa,HU:()=>zs,vb:()=>ha,JM:()=>Tu});var a=F(6435),se=F(5867),G=F(9671),Fe=F(9681),Ae=F(2090),ue=F(4859),De=F(1877),ve=F(8766);const de="@firebase/installations",ge="w:0.5.9",Q="FIS_v2",ut=new Ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _e(O){return O instanceof Ae.ZR&&O.code.includes("request-failed")}function mt({projectId:O}){return`https://firebaseinstallations.googleapis.com/v1/projects/${O}/installations`}function Dt(O){return{token:O.token,requestStatus:2,expiresIn:X(O.expiresIn),creationTime:Date.now()}}function dt(O,B){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,G.Z)(function*(O,B){const Oe=(yield B.json()).error;return ut.create("request-failed",{requestName:O,serverCode:Oe.code,serverMessage:Oe.message,serverStatus:Oe.status})})).apply(this,arguments)}function lt({apiKey:O}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O})}function he(O,{refreshToken:B}){const J=lt(O);return J.append("Authorization",function ae(O){return`${Q} ${O}`}(B)),J}function Se(O){return le.apply(this,arguments)}function le(){return(le=(0,G.Z)(function*(O){const B=yield O();return B.status>=500&&B.status<600?O():B})).apply(this,arguments)}function X(O){return Number(O.replace("s","000"))}function Re(O,B){return $e.apply(this,arguments)}function $e(){return($e=(0,G.Z)(function*({appConfig:O,heartbeatServiceProvider:B},{fid:J}){const Oe=mt(O),ct=lt(O),vt=B.getImmediate({optional:!0});if(vt){const lr=yield vt.getHeartbeatsHeader();lr&&ct.append("x-firebase-client",lr)}const nn={method:"POST",headers:ct,body:JSON.stringify({fid:J,authVersion:Q,appId:O.appId,sdkVersion:ge})},nr=yield Se(()=>fetch(Oe,nn));if(nr.ok){const lr=yield nr.json();return{fid:lr.fid||J,registrationStatus:2,refreshToken:lr.refreshToken,authToken:Dt(lr.authToken)}}throw yield dt("Create Installation",nr)})).apply(this,arguments)}function pt(O){return new Promise(B=>{setTimeout(B,O)})}const it=/^[cdef][\w-]{21}$/;function qe(){try{const O=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(O),O[0]=112+O[0]%16;const J=function Xe(O){return function kt(O){return btoa(String.fromCharCode(...O)).replace(/\+/g,"-").replace(/\//g,"_")}(O).substr(0,22)}(O);return it.test(J)?J:""}catch(O){return""}}function st(O){return`${O.appName}!${O.appId}`}const Ee=new Map;function et(O,B){const J=st(O);Ft(J,B),function an(O,B){const J=function en(){return!Tn&&"BroadcastChannel"in self&&(Tn=new BroadcastChannel("[Firebase] FID Change"),Tn.onmessage=O=>{Ft(O.data.key,O.data.fid)}),Tn}();J&&J.postMessage({key:O,fid:B}),function on(){0===Ee.size&&Tn&&(Tn.close(),Tn=null)}()}(J,B)}function Ft(O,B){const J=Ee.get(O);if(J)for(const Oe of J)Oe(B)}let Tn=null;const Gn="firebase-installations-store";let An=null;function wn(){return An||(An=(0,ve.X3)("firebase-installations-database",1,{upgrade:(O,B)=>{0===B&&O.createObjectStore(Gn)}})),An}function or(O,B){return On.apply(this,arguments)}function On(){return(On=(0,G.Z)(function*(O,B){const J=st(O),ct=(yield wn()).transaction(Gn,"readwrite"),vt=ct.objectStore(Gn),Zt=yield vt.get(J);return yield vt.put(B,J),yield ct.done,(!Zt||Zt.fid!==B.fid)&&et(O,B.fid),B})).apply(this,arguments)}function Kn(O){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,G.Z)(function*(O){const B=st(O),Oe=(yield wn()).transaction(Gn,"readwrite");yield Oe.objectStore(Gn).delete(B),yield Oe.done})).apply(this,arguments)}function Wn(O,B){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,G.Z)(function*(O,B){const J=st(O),ct=(yield wn()).transaction(Gn,"readwrite"),vt=ct.objectStore(Gn),Zt=yield vt.get(J),nn=B(Zt);return void 0===nn?yield vt.delete(J):yield vt.put(nn,J),yield ct.done,nn&&(!Zt||Zt.fid!==nn.fid)&&et(O,nn.fid),nn})).apply(this,arguments)}function Pr(O){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,G.Z)(function*(O){let B;const J=yield Wn(O.appConfig,Oe=>{const ct=gr(Oe),vt=zn(O,ct);return B=vt.registrationPromise,vt.installationEntry});return""===J.fid?{installationEntry:yield B}:{installationEntry:J,registrationPromise:B}})).apply(this,arguments)}function gr(O){return Ar(O||{fid:qe(),registrationStatus:0})}function zn(O,B){if(0===B.registrationStatus){if(!navigator.onLine)return{installationEntry:B,registrationPromise:Promise.reject(ut.create("app-offline"))};const J={fid:B.fid,registrationStatus:1,registrationTime:Date.now()},Oe=function cn(O,B){return fn.apply(this,arguments)}(O,J);return{installationEntry:J,registrationPromise:Oe}}return 1===B.registrationStatus?{installationEntry:B,registrationPromise:Qn(O)}:{installationEntry:B}}function fn(){return(fn=(0,G.Z)(function*(O,B){try{const J=yield Re(O,B);return or(O.appConfig,J)}catch(J){throw _e(J)&&409===J.customData.serverCode?yield Kn(O.appConfig):yield or(O.appConfig,{fid:B.fid,registrationStatus:0}),J}})).apply(this,arguments)}function Qn(O){return Br.apply(this,arguments)}function Br(){return(Br=(0,G.Z)(function*(O){let B=yield br(O.appConfig);for(;1===B.registrationStatus;)yield pt(100),B=yield br(O.appConfig);if(0===B.registrationStatus){const{installationEntry:J,registrationPromise:Oe}=yield Pr(O);return Oe||J}return B})).apply(this,arguments)}function br(O){return Wn(O,B=>{if(!B)throw ut.create("installation-not-found");return Ar(B)})}function Ar(O){return function rn(O){return 1===O.registrationStatus&&O.registrationTime+1e4<Date.now()}(O)?{fid:O.fid,registrationStatus:0}:O}function kr(O,B){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,G.Z)(function*({appConfig:O,heartbeatServiceProvider:B},J){const Oe=Ue(O,J),ct=he(O,J),vt=B.getImmediate({optional:!0});if(vt){const lr=yield vt.getHeartbeatsHeader();lr&&ct.append("x-firebase-client",lr)}const nn={method:"POST",headers:ct,body:JSON.stringify({installation:{sdkVersion:ge,appId:O.appId}})},nr=yield Se(()=>fetch(Oe,nn));if(nr.ok)return Dt(yield nr.json());throw yield dt("Generate Auth Token",nr)})).apply(this,arguments)}function Ue(O,{fid:B}){return`${mt(O)}/${B}/authTokens:generate`}function ke(O){return At.apply(this,arguments)}function At(){return(At=(0,G.Z)(function*(O,B=!1){let J;const Oe=yield Wn(O.appConfig,vt=>{if(!yn(vt))throw ut.create("not-registered");const Zt=vt.authToken;if(!B&&Jn(Zt))return vt;if(1===Zt.requestStatus)return J=Ve(O,B),vt;{if(!navigator.onLine)throw ut.create("app-offline");const nn=Pn(vt);return J=$t(O,nn),nn}});return J?yield J:Oe.authToken})).apply(this,arguments)}function Ve(O,B){return ot.apply(this,arguments)}function ot(){return(ot=(0,G.Z)(function*(O,B){let J=yield Et(O.appConfig);for(;1===J.authToken.requestStatus;)yield pt(100),J=yield Et(O.appConfig);const Oe=J.authToken;return 0===Oe.requestStatus?ke(O,B):Oe})).apply(this,arguments)}function Et(O){return Wn(O,B=>{if(!yn(B))throw ut.create("not-registered");return function Er(O){return 1===O.requestStatus&&O.requestTime+1e4<Date.now()}(B.authToken)?Object.assign(Object.assign({},B),{authToken:{requestStatus:0}}):B})}function $t(O,B){return tn.apply(this,arguments)}function tn(){return(tn=(0,G.Z)(function*(O,B){try{const J=yield kr(O,B),Oe=Object.assign(Object.assign({},B),{authToken:J});return yield or(O.appConfig,Oe),J}catch(J){if(!_e(J)||401!==J.customData.serverCode&&404!==J.customData.serverCode){const Oe=Object.assign(Object.assign({},B),{authToken:{requestStatus:0}});yield or(O.appConfig,Oe)}else yield Kn(O.appConfig);throw J}})).apply(this,arguments)}function yn(O){return void 0!==O&&2===O.registrationStatus}function Jn(O){return 2===O.requestStatus&&!function qt(O){const B=Date.now();return B<O.creationTime||O.creationTime+O.expiresIn<B+36e5}(O)}function Pn(O){const B={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},O),{authToken:B})}function Hr(){return(Hr=(0,G.Z)(function*(O){const B=O,{installationEntry:J,registrationPromise:Oe}=yield Pr(B);return Oe?Oe.catch(console.error):ke(B).catch(console.error),J.fid})).apply(this,arguments)}function Vr(){return(Vr=(0,G.Z)(function*(O,B=!1){const J=O;return yield ui(J),(yield ke(J,B)).token})).apply(this,arguments)}function ui(O){return hi.apply(this,arguments)}function hi(){return(hi=(0,G.Z)(function*(O){const{registrationPromise:B}=yield Pr(O);B&&(yield B)})).apply(this,arguments)}function me(O){return ut.create("missing-app-config-values",{valueName:O})}const ft="installations",jt=O=>{const B=O.getProvider("app").getImmediate(),J=function Me(O){if(!O||!O.options)throw me("App Configuration");if(!O.name)throw me("App Name");const B=["projectId","apiKey","appId"];for(const J of B)if(!O.options[J])throw me(J);return{appName:O.name,projectId:O.options.projectId,apiKey:O.options.apiKey,appId:O.options.appId}}(B);return{app:B,appConfig:J,heartbeatServiceProvider:(0,Fe._getProvider)(B,"heartbeat"),_delete:()=>Promise.resolve()}},mn=O=>{const B=O.getProvider("app").getImmediate(),J=(0,Fe._getProvider)(B,ft).getImmediate();return{getId:()=>function dr(O){return Hr.apply(this,arguments)}(J),getToken:ct=>function Gr(O){return Vr.apply(this,arguments)}(J,ct)}};(function Nn(){(0,Fe._registerComponent)(new ue.wA(ft,jt,"PUBLIC")),(0,Fe._registerComponent)(new ue.wA("installations-internal",mn,"PRIVATE"))})(),(0,Fe.registerVersion)(de,"0.5.9"),(0,Fe.registerVersion)(de,"0.5.9","esm2017");const mr="@firebase/remote-config",ir=new Ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class gn{constructor(B,J,Oe,ct){this.client=B,this.storage=J,this.storageCache=Oe,this.logger=ct}isCachedDataFresh(B,J){if(!J)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Oe=Date.now()-J,ct=Oe<=B;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Oe}. Cache max age millis (minimumFetchIntervalMillis setting): ${B}. Is cache hit: ${ct}.`),ct}fetch(B){var J=this;return(0,G.Z)(function*(){const[Oe,ct]=yield Promise.all([J.storage.getLastSuccessfulFetchTimestampMillis(),J.storage.getLastSuccessfulFetchResponse()]);if(ct&&J.isCachedDataFresh(B.cacheMaxAgeMillis,Oe))return ct;B.eTag=ct&&ct.eTag;const vt=yield J.client.fetch(B),Zt=[J.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===vt.status&&Zt.push(J.storage.setLastSuccessfulFetchResponse(vt)),yield Promise.all(Zt),vt})()}}function kn(O=navigator){return O.languages&&O.languages[0]||O.language}class Fn{constructor(B,J,Oe,ct,vt,Zt){this.firebaseInstallations=B,this.sdkVersion=J,this.namespace=Oe,this.projectId=ct,this.apiKey=vt,this.appId=Zt}fetch(B){var J=this;return(0,G.Z)(function*(){const[Oe,ct]=yield Promise.all([J.firebaseInstallations.getId(),J.firebaseInstallations.getToken()]),Zt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${J.projectId}/namespaces/${J.namespace}:fetch?key=${J.apiKey}`,nn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":B.eTag||"*"},nr={sdk_version:J.sdkVersion,app_instance_id:Oe,app_instance_id_token:ct,app_id:J.appId,language_code:kn()},lr={method:"POST",headers:nn,body:JSON.stringify(nr)},xr=fetch(Zt,lr),cr=new Promise((oi,Do)=>{B.signal.addEventListener(()=>{const Ri=new Error("The operation was aborted.");Ri.name="AbortError",Do(Ri)})});let ns;try{yield Promise.race([xr,cr]),ns=yield xr}catch(oi){let Do="fetch-client-network";throw"AbortError"===oi.name&&(Do="fetch-timeout"),ir.create(Do,{originalErrorMessage:oi.message})}let us=ns.status;const La=ns.headers.get("ETag")||void 0;let ni,pa;if(200===ns.status){let oi;try{oi=yield ns.json()}catch(Do){throw ir.create("fetch-client-parse",{originalErrorMessage:Do.message})}ni=oi.entries,pa=oi.state}if("INSTANCE_STATE_UNSPECIFIED"===pa?us=500:"NO_CHANGE"===pa?us=304:("NO_TEMPLATE"===pa||"EMPTY_CONFIG"===pa)&&(ni={}),304!==us&&200!==us)throw ir.create("fetch-status",{httpStatus:us});return{status:us,eTag:La,config:ni}})()}}class ze{constructor(B,J){this.client=B,this.storage=J}fetch(B){var J=this;return(0,G.Z)(function*(){const Oe=(yield J.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return J.attemptFetch(B,Oe)})()}attemptFetch(B,{throttleEndTimeMillis:J,backoffCount:Oe}){var ct=this;return(0,G.Z)(function*(){yield function Cr(O,B){return new Promise((J,Oe)=>{const ct=Math.max(B-Date.now(),0),vt=setTimeout(J,ct);O.addEventListener(()=>{clearTimeout(vt),Oe(ir.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}(B.signal,J);try{const vt=yield ct.client.fetch(B);return yield ct.storage.deleteThrottleMetadata(),vt}catch(vt){if(!function ar(O){if(!(O instanceof Ae.ZR&&O.customData))return!1;const B=Number(O.customData.httpStatus);return 429===B||500===B||503===B||504===B}(vt))throw vt;const Zt={throttleEndTimeMillis:Date.now()+(0,Ae.$s)(Oe),backoffCount:Oe+1};return yield ct.storage.setThrottleMetadata(Zt),ct.attemptFetch(B,Zt)}})()}}class Pt{constructor(B,J,Oe,ct,vt){this.app=B,this._client=J,this._storageCache=Oe,this._storage=ct,this._logger=vt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ht(O,B){const J=O.target.error||void 0;return ir.create(B,{originalErrorMessage:J&&J.message})}const pn="app_namespace_store";class Pi{constructor(B,J,Oe,ct=function ur(){return new Promise((O,B)=>{try{const J=indexedDB.open("firebase_remote_config",1);J.onerror=Oe=>{B(Ht(Oe,"storage-open"))},J.onsuccess=Oe=>{O(Oe.target.result)},J.onupgradeneeded=Oe=>{0===Oe.oldVersion&&Oe.target.result.createObjectStore(pn,{keyPath:"compositeKey"})}}catch(J){B(ir.create("storage-open",{originalErrorMessage:J}))}})}()){this.appId=B,this.appName=J,this.namespace=Oe,this.openDbPromise=ct}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(B){return this.set("last_fetch_status",B)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(B){return this.set("last_successful_fetch_timestamp_millis",B)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(B){return this.set("last_successful_fetch_response",B)}getActiveConfig(){return this.get("active_config")}setActiveConfig(B){return this.set("active_config",B)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(B){return this.set("active_config_etag",B)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(B){return this.set("throttle_metadata",B)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(B){var J=this;return(0,G.Z)(function*(){const Oe=yield J.openDbPromise;return new Promise((ct,vt)=>{const nn=Oe.transaction([pn],"readonly").objectStore(pn),nr=J.createCompositeKey(B);try{const lr=nn.get(nr);lr.onerror=xr=>{vt(Ht(xr,"storage-get"))},lr.onsuccess=xr=>{const cr=xr.target.result;ct(cr?cr.value:void 0)}}catch(lr){vt(ir.create("storage-get",{originalErrorMessage:lr&&lr.message}))}})})()}set(B,J){var Oe=this;return(0,G.Z)(function*(){const ct=yield Oe.openDbPromise;return new Promise((vt,Zt)=>{const nr=ct.transaction([pn],"readwrite").objectStore(pn),lr=Oe.createCompositeKey(B);try{const xr=nr.put({compositeKey:lr,value:J});xr.onerror=cr=>{Zt(Ht(cr,"storage-set"))},xr.onsuccess=()=>{vt()}}catch(xr){Zt(ir.create("storage-set",{originalErrorMessage:xr&&xr.message}))}})})()}delete(B){var J=this;return(0,G.Z)(function*(){const Oe=yield J.openDbPromise;return new Promise((ct,vt)=>{const nn=Oe.transaction([pn],"readwrite").objectStore(pn),nr=J.createCompositeKey(B);try{const lr=nn.delete(nr);lr.onerror=xr=>{vt(Ht(xr,"storage-delete"))},lr.onsuccess=()=>{ct()}}catch(lr){vt(ir.create("storage-delete",{originalErrorMessage:lr&&lr.message}))}})})()}createCompositeKey(B){return[this.appId,this.appName,this.namespace,B].join()}}class Ui{constructor(B){this.storage=B}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var B=this;return(0,G.Z)(function*(){const J=B.storage.getLastFetchStatus(),Oe=B.storage.getLastSuccessfulFetchTimestampMillis(),ct=B.storage.getActiveConfig(),vt=yield J;vt&&(B.lastFetchStatus=vt);const Zt=yield Oe;Zt&&(B.lastSuccessfulFetchTimestampMillis=Zt);const nn=yield ct;nn&&(B.activeConfig=nn)})()}setLastFetchStatus(B){return this.lastFetchStatus=B,this.storage.setLastFetchStatus(B)}setLastSuccessfulFetchTimestampMillis(B){return this.lastSuccessfulFetchTimestampMillis=B,this.storage.setLastSuccessfulFetchTimestampMillis(B)}setActiveConfig(B){return this.activeConfig=B,this.storage.setActiveConfig(B)}}function ki(){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,G.Z)(function*(){if(!(0,Ae.hl)())return!1;try{return yield(0,Ae.eu)()}catch(O){return!1}})).apply(this,arguments)}!function ci(){(0,Fe._registerComponent)(new ue.wA("remote-config",function O(B,{instanceIdentifier:J}){const Oe=B.getProvider("app").getImmediate(),ct=B.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw ir.create("registration-window");if(!(0,Ae.hl)())throw ir.create("indexed-db-unavailable");const{projectId:vt,apiKey:Zt,appId:nn}=Oe.options;if(!vt)throw ir.create("registration-project-id");if(!Zt)throw ir.create("registration-api-key");if(!nn)throw ir.create("registration-app-id");const nr=new Pi(nn,Oe.name,J=J||"firebase"),lr=new Ui(nr),xr=new De.Yd(mr);xr.logLevel=De.in.ERROR;const cr=new Fn(ct,Fe.SDK_VERSION,J,vt,Zt,nn),ns=new ze(cr,nr),us=new gn(ns,nr,lr,xr),La=new Pt(Oe,us,lr,nr,xr);return function pe(O){const B=(0,Ae.m9)(O);B._initializePromise||(B._initializePromise=B._storageCache.loadFromStorage().then(()=>{B._isInitializationComplete=!0}))}(La),La},"PUBLIC").setMultipleInstances(!0)),(0,Fe.registerVersion)(mr,"0.3.8"),(0,Fe.registerVersion)(mr,"0.3.8","esm2017")}();const Os="/firebase-messaging-sw.js",Zi="/firebase-cloud-messaging-push-scope",yi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ss="google.c.a.c_id",Ts="google.c.a.c_l",Us="google.c.a.ts",ji="google.c.a.e";var Ni=(()=>{return(O=Ni||(Ni={})).PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",Ni;var O})();function Si(O){const B=new Uint8Array(O);return btoa(String.fromCharCode(...B)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xi(O){const J=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Oe=atob(J),ct=new Uint8Array(Oe.length);for(let vt=0;vt<Oe.length;++vt)ct[vt]=Oe.charCodeAt(vt);return ct}const _i="fcm_token_details_db",pi="fcm_token_object_Store";function fs(O){return Hi.apply(this,arguments)}function Hi(){return Hi=(0,G.Z)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(vt=>vt.name).includes(_i))return null;let B=null;return(yield(0,ve.X3)(_i,5,{upgrade:(Oe=(0,G.Z)(function*(ct,vt,Zt,nn){var nr;if(vt<2||!ct.objectStoreNames.contains(pi))return;const lr=nn.objectStore(pi),xr=yield lr.index("fcmSenderId").get(O);if(yield lr.clear(),xr)if(2===vt){const cr=xr;if(!cr.auth||!cr.p256dh||!cr.endpoint)return;B={token:cr.fcmToken,createTime:null!==(nr=cr.createTime)&&void 0!==nr?nr:Date.now(),subscriptionOptions:{auth:cr.auth,p256dh:cr.p256dh,endpoint:cr.endpoint,swScope:cr.swScope,vapidKey:"string"==typeof cr.vapidKey?cr.vapidKey:Si(cr.vapidKey)}}}else if(3===vt){const cr=xr;B={token:cr.fcmToken,createTime:cr.createTime,subscriptionOptions:{auth:Si(cr.auth),p256dh:Si(cr.p256dh),endpoint:cr.endpoint,swScope:cr.swScope,vapidKey:Si(cr.vapidKey)}}}else if(4===vt){const cr=xr;B={token:cr.fcmToken,createTime:cr.createTime,subscriptionOptions:{auth:Si(cr.auth),p256dh:Si(cr.p256dh),endpoint:cr.endpoint,swScope:cr.swScope,vapidKey:Si(cr.vapidKey)}}}}),function(vt,Zt,nn,nr){return Oe.apply(this,arguments)})})).close(),yield(0,ve.Lj)(_i),yield(0,ve.Lj)("fcm_vapid_details_db"),yield(0,ve.Lj)("undefined"),ps(B)?B:null;var Oe}),Hi.apply(this,arguments)}function ps(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:B}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof B.auth&&B.auth.length>0&&"string"==typeof B.p256dh&&B.p256dh.length>0&&"string"==typeof B.endpoint&&B.endpoint.length>0&&"string"==typeof B.swScope&&B.swScope.length>0&&"string"==typeof B.vapidKey&&B.vapidKey.length>0}const $i="firebase-messaging-store";let gs=null;function Gi(){return gs||(gs=(0,ve.X3)("firebase-messaging-database",1,{upgrade:(O,B)=>{0===B&&O.createObjectStore($i)}})),gs}function N(O){return K.apply(this,arguments)}function K(){return(K=(0,G.Z)(function*(O){const B=A(O),Oe=yield(yield Gi()).transaction($i).objectStore($i).get(B);if(Oe)return Oe;{const ct=yield fs(O.appConfig.senderId);if(ct)return yield k(O,ct),ct}})).apply(this,arguments)}function k(O,B){return te.apply(this,arguments)}function te(){return(te=(0,G.Z)(function*(O,B){const J=A(O),ct=(yield Gi()).transaction($i,"readwrite");return yield ct.objectStore($i).put(B,J),yield ct.done,B})).apply(this,arguments)}function He(O){return x.apply(this,arguments)}function x(){return(x=(0,G.Z)(function*(O){const B=A(O),Oe=(yield Gi()).transaction($i,"readwrite");yield Oe.objectStore($i).delete(B),yield Oe.done})).apply(this,arguments)}function A({appConfig:O}){return O.appId}const z=new Ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ht(O,B){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,G.Z)(function*(O,B){const J=yield ms(O),Oe=si(B),ct={method:"POST",headers:J,body:JSON.stringify(Oe)};let vt;try{vt=yield(yield fetch(bi(O.appConfig),ct)).json()}catch(Zt){throw z.create("token-subscribe-failed",{errorInfo:Zt})}if(vt.error)throw z.create("token-subscribe-failed",{errorInfo:vt.error.message});if(!vt.token)throw z.create("token-subscribe-no-token");return vt.token})).apply(this,arguments)}function In(O,B){return er.apply(this,arguments)}function er(){return(er=(0,G.Z)(function*(O,B){const J=yield ms(O),Oe=si(B.subscriptionOptions),ct={method:"PATCH",headers:J,body:JSON.stringify(Oe)};let vt;try{vt=yield(yield fetch(`${bi(O.appConfig)}/${B.token}`,ct)).json()}catch(Zt){throw z.create("token-update-failed",{errorInfo:Zt})}if(vt.error)throw z.create("token-update-failed",{errorInfo:vt.error.message});if(!vt.token)throw z.create("token-update-no-token");return vt.token})).apply(this,arguments)}function qn(O,B){return $r.apply(this,arguments)}function $r(){return($r=(0,G.Z)(function*(O,B){const Oe={method:"DELETE",headers:yield ms(O)};try{const vt=yield(yield fetch(`${bi(O.appConfig)}/${B}`,Oe)).json();if(vt.error)throw z.create("token-unsubscribe-failed",{errorInfo:vt.error.message})}catch(ct){throw z.create("token-unsubscribe-failed",{errorInfo:ct})}})).apply(this,arguments)}function bi({projectId:O}){return`https://fcmregistrations.googleapis.com/v1/projects/${O}/registrations`}function ms(O){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,G.Z)(function*({appConfig:O,installations:B}){const J=yield B.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${J}`})})).apply(this,arguments)}function si({p256dh:O,auth:B,endpoint:J,vapidKey:Oe}){const ct={web:{endpoint:J,auth:B,p256dh:O}};return Oe!==yi&&(ct.web.applicationPubKey=Oe),ct}const Ps=6048e5;function xn(O){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,G.Z)(function*(O){const B=yield m(O.swRegistration,O.vapidKey),J={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:B.endpoint,auth:Si(B.getKey("auth")),p256dh:Si(B.getKey("p256dh"))},Oe=yield N(O.firebaseDependencies);if(Oe){if(ie(Oe.subscriptionOptions,J))return Date.now()>=Oe.createTime+Ps?v(O,{token:Oe.token,createTime:Date.now(),subscriptionOptions:J}):Oe.token;try{yield qn(O.firebaseDependencies,Oe.token)}catch(ct){console.warn(ct)}return y(O.firebaseDependencies,J)}return y(O.firebaseDependencies,J)})).apply(this,arguments)}function Es(O){return yo.apply(this,arguments)}function yo(){return(yo=(0,G.Z)(function*(O){const B=yield N(O.firebaseDependencies);B&&(yield qn(O.firebaseDependencies,B.token),yield He(O.firebaseDependencies));const J=yield O.swRegistration.pushManager.getSubscription();return!J||J.unsubscribe()})).apply(this,arguments)}function v(O,B){return L.apply(this,arguments)}function L(){return(L=(0,G.Z)(function*(O,B){try{const J=yield In(O.firebaseDependencies,B),Oe=Object.assign(Object.assign({},B),{token:J,createTime:Date.now()});return yield k(O.firebaseDependencies,Oe),J}catch(J){throw yield Es(O),J}})).apply(this,arguments)}function y(O,B){return g.apply(this,arguments)}function g(){return(g=(0,G.Z)(function*(O,B){const Oe={token:yield ht(O,B),createTime:Date.now(),subscriptionOptions:B};return yield k(O,Oe),Oe.token})).apply(this,arguments)}function m(O,B){return V.apply(this,arguments)}function V(){return(V=(0,G.Z)(function*(O,B){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xi(B)})})).apply(this,arguments)}function ie(O,B){return B.vapidKey===O.vapidKey&&B.endpoint===O.endpoint&&B.auth===O.auth&&B.p256dh===O.p256dh}function Ie(O){const B={from:O.from,collapseKey:O.collapse_key,messageId:O.fcmMessageId};return function nt(O,B){if(!B.notification)return;O.notification={};const J=B.notification.title;J&&(O.notification.title=J);const Oe=B.notification.body;Oe&&(O.notification.body=Oe);const ct=B.notification.image;ct&&(O.notification.image=ct)}(B,O),function xt(O,B){!B.data||(O.data=B.data)}(B,O),function Jt(O,B){if(!B.fcmOptions)return;O.fcmOptions={};const J=B.fcmOptions.link;J&&(O.fcmOptions.link=J);const Oe=B.fcmOptions.analytics_label;Oe&&(O.fcmOptions.analyticsLabel=Oe)}(B,O),B}function Kt(O){return"object"==typeof O&&!!O&&ss in O}function Un(O,B){const J=[];for(let Oe=0;Oe<O.length;Oe++)J.push(O.charAt(Oe)),Oe<B.length&&J.push(B.charAt(Oe));return J.join("")}function Sr(O){return z.create("missing-app-config-values",{valueName:O})}Un("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Un("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fr{constructor(B,J,Oe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ct=function Yn(O){if(!O||!O.options)throw Sr("App Configuration Object");if(!O.name)throw Sr("App Name");const B=["projectId","apiKey","appId","messagingSenderId"],{options:J}=O;for(const Oe of B)if(!J[Oe])throw Sr(Oe);return{appName:O.name,projectId:J.projectId,apiKey:J.apiKey,appId:J.appId,senderId:J.messagingSenderId}}(B);this.firebaseDependencies={app:B,appConfig:ct,installations:J,analyticsProvider:Oe}}_delete(){return Promise.resolve()}}function Or(O){return yr.apply(this,arguments)}function yr(){return(yr=(0,G.Z)(function*(O){try{O.swRegistration=yield navigator.serviceWorker.register(Os,{scope:Zi}),O.swRegistration.update().catch(()=>{})}catch(B){throw z.create("failed-service-worker-registration",{browserErrorMessage:B.message})}})).apply(this,arguments)}function ti(O,B){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,G.Z)(function*(O,B){if(!B&&!O.swRegistration&&(yield Or(O)),B||!O.swRegistration){if(!(B instanceof ServiceWorkerRegistration))throw z.create("invalid-sw-registration");O.swRegistration=B}})).apply(this,arguments)}function Qi(O,B){return vr.apply(this,arguments)}function vr(){return(vr=(0,G.Z)(function*(O,B){B?O.vapidKey=B:O.vapidKey||(O.vapidKey=yi)})).apply(this,arguments)}function xi(){return(xi=(0,G.Z)(function*(O,B){if(!navigator)throw z.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw z.create("permission-blocked");return yield Qi(O,null==B?void 0:B.vapidKey),yield ti(O,null==B?void 0:B.serviceWorkerRegistration),xn(O)})).apply(this,arguments)}function io(O,B,J){return so.apply(this,arguments)}function so(){return(so=(0,G.Z)(function*(O,B,J){const Oe=oo(B);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent(Oe,{message_id:J[ss],message_name:J[Ts],message_time:J[Us],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function oo(O){switch(O){case Ni.NOTIFICATION_CLICKED:return"notification_open";case Ni.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function vo(){return(vo=(0,G.Z)(function*(O,B){const J=B.data;if(!J.isFirebaseMessaging)return;O.onMessageHandler&&J.messageType===Ni.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(Ie(J)):O.onMessageHandler.next(Ie(J)));const Oe=J.data;Kt(Oe)&&"1"===Oe[ji]&&(yield io(O,J.messageType,Oe))})).apply(this,arguments)}const Xo="@firebase/messaging",Za=O=>{const B=new fr(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",J=>function ao(O,B){return vo.apply(this,arguments)}(B,J)),B},Ji=O=>{const B=O.getProvider("messaging").getImmediate();return{getToken:Oe=>function Ai(O,B){return xi.apply(this,arguments)}(B,Oe)}};function Aa(){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,G.Z)(function*(){try{yield(0,Ae.eu)()}catch(O){return!1}return"undefined"!=typeof window&&(0,Ae.hl)()&&(0,Ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Xa(){(0,Fe._registerComponent)(new ue.wA("messaging",Za,"PUBLIC")),(0,Fe._registerComponent)(new ue.wA("messaging-internal",Ji,"PRIVATE")),(0,Fe.registerVersion)(Xo,"0.9.13"),(0,Fe.registerVersion)(Xo,"0.9.13","esm2017")}();const la="analytics",xa="firebase_id",uo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_o="https://www.googletagmanager.com/gtag/js",Fi=new De.Yd("@firebase/analytics");function Ro(O){return Promise.all(O.map(B=>B.catch(J=>J)))}function Ma(O,B){const J=document.createElement("script");J.src=`${_o}?l=${O}&id=${B}`,J.async=!0,document.head.appendChild(J)}function bo(O,B,J,Oe,ct,vt){return ks.apply(this,arguments)}function ks(){return(ks=(0,G.Z)(function*(O,B,J,Oe,ct,vt){const Zt=Oe[ct];try{if(Zt)yield B[Zt];else{const nr=(yield Ro(J)).find(lr=>lr.measurementId===ct);nr&&(yield B[nr.appId])}}catch(nn){Fi.error(nn)}O("config",ct,vt)})).apply(this,arguments)}function zi(O,B,J,Oe,ct){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,G.Z)(function*(O,B,J,Oe,ct){try{let vt=[];if(ct&&ct.send_to){let Zt=ct.send_to;Array.isArray(Zt)||(Zt=[Zt]);const nn=yield Ro(J);for(const nr of Zt){const lr=nn.find(cr=>cr.measurementId===nr),xr=lr&&B[lr.appId];if(!xr){vt=[];break}vt.push(xr)}}0===vt.length&&(vt=Object.values(B)),yield Promise.all(vt),O("event",Oe,ct||{})}catch(vt){Fi.error(vt)}})).apply(this,arguments)}function as(){const O=window.document.getElementsByTagName("script");for(const B of Object.values(O))if(B.src&&B.src.includes(_o))return B;return null}const Ns=new Ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ea=new class js{constructor(B={},J=1e3){this.throttleMetadata=B,this.intervalMillis=J}getThrottleMetadata(B){return this.throttleMetadata[B]}setThrottleMetadata(B,J){this.throttleMetadata[B]=J}deleteThrottleMetadata(B){delete this.throttleMetadata[B]}};function Oa(O){return new Headers({Accept:"application/json","x-goog-api-key":O})}function lo(O){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,G.Z)(function*(O){var B;const{appId:J,apiKey:Oe}=O,ct={method:"GET",headers:Oa(Oe)},vt=uo.replace("{app-id}",J),Zt=yield fetch(vt,ct);if(200!==Zt.status&&304!==Zt.status){let nn="";try{const nr=yield Zt.json();(null===(B=nr.error)||void 0===B?void 0:B.message)&&(nn=nr.error.message)}catch(nr){}throw Ns.create("config-fetch-failed",{httpStatus:Zt.status,responseMessage:nn})}return Zt.json()})).apply(this,arguments)}function di(O){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,G.Z)(function*(O,B=ea,J){const{appId:Oe,apiKey:ct,measurementId:vt}=O.options;if(!Oe)throw Ns.create("no-app-id");if(!ct){if(vt)return{measurementId:vt,appId:Oe};throw Ns.create("no-api-key")}const Zt=B.getThrottleMetadata(Oe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nn=new zo;return setTimeout((0,G.Z)(function*(){nn.abort()}),void 0!==J?J:6e4),ka({appId:Oe,apiKey:ct,measurementId:vt},Zt,nn,B)})).apply(this,arguments)}function ka(O,B,J){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,G.Z)(function*(O,{throttleEndTimeMillis:B,backoffCount:J},Oe,ct=ea){const{appId:vt,measurementId:Zt}=O;try{yield Li(Oe,B)}catch(nn){if(Zt)return Fi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zt} provided in the "measurementId" field in the local Firebase config. [${nn.message}]`),{appId:vt,measurementId:Zt};throw nn}try{const nn=yield lo(O);return ct.deleteThrottleMetadata(vt),nn}catch(nn){if(!wo(nn)){if(ct.deleteThrottleMetadata(vt),Zt)return Fi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zt} provided in the "measurementId" field in the local Firebase config. [${nn.message}]`),{appId:vt,measurementId:Zt};throw nn}const nr=503===Number(nn.customData.httpStatus)?(0,Ae.$s)(J,ct.intervalMillis,30):(0,Ae.$s)(J,ct.intervalMillis),lr={throttleEndTimeMillis:Date.now()+nr,backoffCount:J+1};return ct.setThrottleMetadata(vt,lr),Fi.debug(`Calling attemptFetch again in ${nr} millis`),ka(O,lr,Oe,ct)}})).apply(this,arguments)}function Li(O,B){return new Promise((J,Oe)=>{const ct=Math.max(B-Date.now(),0),vt=setTimeout(J,ct);O.addEventListener(()=>{clearTimeout(vt),Oe(Ns.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}function wo(O){if(!(O instanceof Ae.ZR&&O.customData))return!1;const B=Number(O.customData.httpStatus);return 429===B||500===B||503===B||504===B}class zo{constructor(){this.listeners=[]}addEventListener(B){this.listeners.push(B)}abort(){this.listeners.forEach(B=>B())}}function ca(){return da.apply(this,arguments)}function da(){return(da=(0,G.Z)(function*(){if(!(0,Ae.hl)())return Fi.warn(Ns.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ae.eu)()}catch(O){return Fi.warn(Ns.create("indexeddb-unavailable",{errorInfo:O}).message),!1}return!0})).apply(this,arguments)}function wi(){return(wi=(0,G.Z)(function*(O,B,J,Oe,ct,vt,Zt){var nn;const nr=di(O);nr.then(us=>{J[us.measurementId]=us.appId,O.options.measurementId&&us.measurementId!==O.options.measurementId&&Fi.warn(`The measurement ID in the local Firebase config (${O.options.measurementId}) does not match the measurement ID fetched from the server (${us.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(us=>Fi.error(us)),B.push(nr);const lr=ca().then(us=>{if(us)return Oe.getId()}),[xr,cr]=yield Promise.all([nr,lr]);as()||Ma(vt,xr.measurementId),ct("js",new Date);const ns=null!==(nn=null==Zt?void 0:Zt.config)&&void 0!==nn?nn:{};return ns.origin="firebase",ns.update=!0,null!=cr&&(ns[xa]=cr),ct("config",xr.measurementId,ns),xr.measurementId})).apply(this,arguments)}class Fs{constructor(B){this.app=B}_delete(){return delete es[this.app.options.appId],Promise.resolve()}}let es={},Dn=[];const jn={};let Tt,C,Io="dataLayer",I=!1;function $(O,B,J){!function P(){const O=[];if((0,Ae.ru)()&&O.push("This is a browser extension environment."),(0,Ae.zI)()||O.push("Cookies are not available."),O.length>0){const B=O.map((Oe,ct)=>`(${ct+1}) ${Oe}`).join(" "),J=Ns.create("invalid-analytics-context",{errorInfo:B});Fi.warn(J.message)}}();const Oe=O.options.appId;if(!Oe)throw Ns.create("no-app-id");if(!O.options.apiKey){if(!O.options.measurementId)throw Ns.create("no-api-key");Fi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${O.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=es[Oe])throw Ns.create("already-exists",{id:Oe});if(!I){!function Ra(O){let B=[];Array.isArray(window[O])?B=window[O]:window[O]=B}(Io);const{wrappedGtag:vt,gtagCore:Zt}=function Qs(O,B,J,Oe,ct){let vt=function(...Zt){window[Oe].push(arguments)};return window[ct]&&"function"==typeof window[ct]&&(vt=window[ct]),window[ct]=function Jo(O,B,J,Oe){function vt(){return(vt=(0,G.Z)(function*(Zt,nn,nr){try{"event"===Zt?yield zi(O,B,J,nn,nr):"config"===Zt?yield bo(O,B,J,Oe,nn,nr):O("set",nn)}catch(lr){Fi.error(lr)}})).apply(this,arguments)}return function ct(Zt,nn,nr){return vt.apply(this,arguments)}}(vt,O,B,J),{gtagCore:vt,wrappedGtag:window[ct]}}(es,Dn,jn,Io,"gtag");C=vt,Tt=Zt,I=!0}return es[Oe]=function Qt(O,B,J,Oe,ct,vt,Zt){return wi.apply(this,arguments)}(O,Dn,jn,B,Tt,Io,J),new Fs(O)}function Ce(){return(Ce=(0,G.Z)(function*(O,B,J,Oe,ct){if(ct&&ct.global)O("event",J,Oe);else{const vt=yield B;O("event",J,Object.assign(Object.assign({},Oe),{send_to:vt}))}})).apply(this,arguments)}function Zr(){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,G.Z)(function*(){if((0,Ae.ru)()||!(0,Ae.zI)()||!(0,Ae.hl)())return!1;try{return yield(0,Ae.eu)()}catch(O){return!1}})).apply(this,arguments)}const Yc="@firebase/analytics";!function Ja(){(0,Fe._registerComponent)(new ue.wA(la,(B,{options:J})=>$(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),J),"PUBLIC")),(0,Fe._registerComponent)(new ue.wA("analytics-internal",function O(B){try{const J=B.getProvider(la).getImmediate();return{logEvent:(Oe,ct,vt)=>function Ur(O,B,J,Oe){O=(0,Ae.m9)(O),function Z(O,B,J,Oe,ct){return Ce.apply(this,arguments)}(C,es[O.app.options.appId],B,J,Oe).catch(ct=>Fi.error(ct))}(J,Oe,ct,vt)}}catch(J){throw Ns.create("interop-component-reg-failed",{reason:J})}},"PRIVATE")),(0,Fe.registerVersion)(Yc,"0.7.9"),(0,Fe.registerVersion)(Yc,"0.7.9","esm2017")}();var Jd=F(341),vs=F(353),Yl=F(2868),Js=F(7951),Vi=F(5915);const Di=new a.GfV("7.3.0"),Wo="__angularfire_symbol__analyticsIsSupportedValue",ta="__angularfire_symbol__analyticsIsSupported",na="__angularfire_symbol__remoteConfigIsSupportedValue",Na="__angularfire_symbol__remoteConfigIsSupported",Mi="__angularfire_symbol__messagingIsSupportedValue",As="__angularfire_symbol__messagingIsSupported";function Tu(O,B,J){if(B){if(1===B.length)return B[0];const vt=B.filter(Zt=>Zt.app===J);if(1===vt.length)return vt[0]}return J.container.getProvider(O).getImmediate({optional:!0})}globalThis[ta]||(globalThis[ta]=Zr().then(O=>globalThis[Wo]=O).catch(()=>globalThis[Wo]=!1)),globalThis[As]||(globalThis[As]=Aa().then(O=>globalThis[Mi]=O).catch(()=>globalThis[Mi]=!1)),globalThis[Na]||(globalThis[Na]=ki().then(O=>globalThis[na]=O).catch(()=>globalThis[na]=!1));const ha=(O,B)=>{const J=B?[B]:(0,se.C6)(),Oe=[];return J.forEach(ct=>{ct.container.getProvider(O).instances.forEach(Zt=>{Oe.includes(Zt)||Oe.push(Zt)})}),Oe};function Gs(){}class fa{constructor(B,J=Jd.N){this.zone=B,this.delegate=J}now(){return this.delegate.now()}schedule(B,J,Oe){const ct=this.zone;return this.delegate.schedule(function(Zt){ct.runGuarded(()=>{B.apply(this,[Zt])})},J,Oe)}}class No{constructor(B){this.zone=B,this.task=null}call(B,J){const Oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gs,{},Gs,Gs)),J.pipe((0,Yl.b)({next:Oe,complete:Oe,error:Oe})).subscribe(B).add(Oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let zs=(()=>{class O{constructor(J){this.ngZone=J,this.outsideAngular=J.runOutsideAngular(()=>new fa(Zone.current)),this.insideAngular=J.run(()=>new fa(Zone.current,vs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(J){return new(J||O)(a.LFG(a.R0b))},O.\u0275prov=a.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function Ws(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function Fa(O){return O.pipe((0,Js.QV)(Ws().outsideAngular))}function eu(O){return Ws(),function Au(O){return function(J){return(J=J.lift(new No(O.ngZone))).pipe((0,Vi.R)(O.outsideAngular),(0,Js.QV)(O.insideAngular))}}(Ws())(O)}},2090:(Wt,rt,F)=>{"use strict";F.d(rt,{$s:()=>br,BH:()=>Q,G6:()=>lt,L:()=>ve,LL:()=>$e,Mn:()=>dt,Sg:()=>fe,UG:()=>xe,US:()=>ue,ZB:()=>ne,ZR:()=>Re,b$:()=>_e,d:()=>mt,eu:()=>Se,hl:()=>he,jU:()=>ye,m9:()=>kr,ne:()=>An,pd:()=>Dr,r3:()=>It,ru:()=>ut,tV:()=>de,uI:()=>oe,vZ:()=>Tn,w1:()=>Dt,xO:()=>on,xb:()=>Ft,z$:()=>Be,zI:()=>le,zd:()=>bn});const Fe=function(Ne){const Ue=[];let ke=0;for(let At=0;At<Ne.length;At++){let Ve=Ne.charCodeAt(At);Ve<128?Ue[ke++]=Ve:Ve<2048?(Ue[ke++]=Ve>>6|192,Ue[ke++]=63&Ve|128):55296==(64512&Ve)&&At+1<Ne.length&&56320==(64512&Ne.charCodeAt(At+1))?(Ve=65536+((1023&Ve)<<10)+(1023&Ne.charCodeAt(++At)),Ue[ke++]=Ve>>18|240,Ue[ke++]=Ve>>12&63|128,Ue[ke++]=Ve>>6&63|128,Ue[ke++]=63&Ve|128):(Ue[ke++]=Ve>>12|224,Ue[ke++]=Ve>>6&63|128,Ue[ke++]=63&Ve|128)}return Ue},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ne,Ue){if(!Array.isArray(Ne))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ke=Ue?this.byteToCharMapWebSafe_:this.byteToCharMap_,At=[];for(let Ve=0;Ve<Ne.length;Ve+=3){const ot=Ne[Ve],Et=Ve+1<Ne.length,$t=Et?Ne[Ve+1]:0,tn=Ve+2<Ne.length,yn=tn?Ne[Ve+2]:0;let Pn=(15&$t)<<2|yn>>6,Er=63&yn;tn||(Er=64,Et||(Pn=64)),At.push(ke[ot>>2],ke[(3&ot)<<4|$t>>4],ke[Pn],ke[Er])}return At.join("")},encodeString(Ne,Ue){return this.HAS_NATIVE_SUPPORT&&!Ue?btoa(Ne):this.encodeByteArray(Fe(Ne),Ue)},decodeString(Ne,Ue){return this.HAS_NATIVE_SUPPORT&&!Ue?atob(Ne):function(Ne){const Ue=[];let ke=0,At=0;for(;ke<Ne.length;){const Ve=Ne[ke++];if(Ve<128)Ue[At++]=String.fromCharCode(Ve);else if(Ve>191&&Ve<224){const ot=Ne[ke++];Ue[At++]=String.fromCharCode((31&Ve)<<6|63&ot)}else if(Ve>239&&Ve<365){const tn=((7&Ve)<<18|(63&Ne[ke++])<<12|(63&Ne[ke++])<<6|63&Ne[ke++])-65536;Ue[At++]=String.fromCharCode(55296+(tn>>10)),Ue[At++]=String.fromCharCode(56320+(1023&tn))}else{const ot=Ne[ke++],Et=Ne[ke++];Ue[At++]=String.fromCharCode((15&Ve)<<12|(63&ot)<<6|63&Et)}}return Ue.join("")}(this.decodeStringToByteArray(Ne,Ue))},decodeStringToByteArray(Ne,Ue){this.init_();const ke=Ue?this.charToByteMapWebSafe_:this.charToByteMap_,At=[];for(let Ve=0;Ve<Ne.length;){const ot=ke[Ne.charAt(Ve++)],$t=Ve<Ne.length?ke[Ne.charAt(Ve)]:0;++Ve;const yn=Ve<Ne.length?ke[Ne.charAt(Ve)]:64;++Ve;const qt=Ve<Ne.length?ke[Ne.charAt(Ve)]:64;if(++Ve,null==ot||null==$t||null==yn||null==qt)throw Error();At.push(ot<<2|$t>>4),64!==yn&&(At.push($t<<4&240|yn>>2),64!==qt&&At.push(yn<<6&192|qt))}return At},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ne=0;Ne<this.ENCODED_VALS.length;Ne++)this.byteToCharMap_[Ne]=this.ENCODED_VALS.charAt(Ne),this.charToByteMap_[this.byteToCharMap_[Ne]]=Ne,this.byteToCharMapWebSafe_[Ne]=this.ENCODED_VALS_WEBSAFE.charAt(Ne),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ne]]=Ne,Ne>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ne)]=Ne,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ne)]=Ne)}}},ve=function(Ne){return function(Ne){const Ue=Fe(Ne);return ue.encodeByteArray(Ue,!0)}(Ne).replace(/\./g,"")},de=function(Ne){try{return ue.decodeString(Ne,!0)}catch(Ue){console.error("base64Decode failed: ",Ue)}return null};function ne(Ne,Ue){if(!(Ue instanceof Object))return Ue;switch(Ue.constructor){case Date:return new Date(Ue.getTime());case Object:void 0===Ne&&(Ne={});break;case Array:Ne=[];break;default:return Ue}for(const ke in Ue)!Ue.hasOwnProperty(ke)||!ge(ke)||(Ne[ke]=ne(Ne[ke],Ue[ke]));return Ne}function ge(Ne){return"__proto__"!==Ne}class Q{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ue,ke)=>{this.resolve=Ue,this.reject=ke})}wrapCallback(Ue){return(ke,At)=>{ke?this.reject(ke):this.resolve(At),"function"==typeof Ue&&(this.promise.catch(()=>{}),1===Ue.length?Ue(ke):Ue(ke,At))}}}function fe(Ne,Ue){if(Ne.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const At=Ue||"demo-project",Ve=Ne.iat||0,ot=Ne.sub||Ne.user_id;if(!ot)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${At}`,aud:At,iat:Ve,exp:Ve+3600,auth_time:Ve,sub:ot,user_id:ot,firebase:{sign_in_provider:"custom",identities:{}}},Ne);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(Et)),""].join(".")}function Be(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function oe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function xe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Ne){return!1}}function ye(){return"object"==typeof self&&self.self===self}function ut(){const Ne="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ne&&void 0!==Ne.id}function _e(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function mt(){return Be().indexOf("Electron/")>=0}function Dt(){const Ne=Be();return Ne.indexOf("MSIE ")>=0||Ne.indexOf("Trident/")>=0}function dt(){return Be().indexOf("MSAppHost/")>=0}function lt(){return!xe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){return"object"==typeof indexedDB}function Se(){return new Promise((Ne,Ue)=>{try{let ke=!0;const At="validate-browser-context-for-indexeddb-analytics-module",Ve=self.indexedDB.open(At);Ve.onsuccess=()=>{Ve.result.close(),ke||self.indexedDB.deleteDatabase(At),Ne(!0)},Ve.onupgradeneeded=()=>{ke=!1},Ve.onerror=()=>{var ot;Ue((null===(ot=Ve.error)||void 0===ot?void 0:ot.message)||"")}}catch(ke){Ue(ke)}})}function le(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Re extends Error{constructor(Ue,ke,At){super(ke),this.code=Ue,this.customData=At,this.name="FirebaseError",Object.setPrototypeOf(this,Re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$e.prototype.create)}}class $e{constructor(Ue,ke,At){this.service=Ue,this.serviceName=ke,this.errors=At}create(Ue,...ke){const At=ke[0]||{},Ve=`${this.service}/${Ue}`,ot=this.errors[Ue],Et=ot?function pt(Ne,Ue){return Ne.replace(kt,(ke,At)=>{const Ve=Ue[At];return null!=Ve?String(Ve):`<${At}?>`})}(ot,At):"Error";return new Re(Ve,`${this.serviceName}: ${Et} (${Ve}).`,At)}}const kt=/\{\$([^}]+)}/g;function It(Ne,Ue){return Object.prototype.hasOwnProperty.call(Ne,Ue)}function Ft(Ne){for(const Ue in Ne)if(Object.prototype.hasOwnProperty.call(Ne,Ue))return!1;return!0}function Tn(Ne,Ue){if(Ne===Ue)return!0;const ke=Object.keys(Ne),At=Object.keys(Ue);for(const Ve of ke){if(!At.includes(Ve))return!1;const ot=Ne[Ve],Et=Ue[Ve];if(en(ot)&&en(Et)){if(!Tn(ot,Et))return!1}else if(ot!==Et)return!1}for(const Ve of At)if(!ke.includes(Ve))return!1;return!0}function en(Ne){return null!==Ne&&"object"==typeof Ne}function on(Ne){const Ue=[];for(const[ke,At]of Object.entries(Ne))Array.isArray(At)?At.forEach(Ve=>{Ue.push(encodeURIComponent(ke)+"="+encodeURIComponent(Ve))}):Ue.push(encodeURIComponent(ke)+"="+encodeURIComponent(At));return Ue.length?"&"+Ue.join("&"):""}function bn(Ne){const Ue={};return Ne.replace(/^\?/,"").split("&").forEach(At=>{if(At){const[Ve,ot]=At.split("=");Ue[decodeURIComponent(Ve)]=decodeURIComponent(ot)}}),Ue}function Dr(Ne){const Ue=Ne.indexOf("?");if(!Ue)return"";const ke=Ne.indexOf("#",Ue);return Ne.substring(Ue,ke>0?ke:void 0)}function An(Ne,Ue){const ke=new wn(Ne,Ue);return ke.subscribe.bind(ke)}class wn{constructor(Ue,ke){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ke,this.task.then(()=>{Ue(this)}).catch(At=>{this.error(At)})}next(Ue){this.forEachObserver(ke=>{ke.next(Ue)})}error(Ue){this.forEachObserver(ke=>{ke.error(Ue)}),this.close(Ue)}complete(){this.forEachObserver(Ue=>{Ue.complete()}),this.close()}subscribe(Ue,ke,At){let Ve;if(void 0===Ue&&void 0===ke&&void 0===At)throw new Error("Missing Observer.");Ve=function On(Ne,Ue){if("object"!=typeof Ne||null===Ne)return!1;for(const ke of Ue)if(ke in Ne&&"function"==typeof Ne[ke])return!0;return!1}(Ue,["next","error","complete"])?Ue:{next:Ue,error:ke,complete:At},void 0===Ve.next&&(Ve.next=Kn),void 0===Ve.error&&(Ve.error=Kn),void 0===Ve.complete&&(Ve.complete=Kn);const ot=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ve.error(this.finalError):Ve.complete()}catch(Et){}}),this.observers.push(Ve),ot}unsubscribeOne(Ue){void 0===this.observers||void 0===this.observers[Ue]||(delete this.observers[Ue],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ue){if(!this.finalized)for(let ke=0;ke<this.observers.length;ke++)this.sendOne(ke,Ue)}sendOne(Ue,ke){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ue])try{ke(this.observers[Ue])}catch(At){"undefined"!=typeof console&&console.error&&console.error(At)}})}close(Ue){this.finalized||(this.finalized=!0,void 0!==Ue&&(this.finalError=Ue),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kn(){}function br(Ne,Ue=1e3,ke=2){const At=Ue*Math.pow(ke,Ne),Ve=Math.round(.5*At*(Math.random()-.5)*2);return Math.min(144e5,At+Ve)}function kr(Ne){return Ne&&Ne._delegate?Ne._delegate:Ne}},4433:(Wt,rt,F)=>{"use strict";F.d(rt,{w:()=>An,dr:()=>cn,yp:()=>br,YG:()=>kr,PM:()=>Ue,FN:()=>ke,Zi:()=>At,Dq:()=>ot,nz:()=>Et,wI:()=>tn,W2:()=>yn,IJ:()=>qt,W4:()=>Pn,zq:()=>Er,jY:()=>Hr,Gu:()=>Gr,gu:()=>Vr,pK:()=>zr,Ie:()=>wr,u8:()=>Mr,IK:()=>tt,td:()=>Me,Q$:()=>me,q_:()=>ft,yh:()=>bt,B7:()=>tr,se:()=>ir,jP:()=>Hi,Nd:()=>Sn,t9:()=>Le,n0:()=>Qe,yW:()=>gn,g2:()=>kn,wd:()=>Cr,sr:()=>ze,Pc:()=>yo,r4:()=>xn,SH:()=>_i,U5:()=>or,YI:()=>gs,QI:()=>On,j9:()=>Kn});var a=F(6435),se=F(4182),G=F(655),Fe=F(2916),Ae=F(6688),ue=F(7043),De=F(4850);function de(v,L,y,g){return(0,ue.m)(y)&&(g=y,y=void 0),g?de(v,L,y).pipe((0,De.U)(m=>(0,Ae.k)(m)?g(...m):g(m))):new Fe.y(m=>{ee(v,L,function V(ie){m.next(arguments.length>1?Array.prototype.slice.call(arguments):ie)},m,y)})}function ee(v,L,y,g,m){let V;if(function Q(v){return v&&"function"==typeof v.addEventListener&&"function"==typeof v.removeEventListener}(v)){const ie=v;v.addEventListener(L,y,m),V=()=>ie.removeEventListener(L,y,m)}else if(function ge(v){return v&&"function"==typeof v.on&&"function"==typeof v.off}(v)){const ie=v;v.on(L,y),V=()=>ie.off(L,y)}else if(function ne(v){return v&&"function"==typeof v.addListener&&"function"==typeof v.removeListener}(v)){const ie=v;v.addListener(L,y),V=()=>ie.removeListener(L,y)}else{if(!v||!v.length)throw new TypeError("Invalid event target");for(let ie=0,Ie=v.length;ie<Ie;ie++)ee(v[ie],L,y,g,m)}g.add(V)}var fe=F(8929),Be=F(591),oe=F(3151),_e=(F(1815),F(6447),F(3139),F(6254)),mt=F(3756),Dt=F(4318),Pe=(F(7726),F(599)),he=(F(3509),F(2361)),$e=F(2198),pt=F(7545),kt=F(5778),it=F(9808);const qe=_e.i,Ee=["*"],Tn=v=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(v):"function"==typeof requestAnimationFrame?requestAnimationFrame(v):setTimeout(v);let en=(()=>{class v{constructor(y,g){this.injector=y,this.el=g,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(y){this.el.nativeElement.value=this.lastValue=null==y?"":y,on(this.el)}handleChangeEvent(y,g){y===this.el.nativeElement&&(g!==this.lastValue&&(this.lastValue=g,this.onChange(g)),on(this.el))}_handleBlurEvent(y){y===this.el.nativeElement&&(this.onTouched(),on(this.el))}registerOnChange(y){this.onChange=y}registerOnTouched(y){this.onTouched=y}setDisabledState(y){this.el.nativeElement.disabled=y}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let y;try{y=this.injector.get(se.a5)}catch(m){}if(!y)return;y.statusChanges&&(this.statusChanges=y.statusChanges.subscribe(()=>on(this.el)));const g=y.control;g&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(V=>{if(void 0!==g[V]){const ie=g[V].bind(g);g[V]=(...Ie)=>{ie(...Ie),on(this.el)}}})}}return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.zs3),a.Y36(a.SBq))},v.\u0275dir=a.lG2({type:v,hostBindings:function(y,g){1&y&&a.NdJ("ionBlur",function(V){return g._handleBlurEvent(V.target)})}}),v})();const on=v=>{Tn(()=>{const L=v.nativeElement,y=null!=L.value&&L.value.toString().length>0,g=bn(L);Dr(L,g);const m=L.closest("ion-item");m&&Dr(m,y?[...g,"item-has-value"]:g)})},bn=v=>{const L=v.classList,y=[];for(let g=0;g<L.length;g++){const m=L.item(g);null!==m&&Gn(m,"ng-")&&y.push(`ion-${m.substring(3)}`)}return y},Dr=(v,L)=>{const y=v.classList;y.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),y.add(...L)},Gn=(v,L)=>v.substring(0,L.length)===L;let An=(()=>{class v extends en{constructor(y,g){super(y,g)}writeValue(y){this.el.nativeElement.checked=this.lastValue=null!=y&&y,on(this.el)}_handleIonChange(y){this.handleChangeEvent(y,y.checked)}}return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.zs3),a.Y36(a.SBq))},v.\u0275dir=a.lG2({type:v,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(y,g){1&y&&a.NdJ("ionChange",function(V){return g._handleIonChange(V.target)})},features:[a._Bn([{provide:se.JU,useExisting:v,multi:!0}]),a.qOj]}),v})(),or=(()=>{class v extends en{constructor(y,g){super(y,g)}_handleIonSelect(y){this.handleChangeEvent(y,y.checked)}}return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.zs3),a.Y36(a.SBq))},v.\u0275dir=a.lG2({type:v,selectors:[["ion-radio"]],hostBindings:function(y,g){1&y&&a.NdJ("ionSelect",function(V){return g._handleIonSelect(V.target)})},features:[a._Bn([{provide:se.JU,useExisting:v,multi:!0}]),a.qOj]}),v})(),On=(()=>{class v extends en{constructor(y,g){super(y,g)}_handleChangeEvent(y){this.handleChangeEvent(y,y.value)}}return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.zs3),a.Y36(a.SBq))},v.\u0275dir=a.lG2({type:v,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(y,g){1&y&&a.NdJ("ionChange",function(V){return g._handleChangeEvent(V.target)})},features:[a._Bn([{provide:se.JU,useExisting:v,multi:!0}]),a.qOj]}),v})(),Kn=(()=>{class v extends en{constructor(y,g){super(y,g)}_handleInputEvent(y){this.handleChangeEvent(y,y.value)}}return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.zs3),a.Y36(a.SBq))},v.\u0275dir=a.lG2({type:v,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(y,g){1&y&&a.NdJ("ionChange",function(V){return g._handleInputEvent(V.target)})},features:[a._Bn([{provide:se.JU,useExisting:v,multi:!0}]),a.qOj]}),v})();const Bn=(v,L)=>{const y=v.prototype;L.forEach(g=>{Object.defineProperty(y,g,{get(){return this.el[g]},set(m){this.z.runOutsideAngular(()=>this.el[g]=m)}})})},Wn=(v,L)=>{const y=v.prototype;L.forEach(g=>{y[g]=function(){const m=arguments;return this.z.runOutsideAngular(()=>this.el[g].apply(this.el,m))}})},Lt=(v,L,y)=>{y.forEach(g=>v[g]=de(L,g))};function Bt(v){return function(y){const{defineCustomElementFn:g,inputs:m,methods:V}=v;return void 0!==g&&g(),m&&Bn(y,m),V&&Wn(y,V),y}}let cn=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-app"]],ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0})],v),v})(),br=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["color","mode"]})],v),v})(),kr=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement,Lt(this,this.el,["ionFocus","ionBlur"])}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],v),v})(),Ue=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],v),v})(),ke=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["mode"]})],v),v})(),At=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["color","mode","translucent"]})],v),v})(),ot=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["color","mode"]})],v),v})(),Et=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement,Lt(this,this.el,["ionChange","ionFocus","ionBlur"])}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",mode:"mode",name:"name",value:"value"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],v),v})(),tn=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],v),v})(),yn=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement,Lt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],v),v})(),qt=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],v),v})(),Pn=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement,Lt(this,this.el,["ionFocus","ionBlur"])}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],v),v})(),Er=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-fab-list"]],inputs:{activated:"activated",side:"side"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["activated","side"]})],v),v})(),Hr=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["fixed"]})],v),v})(),Gr=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],v),v})(),Vr=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],v),v})(),zr=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement,Lt(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],v),v})(),wr=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],v),v})(),Mr=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],v),v})(),tt=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement,Lt(this,this.el,["ionSwipe"])}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["side"]})],v),v})(),Me=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement,Lt(this,this.el,["ionDrag"])}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],v),v})(),me=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],v),v})(),ft=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],v),v})(),bt=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["color","lines","mode"]})],v),v})(),tr=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement,Lt(this,this.el,["ionFocus","ionBlur"])}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-radio"]],inputs:{color:"color",disabled:"disabled",mode:"mode",name:"name",value:"value"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["color","disabled","mode","name","value"]})],v),v})(),ir=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement,Lt(this,this.el,["ionChange"])}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-radio-group"]],inputs:{allowEmptySelection:"allowEmptySelection",name:"name",value:"value"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["allowEmptySelection","name","value"]})],v),v})(),Sn=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-row"]],ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0})],v),v})(),Le=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement,Lt(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],v),v})(),Qe=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["disabled","value"]})],v),v})(),gn=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["color","mode"]})],v),v})(),kn=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement,Lt(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","debounce","disabled","enterkeyhint","inputmode","maxlength","minlength","mode","name","placeholder","readonly","required","rows","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],v),v})(),Cr=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["color","size"]})],v),v})(),ze=(()=>{let v=class{constructor(y,g,m){this.z=m,y.detach(),this.el=g.nativeElement}};return v.\u0275fac=function(y){return new(y||v)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},v.\u0275cmp=a.Xpm({type:v,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ee,decls:1,vars:0,template:function(y,g){1&y&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),v=(0,G.gn)([Bt({defineCustomElementFn:void 0,inputs:["color","mode"]})],v),v})();class je{constructor(L={}){this.data=L}get(L){return this.data[L]}}let at=(()=>{class v{constructor(y,g){this.zone=y,this.appRef=g}create(y,g,m){return new Pt(y,g,m,this.appRef,this.zone)}}return v.\u0275fac=function(y){return new(y||v)(a.LFG(a.R0b),a.LFG(a.z2F))},v.\u0275prov=a.Yz7({token:v,factory:v.\u0275fac}),v})();class Pt{constructor(L,y,g,m,V){this.resolver=L,this.injector=y,this.location=g,this.appRef=m,this.zone=V,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(L,y,g,m){return this.zone.run(()=>new Promise(V=>{V(Ht(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,L,y,g,m))}))}removeViewFromDom(L,y){return this.zone.run(()=>new Promise(g=>{const m=this.elRefMap.get(y);if(m){m.destroy(),this.elRefMap.delete(y);const V=this.elEventsMap.get(y);V&&(V(),this.elEventsMap.delete(y))}g()}))}}const Ht=(v,L,y,g,m,V,ie,Ie,nt,xt,Jt)=>{const Kt=L.resolveComponentFactory(nt),Un=a.zs3.create({providers:ur(xt),parent:y}),Yn=g?g.createComponent(Kt,g.length,Un):Kt.create(Un),Sr=Yn.instance,fr=Yn.location.nativeElement;if(xt&&Object.assign(Sr,xt),Jt)for(const yr of Jt)fr.classList.add(yr);const Or=Tr(v,Sr,fr);return Ie.appendChild(fr),g||m.attachView(Yn.hostView),Yn.changeDetectorRef.reattach(),V.set(fr,Yn),ie.set(fr,Or),fr},pn=[Dt.L,Dt.a,Dt.b,Dt.c,Dt.d],Tr=(v,L,y)=>v.run(()=>{const g=pn.filter(m=>"function"==typeof L[m]).map(m=>{const V=ie=>L[m](ie.detail);return y.addEventListener(m,V),()=>y.removeEventListener(m,V)});return()=>g.forEach(m=>m())}),Fr=new a.OlP("NavParamsToken"),ur=v=>[{provide:Fr,useValue:v},{provide:je,useFactory:Pi,deps:[Fr]}],Pi=v=>new je(v),ci=(v,L)=>((v=v.filter(y=>y.stackId!==L.stackId)).push(L),v),ki=(v,L)=>{const y=v.createUrlTree(["."],{relativeTo:L});return v.serializeUrl(y)},Os=(v,L)=>{if(!v)return;const y=Zi(L);for(let g=0;g<y.length;g++){if(g>=v.length)return y[g];if(y[g]!==v[g])return}},Zi=v=>v.split("/").map(L=>L.trim()).filter(L=>""!==L),yi=v=>{v&&(v.ref.destroy(),v.unlistenEvents())};class vi{constructor(L,y,g,m,V,ie){this.containerEl=y,this.router=g,this.navCtrl=m,this.zone=V,this.location=ie,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==L?Zi(L):void 0}createView(L,y){var g;const m=ki(this.router,y),V=null===(g=null==L?void 0:L.location)||void 0===g?void 0:g.nativeElement,ie=Tr(this.zone,L.instance,V);return{id:this.nextId++,stackId:Os(this.tabsPrefix,m),unlistenEvents:ie,element:V,ref:L,url:m}}getExistingView(L){const y=ki(this.router,L),g=this.views.find(m=>m.url===y);return g&&g.ref.changeDetectorRef.reattach(),g}setActive(L){var y,g;const m=this.navCtrl.consumeTransition();let{direction:V,animation:ie,animationBuilder:Ie}=m;const nt=this.activeView,xt=((v,L)=>!L||v.stackId!==L.stackId)(L,nt);xt&&(V="back",ie=void 0);const Jt=this.views.slice();let Kt;const Un=this.router;Un.getCurrentNavigation?Kt=Un.getCurrentNavigation():(null===(y=Un.navigations)||void 0===y?void 0:y.value)&&(Kt=Un.navigations.value),(null===(g=null==Kt?void 0:Kt.extras)||void 0===g?void 0:g.replaceUrl)&&this.views.length>0&&this.views.splice(-1,1);const Yn=this.views.includes(L),Sr=this.insertView(L,V);Yn||L.ref.changeDetectorRef.detectChanges();const fr=L.animationBuilder;return void 0===Ie&&"back"===V&&!xt&&void 0!==fr&&(Ie=fr),nt&&(nt.animationBuilder=Ie),this.zone.runOutsideAngular(()=>this.wait(()=>(nt&&nt.ref.changeDetectorRef.detach(),L.ref.changeDetectorRef.reattach(),this.transition(L,nt,ie,this.canGoBack(1),!1,Ie).then(()=>ss(L,Sr,Jt,this.location,this.zone)).then(()=>({enteringView:L,direction:V,animation:ie,tabSwitch:xt})))))}canGoBack(L,y=this.getActiveStackId()){return this.getStack(y).length>L}pop(L,y=this.getActiveStackId()){return this.zone.run(()=>{var g,m;const V=this.getStack(y);if(V.length<=L)return Promise.resolve(!1);const ie=V[V.length-L-1];let Ie=ie.url;const nt=ie.savedData;if(nt){const Jt=nt.get("primary");(null===(m=null===(g=null==Jt?void 0:Jt.route)||void 0===g?void 0:g._routerState)||void 0===m?void 0:m.snapshot.url)&&(Ie=Jt.route._routerState.snapshot.url)}const{animationBuilder:xt}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Ie,Object.assign(Object.assign({},ie.savedExtras),{animation:xt})).then(()=>!0)})}startBackTransition(){const L=this.activeView;if(L){const y=this.getStack(L.stackId),g=y[y.length-2],m=g.animationBuilder;return this.wait(()=>this.transition(g,L,"back",this.canGoBack(2),!0,m))}return Promise.resolve()}endBackTransition(L){L?(this.skipTransition=!0,this.pop(1)):this.activeView&&Ts(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(L){const y=this.getStack(L);return y.length>0?y[y.length-1]:void 0}getRootUrl(L){const y=this.getStack(L);return y.length>0?y[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(yi),this.activeView=void 0,this.views=[]}getStack(L){return this.views.filter(y=>y.stackId===L)}insertView(L,y){return this.activeView=L,this.views=((v,L,y)=>"root"===y?ci(v,L):"forward"===y?((v,L)=>(v.indexOf(L)>=0?v=v.filter(g=>g.stackId!==L.stackId||g.id<=L.id):v.push(L),v))(v,L):((v,L)=>v.indexOf(L)>=0?v.filter(g=>g.stackId!==L.stackId||g.id<=L.id):ci(v,L))(v,L))(this.views,L,y),this.views.slice()}transition(L,y,g,m,V,ie){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(y===L)return Promise.resolve(!1);const Ie=L?L.element:void 0,nt=y?y.element:void 0,xt=this.containerEl;return Ie&&Ie!==nt&&(Ie.classList.add("ion-page"),Ie.classList.add("ion-page-invisible"),Ie.parentElement!==xt&&xt.appendChild(Ie),xt.commit)?xt.commit(Ie,nt,{deepWait:!0,duration:void 0===g?0:void 0,direction:g,showGoBack:m,progressAnimation:V,animationBuilder:ie}):Promise.resolve(!1)}wait(L){return(0,G.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const y=this.runningTask=L();return y.finally(()=>this.runningTask=void 0),y})}}const ss=(v,L,y,g,m)=>"function"==typeof requestAnimationFrame?new Promise(V=>{requestAnimationFrame(()=>{Ts(v,L,y,g,m),V()})}):Promise.resolve(),Ts=(v,L,y,g,m)=>{m.run(()=>y.filter(V=>!L.includes(V)).forEach(yi)),L.forEach(V=>{const Ie=g.path().split("?")[0].split("#")[0];if(V!==v&&V.url!==Ie){const nt=V.element;nt.setAttribute("aria-hidden","true"),nt.classList.add("ion-page-hidden"),V.ref.changeDetectorRef.detach()}})};let Us=(()=>{class v{get(y,g){const m=hs();return m?m.get(y,g):null}getBoolean(y,g){const m=hs();return!!m&&m.getBoolean(y,g)}getNumber(y,g){const m=hs();return m?m.getNumber(y,g):0}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=a.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const ji=new a.OlP("USERCONFIG"),hs=()=>{if("undefined"!=typeof window){const v=window.Ionic;if(null==v?void 0:v.config)return v.config}return null};let Ni=(()=>{class v{constructor(y,g){this.doc=y,this.backButton=new fe.xQ,this.keyboardDidShow=new fe.xQ,this.keyboardDidHide=new fe.xQ,this.pause=new fe.xQ,this.resume=new fe.xQ,this.resize=new fe.xQ,g.run(()=>{var m;let V;this.win=y.defaultView,this.backButton.subscribeWithPriority=function(ie,Ie){return this.subscribe(nt=>nt.register(ie,xt=>g.run(()=>Ie(xt))))},Xi(this.pause,y,"pause"),Xi(this.resume,y,"resume"),Xi(this.backButton,y,"ionBackButton"),Xi(this.resize,this.win,"resize"),Xi(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Xi(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(ie=>{V=ie}),(null===(m=this.win)||void 0===m?void 0:m.cordova)?y.addEventListener("deviceready",()=>{V("cordova")},{once:!0}):V("dom")})}is(y){return(0,_e.a)(this.win,y)}platforms(){return(0,_e.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(y){return Si(this.win.location.href,y)}isLandscape(){return!this.isPortrait()}isPortrait(){var y,g;return null===(g=(y=this.win).matchMedia)||void 0===g?void 0:g.call(y,"(orientation: portrait)").matches}testUserAgent(y){const g=this.win.navigator;return!!((null==g?void 0:g.userAgent)&&g.userAgent.indexOf(y)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return v.\u0275fac=function(y){return new(y||v)(a.LFG(it.K0),a.LFG(a.R0b))},v.\u0275prov=a.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const Si=(v,L)=>{L=L.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const g=new RegExp("[\\?&]"+L+"=([^&#]*)").exec(v);return g?decodeURIComponent(g[1].replace(/\+/g," ")):null},Xi=(v,L,y)=>{L&&L.addEventListener(y,g=>{v.next(null!=g?g.detail:void 0)})};let _i=(()=>{class v{constructor(y,g,m,V){this.location=g,this.serializer=m,this.router=V,this.direction=pi,this.animated=fs,this.guessDirection="forward",this.lastNavId=-1,V&&V.events.subscribe(ie=>{if(ie instanceof oe.OD){const Ie=ie.restoredState?ie.restoredState.navigationId:ie.id;this.guessDirection=Ie<this.lastNavId?"back":"forward",this.guessAnimation=ie.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?ie.id:Ie}}),y.backButton.subscribeWithPriority(0,ie=>{this.pop(),ie()})}navigateForward(y,g={}){return this.setDirection("forward",g.animated,g.animationDirection,g.animation),this.navigate(y,g)}navigateBack(y,g={}){return this.setDirection("back",g.animated,g.animationDirection,g.animation),this.navigate(y,g)}navigateRoot(y,g={}){return this.setDirection("root",g.animated,g.animationDirection,g.animation),this.navigate(y,g)}back(y={animated:!0,animationDirection:"back"}){return this.setDirection("back",y.animated,y.animationDirection,y.animation),this.location.back()}pop(){return(0,G.mG)(this,void 0,void 0,function*(){let y=this.topOutlet;for(;y&&!(yield y.pop());)y=y.parentOutlet})}setDirection(y,g,m,V){this.direction=y,this.animated=fi(y,g,m),this.animationBuilder=V}setTopOutlet(y){this.topOutlet=y}consumeTransition(){let g,y="root";const m=this.animationBuilder;return"auto"===this.direction?(y=this.guessDirection,g=this.guessAnimation):(g=this.animated,y=this.direction),this.direction=pi,this.animated=fs,this.animationBuilder=void 0,{direction:y,animation:g,animationBuilder:m}}navigate(y,g){if(Array.isArray(y))return this.router.navigate(y,g);{const m=this.serializer.parse(y.toString());return void 0!==g.queryParams&&(m.queryParams=Object.assign({},g.queryParams)),void 0!==g.fragment&&(m.fragment=g.fragment),this.router.navigateByUrl(m,g)}}}return v.\u0275fac=function(y){return new(y||v)(a.LFG(Ni),a.LFG(it.Ye),a.LFG(oe.Hx),a.LFG(oe.F0,8))},v.\u0275prov=a.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const fi=(v,L,y)=>{if(!1!==L){if(void 0!==y)return y;if("forward"===v||"back"===v)return v;if("root"===v&&!0===L)return"forward"}},pi="auto",fs=void 0;let Hi=(()=>{class v{constructor(y,g,m,V,ie,Ie,nt,xt,Jt,Kt,Un,Yn,Sr){this.parentContexts=y,this.location=g,this.resolver=m,this.config=Ie,this.navCtrl=nt,this.parentOutlet=Sr,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Be.X(null),this.stackEvents=new a.vpe,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.nativeEl=Jt.nativeElement,this.name=V||oe.eC,this.tabsPrefix="true"===ie?ki(Kt,Yn):void 0,this.stackCtrl=new vi(this.tabsPrefix,this.nativeEl,Kt,nt,Un,xt),y.onChildOutletCreated(this.name,this)}set animation(y){this.nativeEl.animation=y}set animated(y){this.nativeEl.animated=y}set swipeGesture(y){this._swipeGesture=y,this.nativeEl.swipeHandler=y?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:g=>this.stackCtrl.endBackTransition(g)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const y=this.getContext();(null==y?void 0:y.route)&&this.activateWith(y.route,y.resolver||null)}new Promise(y=>(0,mt.c)(this.nativeEl,y)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(y,g){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const g=this.getContext();this.activatedView.savedData=new Map(g.children.contexts);const m=this.activatedView.savedData.get("primary");if(m&&g.route&&(m.route=Object.assign({},g.route)),this.activatedView.savedExtras={},g.route){const V=g.route.snapshot;this.activatedView.savedExtras.queryParams=V.queryParams,this.activatedView.savedExtras.fragment=V.fragment}}const y=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,g){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=y;let m,V=this.stackCtrl.getExistingView(y);if(V){m=this.activated=V.ref;const ie=V.savedData;ie&&(this.getContext().children.contexts=ie),this.updateActivatedRouteProxy(m.instance,y)}else{const nt=(g=g||this.resolver).resolveComponentFactory(y._futureSnapshot.routeConfig.component),xt=this.parentContexts.getOrCreateContext(this.name).children,Jt=new Be.X(null),Kt=this.createActivatedRouteProxy(Jt,y),Un=new ps(Kt,xt,this.location.injector);m=this.activated=this.location.createComponent(nt,this.location.length,Un),Jt.next(m.instance),V=this.stackCtrl.createView(this.activated,y),this.proxyMap.set(m.instance,Kt),this.currentActivatedRoute$.next({component:m.instance,activatedRoute:y})}this.activatedView=V,this.stackCtrl.setActive(V).then(ie=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(m.instance),this.stackEvents.emit(ie)})}canGoBack(y=1,g){return this.stackCtrl.canGoBack(y,g)}pop(y=1,g){return this.stackCtrl.pop(y,g)}getLastUrl(y){const g=this.stackCtrl.getLastUrl(y);return g?g.url:void 0}getLastRouteView(y){return this.stackCtrl.getLastUrl(y)}getRootView(y){return this.stackCtrl.getRootUrl(y)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(y,g){const m=new oe.gz;return m._futureSnapshot=g._futureSnapshot,m._routerState=g._routerState,m.snapshot=g.snapshot,m.outlet=g.outlet,m.component=g.component,m._paramMap=this.proxyObservable(y,"paramMap"),m._queryParamMap=this.proxyObservable(y,"queryParamMap"),m.url=this.proxyObservable(y,"url"),m.params=this.proxyObservable(y,"params"),m.queryParams=this.proxyObservable(y,"queryParams"),m.fragment=this.proxyObservable(y,"fragment"),m.data=this.proxyObservable(y,"data"),m}proxyObservable(y,g){return y.pipe((0,$e.h)(m=>!!m),(0,pt.w)(m=>this.currentActivatedRoute$.pipe((0,$e.h)(V=>null!==V&&V.component===m),(0,pt.w)(V=>V&&V.activatedRoute[g]),(0,kt.x)())))}updateActivatedRouteProxy(y,g){const m=this.proxyMap.get(y);if(!m)throw new Error("Could not find activated route proxy for view");m._futureSnapshot=g._futureSnapshot,m._routerState=g._routerState,m.snapshot=g.snapshot,m.outlet=g.outlet,m.component=g.component,this.currentActivatedRoute$.next({component:y,activatedRoute:g})}}return v.\u0275fac=function(y){return new(y||v)(a.Y36(oe.y6),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.$8M("tabs"),a.Y36(Us),a.Y36(_i),a.Y36(it.Ye),a.Y36(a.SBq),a.Y36(oe.F0),a.Y36(a.R0b),a.Y36(oe.gz),a.Y36(v,12))},v.\u0275dir=a.lG2({type:v,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),v})();class ps{constructor(L,y,g){this.route=L,this.childContexts=y,this.parent=g}get(L,y){return L===oe.gz?this.route:L===oe.y6?this.childContexts:this.parent.get(L,y)}}let gs=(()=>{class v{constructor(y,g,m,V,ie){this.locationStrategy=y,this.navCtrl=g,this.elementRef=m,this.router=V,this.routerLink=ie,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var y;if(null===(y=this.routerLink)||void 0===y?void 0:y.urlTree){const g=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=g}}onClick(y){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),y.preventDefault()}}return v.\u0275fac=function(y){return new(y||v)(a.Y36(it.S$),a.Y36(_i),a.Y36(a.SBq),a.Y36(oe.F0),a.Y36(oe.rH,8))},v.\u0275dir=a.lG2({type:v,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(y,g){1&y&&a.NdJ("click",function(V){return g.onClick(V)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[a.TTD]}),v})();class S{constructor(L){this.ctrl=L}create(L){return this.ctrl.create(L||{})}dismiss(L,y,g){return this.ctrl.dismiss(L,y,g)}getTop(){return this.ctrl.getTop()}}let qn=(()=>{class v extends S{constructor(y,g,m){super(Pe.m),this.angularDelegate=y,this.resolver=g,this.injector=m}create(y){return super.create(Object.assign(Object.assign({},y),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return v.\u0275fac=function(y){return new(y||v)(a.LFG(at),a.LFG(a._Vd),a.LFG(a.zs3))},v.\u0275prov=a.Yz7({token:v,factory:v.\u0275fac}),v})(),$r=(()=>{class v extends S{constructor(y,g,m){super(Pe.c),this.angularDelegate=y,this.resolver=g,this.injector=m}create(y){return super.create(Object.assign(Object.assign({},y),{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}}return v.\u0275fac=function(y){return new(y||v)(a.LFG(at),a.LFG(a._Vd),a.LFG(a.zs3))},v.\u0275prov=a.Yz7({token:v,factory:v.\u0275fac}),v})();class xn{shouldDetach(L){return!1}shouldAttach(L){return!1}store(L,y){}retrieve(L){return null}shouldReuseRoute(L,y){if(L.routeConfig!==y.routeConfig)return!1;const g=L.params,m=y.params,V=Object.keys(g),ie=Object.keys(m);if(V.length!==ie.length)return!1;for(const Ie of V)if(m[Ie]!==g[Ie])return!1;return!0}}const Zs=(v,L,y)=>()=>{if(L.defaultView&&"undefined"!=typeof window){(v=>{const L=window,y=L.Ionic;y&&y.config&&"Object"!==y.config.constructor.name||(L.Ionic=L.Ionic||{},L.Ionic.config=Object.assign(Object.assign({},L.Ionic.config),v))})(Object.assign(Object.assign({},v),{_zoneGate:V=>y.run(V)}));const m="__zone_symbol__addEventListener"in L.body?"__zone_symbol__addEventListener":"addEventListener";return function gt(){var v=[];if("undefined"!=typeof window){var L=window;(!L.customElements||L.Element&&(!L.Element.prototype.closest||!L.Element.prototype.matches||!L.Element.prototype.remove||!L.Element.prototype.getRootNode))&&v.push(F.e(6748).then(F.t.bind(F,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||L.NodeList&&!L.NodeList.prototype.forEach||!L.fetch||!function(){try{var g=new URL("b","http://a");return g.pathname="c%20d","http://a/c%20d"===g.href&&g.searchParams}catch(m){return!1}}()||"undefined"==typeof WeakMap)&&v.push(F.e(2214).then(F.t.bind(F,4144,23)))}return Promise.all(v)}().then(()=>((v,L)=>"undefined"==typeof window?Promise.resolve():(0,he.p)().then(()=>(qe(),(0,he.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),L))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Tn,jmp:V=>y.runOutsideAngular(V),ael(V,ie,Ie,nt){V[m](ie,Ie,nt)},rel(V,ie,Ie,nt){V.removeEventListener(ie,Ie,nt)}}))}};let yo=(()=>{class v{static forRoot(y){return{ngModule:v,providers:[{provide:ji,useValue:y},{provide:a.ip1,useFactory:Zs,multi:!0,deps:[ji,it.K0,a.R0b]}]}}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275mod=a.oAB({type:v}),v.\u0275inj=a.cJS({providers:[at,qn,$r],imports:[[it.ez]]}),v})()},9442:(Wt,rt,F)=>{"use strict";F.d(rt,{c:()=>Be});var a=F(3756);let se;const Fe=oe=>oe.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ae=oe=>{if(void 0===se){const ye=void 0!==oe.style.webkitAnimationName;se=void 0===oe.style.animationName&&ye?"-webkit-":""}return se},ue=(oe,xe,ye)=>{const ut=xe.startsWith("animation")?Ae(oe):"";oe.style.setProperty(ut+xe,ye)},De=(oe,xe)=>{const ye=xe.startsWith("animation")?Ae(oe):"";oe.style.removeProperty(ye+xe)},ee=[],fe=(oe=[],xe)=>{if(void 0!==xe){const ye=Array.isArray(xe)?xe:[xe];return[...oe,...ye]}return oe},Be=oe=>{let xe,ye,ut,_e,mt,Dt,Se,it,gt,qe,Xe,It,Ge,dt=[],Pe=[],lt=[],he=!1,le={},X=[],ae=[],Re={},$e=0,pt=!1,kt=!1,st=!0,Ee=!1,et=!0,Ft=!1;const an=oe,Tn=[],en=[],on=[],bn=[],Dr=[],Gn=[],An=[],wn=[],or=[],On=[],Kn="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,Bn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Kn,Lt=()=>On,cn=(ce,we)=>(((null==we?void 0:we.oneTimeCallback)?en:Tn).push({c:ce,o:we}),Ge),Qn=()=>{if(Bn)On.forEach(ce=>{ce.cancel()}),On.length=0;else{const ce=on.slice();(0,a.r)(()=>{ce.forEach(we=>{De(we,"animation-name"),De(we,"animation-duration"),De(we,"animation-timing-function"),De(we,"animation-iteration-count"),De(we,"animation-delay"),De(we,"animation-play-state"),De(we,"animation-fill-mode"),De(we,"animation-direction")})})}},Br=()=>{Dr.forEach(ce=>{(null==ce?void 0:ce.parentNode)&&ce.parentNode.removeChild(ce)}),Dr.length=0},tn=()=>void 0!==mt?mt:Se?Se.getFill():"both",yn=()=>void 0!==gt?gt:void 0!==Dt?Dt:Se?Se.getDirection():"normal",Jn=()=>pt?"linear":void 0!==ut?ut:Se?Se.getEasing():"linear",qt=()=>kt?0:void 0!==qe?qe:void 0!==ye?ye:Se?Se.getDuration():0,Pn=()=>void 0!==_e?_e:Se?Se.getIterations():1,Er=()=>void 0!==Xe?Xe:void 0!==xe?xe:Se?Se.getDelay():0,me=()=>{0!==$e&&($e--,0===$e&&((()=>{Jr(),wn.forEach(Ct=>Ct()),or.forEach(Ct=>Ct());const ce=st?1:0,we=X,Ze=ae,_t=Re;on.forEach(Ct=>{const St=Ct.classList;we.forEach(zt=>St.add(zt)),Ze.forEach(zt=>St.remove(zt));for(const zt in _t)_t.hasOwnProperty(zt)&&ue(Ct,zt,_t[zt])}),Tn.forEach(Ct=>Ct.c(ce,Ge)),en.forEach(Ct=>Ct.c(ce,Ge)),en.length=0,et=!0,st&&(Ee=!0),st=!0})(),Se&&Se.animationFinish()))},ft=(ce=!0)=>{Br();const we=(oe=>(oe.forEach(xe=>{for(const ye in xe)if(xe.hasOwnProperty(ye)){const ut=xe[ye];if("easing"===ye)xe["animation-timing-function"]=ut,delete xe[ye];else{const _e=Fe(ye);_e!==ye&&(xe[_e]=ut,delete xe[ye])}}}),oe))(dt);on.forEach(Ze=>{if(we.length>0){const _t=((oe=[])=>oe.map(xe=>{const ye=xe.offset,ut=[];for(const _e in xe)xe.hasOwnProperty(_e)&&"offset"!==_e&&ut.push(`${_e}: ${xe[_e]};`);return`${100*ye}% { ${ut.join(" ")} }`}).join(" "))(we);It=void 0!==oe?oe:(oe=>{let xe=ee.indexOf(oe);return xe<0&&(xe=ee.push(oe)-1),`ion-animation-${xe}`})(_t);const Ct=((oe,xe,ye)=>{const ut=(oe=>{const xe=oe.getRootNode();return xe.head||xe})(ye),_e=Ae(ye),mt=ut.querySelector("#"+oe);if(mt)return mt;const Dt=(ye.ownerDocument||document).createElement("style");return Dt.id=oe,Dt.textContent=`@${_e}keyframes ${oe} { ${xe} } @${_e}keyframes ${oe}-alt { ${xe} }`,ut.appendChild(Dt),Dt})(It,_t,Ze);Dr.push(Ct),ue(Ze,"animation-duration",`${qt()}ms`),ue(Ze,"animation-timing-function",Jn()),ue(Ze,"animation-delay",`${Er()}ms`),ue(Ze,"animation-fill-mode",tn()),ue(Ze,"animation-direction",yn());const St=Pn()===1/0?"infinite":Pn().toString();ue(Ze,"animation-iteration-count",St),ue(Ze,"animation-play-state","paused"),ce&&ue(Ze,"animation-name",`${Ct.id}-alt`),(0,a.r)(()=>{ue(Ze,"animation-name",Ct.id||null)})}})},jt=(ce=!0)=>{(()=>{Gn.forEach(_t=>_t()),An.forEach(_t=>_t());const ce=Pe,we=lt,Ze=le;on.forEach(_t=>{const Ct=_t.classList;ce.forEach(St=>Ct.add(St)),we.forEach(St=>Ct.remove(St));for(const St in Ze)Ze.hasOwnProperty(St)&&ue(_t,St,Ze[St])})})(),dt.length>0&&(Bn?(on.forEach(ce=>{const we=ce.animate(dt,{id:an,delay:Er(),duration:qt(),easing:Jn(),iterations:Pn(),fill:tn(),direction:yn()});we.pause(),On.push(we)}),On.length>0&&(On[0].onfinish=()=>{me()})):ft(ce)),he=!0},mn=ce=>{if(ce=Math.min(Math.max(ce,0),.9999),Bn)On.forEach(we=>{we.currentTime=we.effect.getComputedTiming().delay+qt()*ce,we.pause()});else{const we=`-${qt()*ce}ms`;on.forEach(Ze=>{dt.length>0&&(ue(Ze,"animation-delay",we),ue(Ze,"animation-play-state","paused"))})}},Nn=ce=>{On.forEach(we=>{we.effect.updateTiming({delay:Er(),duration:qt(),easing:Jn(),iterations:Pn(),fill:tn(),direction:yn()})}),void 0!==ce&&mn(ce)},mr=(ce=!0,we)=>{(0,a.r)(()=>{on.forEach(Ze=>{ue(Ze,"animation-name",It||null),ue(Ze,"animation-duration",`${qt()}ms`),ue(Ze,"animation-timing-function",Jn()),ue(Ze,"animation-delay",void 0!==we?`-${we*qt()}ms`:`${Er()}ms`),ue(Ze,"animation-fill-mode",tn()||null),ue(Ze,"animation-direction",yn()||null);const _t=Pn()===1/0?"infinite":Pn().toString();ue(Ze,"animation-iteration-count",_t),ce&&ue(Ze,"animation-name",`${It}-alt`),(0,a.r)(()=>{ue(Ze,"animation-name",It||null)})})})},Zn=(ce=!1,we=!0,Ze)=>(ce&&bn.forEach(_t=>{_t.update(ce,we,Ze)}),Bn?Nn(Ze):mr(we,Ze),Ge),ir=()=>{he&&(Bn?On.forEach(ce=>{ce.pause()}):on.forEach(ce=>{ue(ce,"animation-play-state","paused")}),Ft=!0)},Rr=()=>{it=void 0,me()},Jr=()=>{it&&clearTimeout(it)},ei=ce=>new Promise(we=>{(null==ce?void 0:ce.sync)&&(kt=!0,cn(()=>kt=!1,{oneTimeCallback:!0})),he||jt(),Ee&&(Bn?(mn(0),Nn()):mr(),Ee=!1),et&&($e=bn.length+1,et=!1),cn(()=>we(),{oneTimeCallback:!0}),bn.forEach(Ze=>{Ze.play()}),Bn?(On.forEach(ce=>{ce.play()}),(0===dt.length||0===on.length)&&me()):(()=>{if(Jr(),(0,a.r)(()=>{on.forEach(ce=>{dt.length>0&&ue(ce,"animation-play-state","running")})}),0===dt.length||0===on.length)me();else{const ce=Er()||0,we=qt()||0,Ze=Pn()||1;isFinite(Ze)&&(it=setTimeout(Rr,ce+we*Ze+100)),((oe,xe)=>{let ye;const ut={passive:!0},mt=Dt=>{oe===Dt.target&&(ye&&ye(),Jr(),(0,a.r)(()=>{on.forEach(ce=>{De(ce,"animation-duration"),De(ce,"animation-delay"),De(ce,"animation-play-state")}),(0,a.r)(me)}))};oe&&(oe.addEventListener("webkitAnimationEnd",mt,ut),oe.addEventListener("animationend",mt,ut),ye=()=>{oe.removeEventListener("webkitAnimationEnd",mt,ut),oe.removeEventListener("animationend",mt,ut)})})(on[0])}})(),Ft=!1}),pe=(ce,we)=>{const Ze=dt[0];return void 0===Ze||void 0!==Ze.offset&&0!==Ze.offset?dt=[{offset:0,[ce]:we},...dt]:Ze[ce]=we,Ge};return Ge={parentAnimation:Se,elements:on,childAnimations:bn,id:an,animationFinish:me,from:pe,to:(ce,we)=>{const Ze=dt[dt.length-1];return void 0===Ze||void 0!==Ze.offset&&1!==Ze.offset?dt=[...dt,{offset:1,[ce]:we}]:Ze[ce]=we,Ge},fromTo:(ce,we,Ze)=>pe(ce,we).to(ce,Ze),parent:ce=>(Se=ce,Ge),play:ei,pause:()=>(bn.forEach(ce=>{ce.pause()}),ir(),Ge),stop:()=>{bn.forEach(ce=>{ce.stop()}),he&&(Qn(),he=!1),pt=!1,kt=!1,et=!0,gt=void 0,qe=void 0,Xe=void 0,$e=0,Ee=!1,st=!0,Ft=!1},destroy:ce=>(bn.forEach(we=>{we.destroy(ce)}),(ce=>{Qn(),ce&&Br()})(ce),on.length=0,bn.length=0,dt.length=0,Tn.length=0,en.length=0,he=!1,et=!0,Ge),keyframes:ce=>{const we=dt!==ce;return dt=ce,we&&(ce=>{Bn?Lt().forEach(we=>{if(we.effect.setKeyframes)we.effect.setKeyframes(ce);else{const Ze=new KeyframeEffect(we.effect.target,ce,we.effect.getTiming());we.effect=Ze}}):ft()})(dt),Ge},addAnimation:ce=>{if(null!=ce)if(Array.isArray(ce))for(const we of ce)we.parent(Ge),bn.push(we);else ce.parent(Ge),bn.push(ce);return Ge},addElement:ce=>{if(null!=ce)if(1===ce.nodeType)on.push(ce);else if(ce.length>=0)for(let we=0;we<ce.length;we++)on.push(ce[we]);else console.error("Invalid addElement value");return Ge},update:Zn,fill:ce=>(mt=ce,Zn(!0),Ge),direction:ce=>(Dt=ce,Zn(!0),Ge),iterations:ce=>(_e=ce,Zn(!0),Ge),duration:ce=>(!Bn&&0===ce&&(ce=1),ye=ce,Zn(!0),Ge),easing:ce=>(ut=ce,Zn(!0),Ge),delay:ce=>(xe=ce,Zn(!0),Ge),getWebAnimations:Lt,getKeyframes:()=>dt,getFill:tn,getDirection:yn,getDelay:Er,getIterations:Pn,getEasing:Jn,getDuration:qt,afterAddRead:ce=>(wn.push(ce),Ge),afterAddWrite:ce=>(or.push(ce),Ge),afterClearStyles:(ce=[])=>{for(const we of ce)Re[we]="";return Ge},afterStyles:(ce={})=>(Re=ce,Ge),afterRemoveClass:ce=>(ae=fe(ae,ce),Ge),afterAddClass:ce=>(X=fe(X,ce),Ge),beforeAddRead:ce=>(Gn.push(ce),Ge),beforeAddWrite:ce=>(An.push(ce),Ge),beforeClearStyles:(ce=[])=>{for(const we of ce)le[we]="";return Ge},beforeStyles:(ce={})=>(le=ce,Ge),beforeRemoveClass:ce=>(lt=fe(lt,ce),Ge),beforeAddClass:ce=>(Pe=fe(Pe,ce),Ge),onFinish:cn,isRunning:()=>0!==$e&&!Ft,progressStart:(ce=!1,we)=>(bn.forEach(Ze=>{Ze.progressStart(ce,we)}),ir(),pt=ce,he||jt(),Zn(!1,!0,we),Ge),progressStep:ce=>(bn.forEach(we=>{we.progressStep(ce)}),mn(ce),Ge),progressEnd:(ce,we,Ze)=>(pt=!1,bn.forEach(_t=>{_t.progressEnd(ce,we,Ze)}),void 0!==Ze&&(qe=Ze),Ee=!1,st=!0,0===ce?(gt="reverse"===yn()?"normal":"reverse","reverse"===gt&&(st=!1),Bn?(Zn(),mn(1-we)):(Xe=(1-we)*qt()*-1,Zn(!1,!1))):1===ce&&(Bn?(Zn(),mn(we)):(Xe=we*qt()*-1,Zn(!1,!1))),void 0!==ce&&(cn(()=>{qe=void 0,gt=void 0,Xe=void 0},{oneTimeCallback:!0}),Se||ei()),Ge)}}},3509:(Wt,rt,F)=>{"use strict";F.d(rt,{G:()=>Ae});class se{constructor(De,ve,de,ee,ne){this.id=ve,this.name=de,this.disableScroll=ne,this.priority=1e6*ee+ve,this.ctrl=De}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const De=this.ctrl.capture(this.name,this.id,this.priority);return De&&this.disableScroll&&this.ctrl.disableScroll(this.id),De}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class G{constructor(De,ve,de,ee){this.id=ve,this.disable=de,this.disableScroll=ee,this.ctrl=De}block(){if(this.ctrl){if(this.disable)for(const De of this.disable)this.ctrl.disableGesture(De,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const De of this.disable)this.ctrl.enableGesture(De,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Fe="backdrop-no-scroll",Ae=new class a{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(De){return new se(this,this.newID(),De.name,De.priority||0,!!De.disableScroll)}createBlocker(De={}){return new G(this,this.newID(),De.disable,!!De.disableScroll)}start(De,ve,de){return this.canStart(De)?(this.requestedStart.set(ve,de),!0):(this.requestedStart.delete(ve),!1)}capture(De,ve,de){if(!this.start(De,ve,de))return!1;const ee=this.requestedStart;let ne=-1e4;if(ee.forEach(ge=>{ne=Math.max(ne,ge)}),ne===de){this.capturedId=ve,ee.clear();const ge=new CustomEvent("ionGestureCaptured",{detail:{gestureName:De}});return document.dispatchEvent(ge),!0}return ee.delete(ve),!1}release(De){this.requestedStart.delete(De),this.capturedId===De&&(this.capturedId=void 0)}disableGesture(De,ve){let de=this.disabledGestures.get(De);void 0===de&&(de=new Set,this.disabledGestures.set(De,de)),de.add(ve)}enableGesture(De,ve){const de=this.disabledGestures.get(De);void 0!==de&&de.delete(ve)}disableScroll(De){this.disabledScroll.add(De),1===this.disabledScroll.size&&document.body.classList.add(Fe)}enableScroll(De){this.disabledScroll.delete(De),0===this.disabledScroll.size&&document.body.classList.remove(Fe)}canStart(De){return!(void 0!==this.capturedId||this.isDisabled(De))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(De){const ve=this.disabledGestures.get(De);return!!(ve&&ve.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(Wt,rt,F)=>{"use strict";F.r(rt),F.d(rt,{MENU_BACK_BUTTON_PRIORITY:()=>Ae,OVERLAY_BACK_BUTTON_PRIORITY:()=>Fe,blockHardwareBackButton:()=>se,startHardwareBackButton:()=>G});var a=F(9671);const se=()=>{document.addEventListener("backbutton",()=>{})},G=()=>{const ue=document;let De=!1;ue.addEventListener("backbutton",()=>{if(De)return;let ve=0,de=[];const ee=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Q,fe){de.push({priority:Q,handler:fe,id:ve++})}}});ue.dispatchEvent(ee);const ne=function(){var Q=(0,a.Z)(function*(fe){try{if(null==fe?void 0:fe.handler){const Be=fe.handler(ge);null!=Be&&(yield Be)}}catch(Be){console.error(Be)}});return function(Be){return Q.apply(this,arguments)}}(),ge=()=>{if(de.length>0){let Q={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};de.forEach(fe=>{fe.priority>=Q.priority&&(Q=fe)}),De=!0,de=de.filter(fe=>fe.id!==Q.id),ne(Q).then(()=>De=!1)}};ge()})},Fe=100,Ae=99},3756:(Wt,rt,F)=>{"use strict";F.d(rt,{a:()=>De,b:()=>ve,c:()=>G,d:()=>fe,e:()=>Be,f:()=>Q,g:()=>de,h:()=>mt,i:()=>ue,j:()=>Fe,k:()=>ge,l:()=>oe,m:()=>ne,n:()=>xe,o:()=>_e,p:()=>ut,q:()=>Dt,r:()=>ee,s:()=>dt,t:()=>a,u:()=>ye});const a=(Pe,lt=0)=>new Promise(he=>{se(Pe,lt,he)}),se=(Pe,lt=0,he)=>{let Se,le;const X={passive:!0},Re=()=>{Se&&Se()},$e=pt=>{(void 0===pt||Pe===pt.target)&&(Re(),he(pt))};return Pe&&(Pe.addEventListener("webkitTransitionEnd",$e,X),Pe.addEventListener("transitionend",$e,X),le=setTimeout($e,lt+500),Se=()=>{le&&(clearTimeout(le),le=void 0),Pe.removeEventListener("webkitTransitionEnd",$e,X),Pe.removeEventListener("transitionend",$e,X)}),Re},G=(Pe,lt)=>{Pe.componentOnReady?Pe.componentOnReady().then(he=>lt(he)):ee(()=>lt(Pe))},Fe=(Pe,lt=[])=>{const he={};return lt.forEach(Se=>{Pe.hasAttribute(Se)&&(null!==Pe.getAttribute(Se)&&(he[Se]=Pe.getAttribute(Se)),Pe.removeAttribute(Se))}),he},Ae=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ue=Pe=>Fe(Pe,Ae),De=(Pe,lt,he,Se)=>{var le;if("undefined"!=typeof window){const X=window,ae=null===(le=null==X?void 0:X.Ionic)||void 0===le?void 0:le.config;if(ae){const Re=ae.get("_ael");if(Re)return Re(Pe,lt,he,Se);if(ae._ael)return ae._ael(Pe,lt,he,Se)}}return Pe.addEventListener(lt,he,Se)},ve=(Pe,lt,he,Se)=>{var le;if("undefined"!=typeof window){const X=window,ae=null===(le=null==X?void 0:X.Ionic)||void 0===le?void 0:le.config;if(ae){const Re=ae.get("_rel");if(Re)return Re(Pe,lt,he,Se);if(ae._rel)return ae._rel(Pe,lt,he,Se)}}return Pe.removeEventListener(lt,he,Se)},de=(Pe,lt=Pe)=>Pe.shadowRoot||lt,ee=Pe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Pe):"function"==typeof requestAnimationFrame?requestAnimationFrame(Pe):setTimeout(Pe),ne=Pe=>!!Pe.shadowRoot&&!!Pe.attachShadow,ge=Pe=>{const lt=Pe.closest("ion-item");return lt?lt.querySelector("ion-label"):null},Q=Pe=>{if(Pe.focus(),Pe.classList.contains("ion-focusable")){const lt=Pe.closest("ion-app");lt&&lt.setFocus([Pe])}},fe=(Pe,lt)=>{let he;const Se=Pe.getAttribute("aria-labelledby"),le=Pe.id;let X=null!==Se&&""!==Se.trim()?Se:lt+"-lbl",ae=null!==Se&&""!==Se.trim()?document.getElementById(Se):ge(Pe);return ae?(null===Se&&(ae.id=X),he=ae.textContent,ae.setAttribute("aria-hidden","true")):""!==le.trim()&&(ae=document.querySelector(`label[for="${le}"]`),ae&&(""!==ae.id?X=ae.id:ae.id=X=`${le}-lbl`,he=ae.textContent)),{label:ae,labelId:X,labelText:he}},Be=(Pe,lt,he,Se,le)=>{if(Pe||ne(lt)){let X=lt.querySelector("input.aux-input");X||(X=lt.ownerDocument.createElement("input"),X.type="hidden",X.classList.add("aux-input"),lt.appendChild(X)),X.disabled=le,X.name=he,X.value=Se||""}},oe=(Pe,lt,he)=>Math.max(Pe,Math.min(lt,he)),xe=(Pe,lt)=>{if(!Pe){const he="ASSERT: "+lt;throw console.error(he),new Error(he)}},ye=Pe=>Pe.timeStamp||Date.now(),ut=Pe=>{if(Pe){const lt=Pe.changedTouches;if(lt&&lt.length>0){const he=lt[0];return{x:he.clientX,y:he.clientY}}if(void 0!==Pe.pageX)return{x:Pe.pageX,y:Pe.pageY}}return{x:0,y:0}},_e=Pe=>{const lt="rtl"===document.dir;switch(Pe){case"start":return lt;case"end":return!lt;default:throw new Error(`"${Pe}" is not a valid value for [side]. Use "start" or "end" instead.`)}},mt=(Pe,lt)=>{const he=Pe._original||Pe;return{_original:Pe,emit:Dt(he.emit.bind(he),lt)}},Dt=(Pe,lt=0)=>{let he;return(...Se)=>{clearTimeout(he),he=setTimeout(Pe,lt,...Se)}},dt=(Pe,lt)=>{if(null!=Pe||(Pe={}),null!=lt||(lt={}),Pe===lt)return!0;const he=Object.keys(Pe);if(he.length!==Object.keys(lt).length)return!1;for(const Se of he)if(!(Se in lt)||Pe[Se]!==lt[Se])return!1;return!0}},4318:(Wt,rt,F)=>{"use strict";F.d(rt,{L:()=>Fe,a:()=>Ae,b:()=>ue,c:()=>De,d:()=>ve,e:()=>lt,g:()=>le,l:()=>dt,s:()=>he,t:()=>ne});var a=F(9671),se=F(2361),G=F(3756);const Fe="ionViewWillEnter",Ae="ionViewDidEnter",ue="ionViewWillLeave",De="ionViewDidLeave",ve="ionViewWillUnload",ne=X=>new Promise((ae,Re)=>{(0,se.c)(()=>{ge(X),Q(X).then($e=>{$e.animation&&$e.animation.destroy(),fe(X),ae($e)},$e=>{fe(X),Re($e)})})}),ge=X=>{const ae=X.enteringEl,Re=X.leavingEl;Se(ae,Re,X.direction),X.showGoBack?ae.classList.add("can-go-back"):ae.classList.remove("can-go-back"),he(ae,!1),ae.style.setProperty("pointer-events","none"),Re&&(he(Re,!1),Re.style.setProperty("pointer-events","none"))},Q=function(){var X=(0,a.Z)(function*(ae){const Re=yield Be(ae);return Re&&se.B.isBrowser?oe(Re,ae):xe(ae)});return function(Re){return X.apply(this,arguments)}}(),fe=X=>{const ae=X.enteringEl,Re=X.leavingEl;ae.classList.remove("ion-page-invisible"),ae.style.removeProperty("pointer-events"),void 0!==Re&&(Re.classList.remove("ion-page-invisible"),Re.style.removeProperty("pointer-events"))},Be=function(){var X=(0,a.Z)(function*(ae){return ae.leavingEl&&ae.animated&&0!==ae.duration?ae.animationBuilder?ae.animationBuilder:"ios"===ae.mode?(yield Promise.resolve().then(F.bind(F,1815))).iosTransitionAnimation:(yield Promise.resolve().then(F.bind(F,6447))).mdTransitionAnimation:void 0});return function(Re){return X.apply(this,arguments)}}(),oe=function(){var X=(0,a.Z)(function*(ae,Re){yield ye(Re,!0);const $e=ae(Re.baseEl,Re);mt(Re.enteringEl,Re.leavingEl);const pt=yield _e($e,Re);return Re.progressCallback&&Re.progressCallback(void 0),pt&&Dt(Re.enteringEl,Re.leavingEl),{hasCompleted:pt,animation:$e}});return function(Re,$e){return X.apply(this,arguments)}}(),xe=function(){var X=(0,a.Z)(function*(ae){const Re=ae.enteringEl,$e=ae.leavingEl;return yield ye(ae,!1),mt(Re,$e),Dt(Re,$e),{hasCompleted:!0}});return function(Re){return X.apply(this,arguments)}}(),ye=function(){var X=(0,a.Z)(function*(ae,Re){const pt=(void 0!==ae.deepWait?ae.deepWait:Re)?[lt(ae.enteringEl),lt(ae.leavingEl)]:[Pe(ae.enteringEl),Pe(ae.leavingEl)];yield Promise.all(pt),yield ut(ae.viewIsReady,ae.enteringEl)});return function(Re,$e){return X.apply(this,arguments)}}(),ut=function(){var X=(0,a.Z)(function*(ae,Re){ae&&(yield ae(Re))});return function(Re,$e){return X.apply(this,arguments)}}(),_e=(X,ae)=>{const Re=ae.progressCallback,$e=new Promise(pt=>{X.onFinish(kt=>pt(1===kt))});return Re?(X.progressStart(!0),Re(X)):X.play(),$e},mt=(X,ae)=>{dt(ae,ue),dt(X,Fe)},Dt=(X,ae)=>{dt(X,Ae),dt(ae,De)},dt=(X,ae)=>{if(X){const Re=new CustomEvent(ae,{bubbles:!1,cancelable:!1});X.dispatchEvent(Re)}},Pe=X=>X?new Promise(ae=>(0,G.c)(X,ae)):Promise.resolve(),lt=function(){var X=(0,a.Z)(function*(ae){const Re=ae;if(Re){if(null!=Re.componentOnReady){if(null!=(yield Re.componentOnReady()))return}else if(null!=Re.__registerHost)return void(yield new Promise(pt=>(0,G.r)(pt)));yield Promise.all(Array.from(Re.children).map(lt))}});return function(Re){return X.apply(this,arguments)}}(),he=(X,ae)=>{ae?(X.setAttribute("aria-hidden","true"),X.classList.add("ion-page-hidden")):(X.hidden=!1,X.removeAttribute("aria-hidden"),X.classList.remove("ion-page-hidden"))},Se=(X,ae,Re)=>{void 0!==X&&(X.style.zIndex="back"===Re?"99":"101"),void 0!==ae&&(ae.style.zIndex="100")},le=X=>X.classList.contains("ion-page")?X:X.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||X},3139:(Wt,rt,F)=>{"use strict";F.r(rt),F.d(rt,{GESTURE_CONTROLLER:()=>a.G,createGesture:()=>de});var a=F(3509);const se=(Q,fe,Be,oe)=>{const xe=G(Q)?{capture:!!oe.capture,passive:!!oe.passive}:!!oe.capture;let ye,ut;return Q.__zone_symbol__addEventListener?(ye="__zone_symbol__addEventListener",ut="__zone_symbol__removeEventListener"):(ye="addEventListener",ut="removeEventListener"),Q[ye](fe,Be,xe),()=>{Q[ut](fe,Be,xe)}},G=Q=>{if(void 0===Fe)try{const fe=Object.defineProperty({},"passive",{get:()=>{Fe=!0}});Q.addEventListener("optsTest",()=>{},fe)}catch(fe){Fe=!1}return!!Fe};let Fe;const De=Q=>Q instanceof Document?Q:Q.ownerDocument,de=Q=>{let fe=!1,Be=!1,oe=!0,xe=!1;const ye=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Q),ut=ye.canStart,_e=ye.onWillStart,mt=ye.onStart,Dt=ye.onEnd,dt=ye.notCaptured,Pe=ye.onMove,lt=ye.threshold,he=ye.passive,Se=ye.blurOnStart,le={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},X=((Q,fe,Be)=>{const oe=Be*(Math.PI/180),xe="x"===Q,ye=Math.cos(oe),ut=fe*fe;let _e=0,mt=0,Dt=!1,dt=0;return{start(Pe,lt){_e=Pe,mt=lt,dt=0,Dt=!0},detect(Pe,lt){if(!Dt)return!1;const he=Pe-_e,Se=lt-mt,le=he*he+Se*Se;if(le<ut)return!1;const X=Math.sqrt(le),ae=(xe?he:Se)/X;return dt=ae>ye?1:ae<-ye?-1:0,Dt=!1,!0},isGesture:()=>0!==dt,getDirection:()=>dt}})(ye.direction,ye.threshold,ye.maxAngle),ae=a.G.createGesture({name:Q.gestureName,priority:Q.gesturePriority,disableScroll:Q.disableScroll}),pt=()=>{!fe||(xe=!1,Pe&&Pe(le))},kt=()=>!(ae&&!ae.capture()||(fe=!0,oe=!1,le.startX=le.currentX,le.startY=le.currentY,le.startTime=le.currentTime,_e?_e(le).then(gt):gt(),0)),gt=()=>{Se&&(()=>{if("undefined"!=typeof document){const et=document.activeElement;(null==et?void 0:et.blur)&&et.blur()}})(),mt&&mt(le),oe=!0},qe=()=>{fe=!1,Be=!1,xe=!1,oe=!0,ae.release()},Xe=et=>{const It=fe,Ge=oe;if(qe(),Ge){if(ee(le,et),It)return void(Dt&&Dt(le));dt&&dt(le)}},st=((Q,fe,Be,oe,xe)=>{let ye,ut,_e,mt,Dt,dt,Pe,lt=0;const he=it=>{lt=Date.now()+2e3,fe(it)&&(!ut&&Be&&(ut=se(Q,"touchmove",Be,xe)),_e||(_e=se(it.target,"touchend",le,xe)),mt||(mt=se(it.target,"touchcancel",le,xe)))},Se=it=>{lt>Date.now()||!fe(it)||(!dt&&Be&&(dt=se(De(Q),"mousemove",Be,xe)),Pe||(Pe=se(De(Q),"mouseup",X,xe)))},le=it=>{ae(),oe&&oe(it)},X=it=>{Re(),oe&&oe(it)},ae=()=>{ut&&ut(),_e&&_e(),mt&&mt(),ut=_e=mt=void 0},Re=()=>{dt&&dt(),Pe&&Pe(),dt=Pe=void 0},$e=()=>{ae(),Re()},pt=(it=!0)=>{it?(ye||(ye=se(Q,"touchstart",he,xe)),Dt||(Dt=se(Q,"mousedown",Se,xe))):(ye&&ye(),Dt&&Dt(),ye=Dt=void 0,$e())};return{enable:pt,stop:$e,destroy:()=>{pt(!1),oe=Be=fe=void 0}}})(ye.el,et=>{const It=ge(et);return!(Be||!oe||(ne(et,le),le.startX=le.currentX,le.startY=le.currentY,le.startTime=le.currentTime=It,le.velocityX=le.velocityY=le.deltaX=le.deltaY=0,le.event=et,ut&&!1===ut(le))||(ae.release(),!ae.start()))&&(Be=!0,0===lt?kt():(X.start(le.startX,le.startY),!0))},et=>{fe?!xe&&oe&&(xe=!0,ee(le,et),requestAnimationFrame(pt)):(ee(le,et),X.detect(le.currentX,le.currentY)&&(!X.isGesture()||!kt())&&Ee())},Xe,{capture:!1,passive:he}),Ee=()=>{qe(),st.stop(),dt&&dt(le)};return{enable(et=!0){et||(fe&&Xe(void 0),qe()),st.enable(et)},destroy(){ae.destroy(),st.destroy()}}},ee=(Q,fe)=>{if(!fe)return;const Be=Q.currentX,oe=Q.currentY,xe=Q.currentTime;ne(fe,Q);const ye=Q.currentX,ut=Q.currentY,mt=(Q.currentTime=ge(fe))-xe;if(mt>0&&mt<100){const dt=(ut-oe)/mt;Q.velocityX=(ye-Be)/mt*.7+.3*Q.velocityX,Q.velocityY=.7*dt+.3*Q.velocityY}Q.deltaX=ye-Q.startX,Q.deltaY=ut-Q.startY,Q.event=fe},ne=(Q,fe)=>{let Be=0,oe=0;if(Q){const xe=Q.changedTouches;if(xe&&xe.length>0){const ye=xe[0];Be=ye.clientX,oe=ye.clientY}else void 0!==Q.pageX&&(Be=Q.pageX,oe=Q.pageY)}fe.currentX=Be,fe.currentY=oe},ge=Q=>Q.timeStamp||Date.now()},2361:(Wt,rt,F)=>{"use strict";F.d(rt,{B:()=>ei,H:()=>bn,a:()=>Ee,b:()=>Me,c:()=>Sn,e:()=>ke,f:()=>ri,g:()=>et,h:()=>en,i:()=>Ue,j:()=>Jn,k:()=>me,p:()=>oe,r:()=>jt,s:()=>fe});var a=F(9671);let G,Fe,Ae,ue=!1,De=!1,ve=!1,de=!1,ee=!1;const ne="undefined"!=typeof window?window:{},ge=ne.document||{head:{}},Q={$flags$:0,$resourcesUrl$:"",jmp:Y=>Y(),raf:Y=>requestAnimationFrame(Y),ael:(Y,pe,Le,Qe)=>Y.addEventListener(pe,Le,Qe),rel:(Y,pe,Le,Qe)=>Y.removeEventListener(pe,Le,Qe),ce:(Y,pe)=>new CustomEvent(Y,pe)},fe=Y=>{Object.assign(Q,Y)},oe=Y=>Promise.resolve(Y),xe=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(Y){}return!1})(),ye=(Y,pe,Le,Qe)=>{Le&&Le.map(([ce,we,Ze])=>{const _t=_e(Y,ce),Ct=ut(pe,Ze),St=mt(ce);Q.ael(_t,we,Ct,St),(pe.$rmListeners$=pe.$rmListeners$||[]).push(()=>Q.rel(_t,we,Ct,St))})},ut=(Y,pe)=>Le=>{try{256&Y.$flags$?Y.$lazyInstance$[pe](Le):(Y.$queuedListeners$=Y.$queuedListeners$||[]).push([pe,Le])}catch(Qe){mr(Qe)}},_e=(Y,pe)=>4&pe?ge:8&pe?ne:16&pe?ge.body:Y,mt=Y=>0!=(2&Y),he="s-id",Se="sty-id",ae="http://www.w3.org/1999/xlink",pt=new WeakMap,kt=(Y,pe,Le)=>{let Qe=Rn.get(Y);xe&&Le?(Qe=Qe||new CSSStyleSheet,Qe.replace(pe)):Qe=pe,Rn.set(Y,Qe)},it=(Y,pe,Le,Qe)=>{let ce=qe(pe,Le),we=Rn.get(ce);if(Y=11===Y.nodeType?Y:ge,we)if("string"==typeof we){let _t,Ze=pt.get(Y=Y.head||Y);Ze||pt.set(Y,Ze=new Set),Ze.has(ce)||(Y.host&&(_t=Y.querySelector(`[${Se}="${ce}"]`))?_t.innerHTML=we:(_t=ge.createElement("style"),_t.innerHTML=we,Y.insertBefore(_t,Y.querySelector("link"))),Ze&&Ze.add(ce))}else Y.adoptedStyleSheets.includes(we)||(Y.adoptedStyleSheets=[...Y.adoptedStyleSheets,we]);return ce},qe=(Y,pe)=>"sc-"+(pe&&32&Y.$flags$?Y.$tagName$+"-"+pe:Y.$tagName$),Xe=Y=>Y.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ee=Y=>tr.push(Y),et=Y=>bt(Y).$modeName$,It={},Tn=Y=>"object"==(Y=typeof Y)||"function"===Y,en=(Y,pe,...Le)=>{let Qe=null,ce=null,we=null,Ze=!1,_t=!1,Ct=[];const St=gn=>{for(let kn=0;kn<gn.length;kn++)Qe=gn[kn],Array.isArray(Qe)?St(Qe):null!=Qe&&"boolean"!=typeof Qe&&((Ze="function"!=typeof Y&&!Tn(Qe))&&(Qe=String(Qe)),Ze&&_t?Ct[Ct.length-1].$text$+=Qe:Ct.push(Ze?on(null,Qe):Qe),_t=Ze)};if(St(Le),pe){pe.key&&(ce=pe.key),pe.name&&(we=pe.name);{const gn=pe.className||pe.class;gn&&(pe.class="object"!=typeof gn?gn:Object.keys(gn).filter(kn=>gn[kn]).join(" "))}}if("function"==typeof Y)return Y(null===pe?{}:pe,Ct,Gn);const zt=on(Y,null);return zt.$attrs$=pe,Ct.length>0&&(zt.$children$=Ct),zt.$key$=ce,zt.$name$=we,zt},on=(Y,pe)=>({$flags$:0,$tag$:Y,$text$:pe,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),bn={},Gn={forEach:(Y,pe)=>Y.map(An).forEach(pe),map:(Y,pe)=>Y.map(An).map(pe).map(wn)},An=Y=>({vattrs:Y.$attrs$,vchildren:Y.$children$,vkey:Y.$key$,vname:Y.$name$,vtag:Y.$tag$,vtext:Y.$text$}),wn=Y=>{if("function"==typeof Y.vtag){const Le=Object.assign({},Y.vattrs);return Y.vkey&&(Le.key=Y.vkey),Y.vname&&(Le.name=Y.vname),en(Y.vtag,Le,...Y.vchildren||[])}const pe=on(Y.vtag,Y.vtext);return pe.$attrs$=Y.vattrs,pe.$children$=Y.vchildren,pe.$key$=Y.vkey,pe.$name$=Y.vname,pe},or=(Y,pe,Le,Qe,ce,we)=>{if(Le!==Qe){let Ze=Nn(Y,pe),_t=pe.toLowerCase();if("class"===pe){const Ct=Y.classList,St=Kn(Le),zt=Kn(Qe);Ct.remove(...St.filter(gn=>gn&&!zt.includes(gn))),Ct.add(...zt.filter(gn=>gn&&!St.includes(gn)))}else if("style"===pe){for(const Ct in Le)(!Qe||null==Qe[Ct])&&(Ct.includes("-")?Y.style.removeProperty(Ct):Y.style[Ct]="");for(const Ct in Qe)(!Le||Qe[Ct]!==Le[Ct])&&(Ct.includes("-")?Y.style.setProperty(Ct,Qe[Ct]):Y.style[Ct]=Qe[Ct])}else if("key"!==pe)if("ref"===pe)Qe&&Qe(Y);else if(Ze||"o"!==pe[0]||"n"!==pe[1]){const Ct=Tn(Qe);if((Ze||Ct&&null!==Qe)&&!ce)try{if(Y.tagName.includes("-"))Y[pe]=Qe;else{let zt=null==Qe?"":Qe;"list"===pe?Ze=!1:(null==Le||Y[pe]!=zt)&&(Y[pe]=zt)}}catch(zt){}let St=!1;_t!==(_t=_t.replace(/^xlink\:?/,""))&&(pe=_t,St=!0),null==Qe||!1===Qe?(!1!==Qe||""===Y.getAttribute(pe))&&(St?Y.removeAttributeNS(ae,pe):Y.removeAttribute(pe)):(!Ze||4&we||ce)&&!Ct&&(Qe=!0===Qe?"":Qe,St?Y.setAttributeNS(ae,pe,Qe):Y.setAttribute(pe,Qe))}else pe="-"===pe[2]?pe.slice(3):Nn(ne,_t)?_t.slice(2):_t[2]+pe.slice(3),Le&&Q.rel(Y,pe,Le,!1),Qe&&Q.ael(Y,pe,Qe,!1)}},On=/\s/,Kn=Y=>Y?Y.split(On):[],Bn=(Y,pe,Le,Qe)=>{const ce=11===pe.$elm$.nodeType&&pe.$elm$.host?pe.$elm$.host:pe.$elm$,we=Y&&Y.$attrs$||It,Ze=pe.$attrs$||It;for(Qe in we)Qe in Ze||or(ce,Qe,we[Qe],void 0,Le,pe.$flags$);for(Qe in Ze)or(ce,Qe,we[Qe],Ze[Qe],Le,pe.$flags$)},Wn=(Y,pe,Le,Qe)=>{let Ze,_t,Ct,ce=pe.$children$[Le],we=0;if(ue||(ve=!0,"slot"===ce.$tag$&&(G&&Qe.classList.add(G+"-s"),ce.$flags$|=ce.$children$?2:1)),null!==ce.$text$)Ze=ce.$elm$=ge.createTextNode(ce.$text$);else if(1&ce.$flags$)Ze=ce.$elm$=ge.createTextNode("");else{if(de||(de="svg"===ce.$tag$),Ze=ce.$elm$=ge.createElementNS(de?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ce.$flags$?"slot-fb":ce.$tag$),de&&"foreignObject"===ce.$tag$&&(de=!1),Bn(null,ce,de),(Y=>null!=Y)(G)&&Ze["s-si"]!==G&&Ze.classList.add(Ze["s-si"]=G),ce.$children$)for(we=0;we<ce.$children$.length;++we)_t=Wn(Y,ce,we,Ze),_t&&Ze.appendChild(_t);"svg"===ce.$tag$?de=!1:"foreignObject"===Ze.tagName&&(de=!0)}return Ze["s-hn"]=Ae,3&ce.$flags$&&(Ze["s-sr"]=!0,Ze["s-cr"]=Fe,Ze["s-sn"]=ce.$name$||"",Ct=Y&&Y.$children$&&Y.$children$[Le],Ct&&Ct.$tag$===ce.$tag$&&Y.$elm$&&Lt(Y.$elm$,!1)),Ze},Lt=(Y,pe)=>{Q.$flags$|=1;const Le=Y.childNodes;for(let Qe=Le.length-1;Qe>=0;Qe--){const ce=Le[Qe];ce["s-hn"]!==Ae&&ce["s-ol"]&&(fn(ce).insertBefore(ce,cn(ce)),ce["s-ol"].remove(),ce["s-ol"]=void 0,ve=!0),pe&&Lt(ce,pe)}Q.$flags$&=-2},Pr=(Y,pe,Le,Qe,ce,we)=>{let _t,Ze=Y["s-cr"]&&Y["s-cr"].parentNode||Y;for(Ze.shadowRoot&&Ze.tagName===Ae&&(Ze=Ze.shadowRoot);ce<=we;++ce)Qe[ce]&&(_t=Wn(null,Le,ce,Y),_t&&(Qe[ce].$elm$=_t,Ze.insertBefore(_t,cn(pe))))},Bt=(Y,pe,Le,Qe,ce)=>{for(;pe<=Le;++pe)(Qe=Y[pe])&&(ce=Qe.$elm$,kr(Qe),De=!0,ce["s-ol"]?ce["s-ol"].remove():Lt(ce,!0),ce.remove())},zn=(Y,pe)=>Y.$tag$===pe.$tag$&&("slot"===Y.$tag$?Y.$name$===pe.$name$:Y.$key$===pe.$key$),cn=Y=>Y&&Y["s-ol"]||Y,fn=Y=>(Y["s-ol"]?Y["s-ol"]:Y).parentNode,Qn=(Y,pe)=>{const Le=pe.$elm$=Y.$elm$,Qe=Y.$children$,ce=pe.$children$,we=pe.$tag$,Ze=pe.$text$;let _t;null===Ze?(de="svg"===we||"foreignObject"!==we&&de,"slot"===we||Bn(Y,pe,de),null!==Qe&&null!==ce?((Y,pe,Le,Qe)=>{let Cr,ar,ce=0,we=0,Ze=0,_t=0,Ct=pe.length-1,St=pe[0],zt=pe[Ct],gn=Qe.length-1,kn=Qe[0],Fn=Qe[gn];for(;ce<=Ct&&we<=gn;)if(null==St)St=pe[++ce];else if(null==zt)zt=pe[--Ct];else if(null==kn)kn=Qe[++we];else if(null==Fn)Fn=Qe[--gn];else if(zn(St,kn))Qn(St,kn),St=pe[++ce],kn=Qe[++we];else if(zn(zt,Fn))Qn(zt,Fn),zt=pe[--Ct],Fn=Qe[--gn];else if(zn(St,Fn))("slot"===St.$tag$||"slot"===Fn.$tag$)&&Lt(St.$elm$.parentNode,!1),Qn(St,Fn),Y.insertBefore(St.$elm$,zt.$elm$.nextSibling),St=pe[++ce],Fn=Qe[--gn];else if(zn(zt,kn))("slot"===St.$tag$||"slot"===Fn.$tag$)&&Lt(zt.$elm$.parentNode,!1),Qn(zt,kn),Y.insertBefore(zt.$elm$,St.$elm$),zt=pe[--Ct],kn=Qe[++we];else{for(Ze=-1,_t=ce;_t<=Ct;++_t)if(pe[_t]&&null!==pe[_t].$key$&&pe[_t].$key$===kn.$key$){Ze=_t;break}Ze>=0?(ar=pe[Ze],ar.$tag$!==kn.$tag$?Cr=Wn(pe&&pe[we],Le,Ze,Y):(Qn(ar,kn),pe[Ze]=void 0,Cr=ar.$elm$),kn=Qe[++we]):(Cr=Wn(pe&&pe[we],Le,we,Y),kn=Qe[++we]),Cr&&fn(St.$elm$).insertBefore(Cr,cn(St.$elm$))}ce>Ct?Pr(Y,null==Qe[gn+1]?null:Qe[gn+1].$elm$,Le,Qe,we,gn):we>gn&&Bt(pe,ce,Ct)})(Le,Qe,pe,ce):null!==ce?(null!==Y.$text$&&(Le.textContent=""),Pr(Le,null,pe,ce,0,ce.length-1)):null!==Qe&&Bt(Qe,0,Qe.length-1),de&&"svg"===we&&(de=!1)):(_t=Le["s-cr"])?_t.parentNode.textContent=Ze:Y.$text$!==Ze&&(Le.data=Ze)},Br=Y=>{let Le,Qe,ce,we,Ze,_t,pe=Y.childNodes;for(Qe=0,ce=pe.length;Qe<ce;Qe++)if(Le=pe[Qe],1===Le.nodeType){if(Le["s-sr"])for(Ze=Le["s-sn"],Le.hidden=!1,we=0;we<ce;we++)if(_t=pe[we].nodeType,pe[we]["s-hn"]!==Le["s-hn"]||""!==Ze){if(1===_t&&Ze===pe[we].getAttribute("slot")){Le.hidden=!0;break}}else if(1===_t||3===_t&&""!==pe[we].textContent.trim()){Le.hidden=!0;break}Br(Le)}},br=[],Ar=Y=>{let pe,Le,Qe,ce,we,Ze,_t=0,Ct=Y.childNodes,St=Ct.length;for(;_t<St;_t++){if(pe=Ct[_t],pe["s-sr"]&&(Le=pe["s-cr"])&&Le.parentNode)for(Qe=Le.parentNode.childNodes,ce=pe["s-sn"],Ze=Qe.length-1;Ze>=0;Ze--)Le=Qe[Ze],!Le["s-cn"]&&!Le["s-nr"]&&Le["s-hn"]!==pe["s-hn"]&&(rn(Le,ce)?(we=br.find(zt=>zt.$nodeToRelocate$===Le),De=!0,Le["s-sn"]=Le["s-sn"]||ce,we?we.$slotRefNode$=pe:br.push({$slotRefNode$:pe,$nodeToRelocate$:Le}),Le["s-sr"]&&br.map(zt=>{rn(zt.$nodeToRelocate$,Le["s-sn"])&&(we=br.find(gn=>gn.$nodeToRelocate$===Le),we&&!zt.$slotRefNode$&&(zt.$slotRefNode$=we.$slotRefNode$))})):br.some(zt=>zt.$nodeToRelocate$===Le)||br.push({$nodeToRelocate$:Le}));1===pe.nodeType&&Ar(pe)}},rn=(Y,pe)=>1===Y.nodeType?null===Y.getAttribute("slot")&&""===pe||Y.getAttribute("slot")===pe:Y["s-sn"]===pe||""===pe,kr=Y=>{Y.$attrs$&&Y.$attrs$.ref&&Y.$attrs$.ref(null),Y.$children$&&Y.$children$.map(kr)},Ue=Y=>bt(Y).$hostElement$,ke=(Y,pe,Le)=>{const Qe=Ue(Y);return{emit:ce=>At(Qe,pe,{bubbles:!!(4&Le),composed:!!(2&Le),cancelable:!!(1&Le),detail:ce})}},At=(Y,pe,Le)=>{const Qe=Q.ce(pe,Le);return Y.dispatchEvent(Qe),Qe},Ve=(Y,pe)=>{pe&&!Y.$onRenderResolve$&&pe["s-p"]&&pe["s-p"].push(new Promise(Le=>Y.$onRenderResolve$=Le))},ot=(Y,pe)=>{if(Y.$flags$|=16,!(4&Y.$flags$))return Ve(Y,Y.$ancestorComponent$),Sn(()=>Et(Y,pe));Y.$flags$|=512},Et=(Y,pe)=>{const Qe=Y.$lazyInstance$;let ce;return pe&&(Y.$flags$|=256,Y.$queuedListeners$&&(Y.$queuedListeners$.map(([we,Ze])=>Pn(Qe,we,Ze)),Y.$queuedListeners$=null),ce=Pn(Qe,"componentWillLoad")),ce=Er(ce,()=>Pn(Qe,"componentWillRender")),Er(ce,()=>$t(Y,Qe,pe))},$t=function(){var Y=(0,a.Z)(function*(pe,Le,Qe){const ce=pe.$hostElement$,Ze=ce["s-rc"];Qe&&(Y=>{const pe=Y.$cmpMeta$,Le=Y.$hostElement$,Qe=pe.$flags$,we=it(Le.shadowRoot?Le.shadowRoot:Le.getRootNode(),pe,Y.$modeName$);10&Qe&&(Le["s-sc"]=we,Le.classList.add(we+"-h"),2&Qe&&Le.classList.add(we+"-s"))})(pe);tn(pe,Le),Ze&&(Ze.map(Ct=>Ct()),ce["s-rc"]=void 0);{const Ct=ce["s-p"],St=()=>yn(pe);0===Ct.length?St():(Promise.all(Ct).then(St),pe.$flags$|=4,Ct.length=0)}});return function(Le,Qe,ce){return Y.apply(this,arguments)}}(),tn=(Y,pe,Le)=>{try{pe=pe.render&&pe.render(),Y.$flags$&=-17,Y.$flags$|=2,((Y,pe)=>{const Le=Y.$hostElement$,Qe=Y.$cmpMeta$,ce=Y.$vnode$||on(null,null),we=(Y=>Y&&Y.$tag$===bn)(pe)?pe:en(null,null,pe);if(Ae=Le.tagName,Qe.$attrsToReflect$&&(we.$attrs$=we.$attrs$||{},Qe.$attrsToReflect$.map(([Ze,_t])=>we.$attrs$[_t]=Le[Ze])),we.$tag$=null,we.$flags$|=4,Y.$vnode$=we,we.$elm$=ce.$elm$=Le.shadowRoot||Le,G=Le["s-sc"],Fe=Le["s-cr"],ue=0!=(1&Qe.$flags$),De=!1,Qn(ce,we),Q.$flags$|=1,ve){Ar(we.$elm$);let Ze,_t,Ct,St,zt,gn,kn=0;for(;kn<br.length;kn++)Ze=br[kn],_t=Ze.$nodeToRelocate$,_t["s-ol"]||(Ct=ge.createTextNode(""),Ct["s-nr"]=_t,_t.parentNode.insertBefore(_t["s-ol"]=Ct,_t));for(kn=0;kn<br.length;kn++)if(Ze=br[kn],_t=Ze.$nodeToRelocate$,Ze.$slotRefNode$){for(St=Ze.$slotRefNode$.parentNode,zt=Ze.$slotRefNode$.nextSibling,Ct=_t["s-ol"];Ct=Ct.previousSibling;)if(gn=Ct["s-nr"],gn&&gn["s-sn"]===_t["s-sn"]&&St===gn.parentNode&&(gn=gn.nextSibling,!gn||!gn["s-nr"])){zt=gn;break}(!zt&&St!==_t.parentNode||_t.nextSibling!==zt)&&_t!==zt&&(!_t["s-hn"]&&_t["s-ol"]&&(_t["s-hn"]=_t["s-ol"].parentNode.nodeName),St.insertBefore(_t,zt))}else 1===_t.nodeType&&(_t.hidden=!0)}De&&Br(we.$elm$),Q.$flags$&=-2,br.length=0})(Y,pe)}catch(Qe){mr(Qe,Y.$hostElement$)}return null},yn=Y=>{const Le=Y.$hostElement$,ce=Y.$lazyInstance$,we=Y.$ancestorComponent$;Pn(ce,"componentDidRender"),64&Y.$flags$?Pn(ce,"componentDidUpdate"):(Y.$flags$|=64,dr(Le),Pn(ce,"componentDidLoad"),Y.$onReadyResolve$(Le),we||qt()),Y.$onInstanceResolve$(Le),Y.$onRenderResolve$&&(Y.$onRenderResolve$(),Y.$onRenderResolve$=void 0),512&Y.$flags$&&qr(()=>ot(Y,!1)),Y.$flags$&=-517},Jn=Y=>{{const pe=bt(Y),Le=pe.$hostElement$.isConnected;return Le&&2==(18&pe.$flags$)&&ot(pe,!1),Le}},qt=Y=>{dr(ge.documentElement),qr(()=>At(ne,"appload",{detail:{namespace:"ionic"}}))},Pn=(Y,pe,Le)=>{if(Y&&Y[pe])try{return Y[pe](Le)}catch(Qe){mr(Qe)}},Er=(Y,pe)=>Y&&Y.then?Y.then(pe):pe(),dr=Y=>Y.classList.add("hydrated"),Gr=(Y,pe,Le,Qe,ce,we,Ze)=>{let _t,Ct,St,zt;if(1===we.nodeType){for(_t=we.getAttribute("c-id"),_t&&(Ct=_t.split("."),(Ct[0]===Ze||"0"===Ct[0])&&(St={$flags$:0,$hostId$:Ct[0],$nodeId$:Ct[1],$depth$:Ct[2],$index$:Ct[3],$tag$:we.tagName.toLowerCase(),$elm$:we,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},pe.push(St),we.removeAttribute("c-id"),Y.$children$||(Y.$children$=[]),Y.$children$[St.$index$]=St,Y=St,Qe&&"0"===St.$depth$&&(Qe[St.$index$]=St.$elm$))),zt=we.childNodes.length-1;zt>=0;zt--)Gr(Y,pe,Le,Qe,ce,we.childNodes[zt],Ze);if(we.shadowRoot)for(zt=we.shadowRoot.childNodes.length-1;zt>=0;zt--)Gr(Y,pe,Le,Qe,ce,we.shadowRoot.childNodes[zt],Ze)}else if(8===we.nodeType)Ct=we.nodeValue.split("."),(Ct[1]===Ze||"0"===Ct[1])&&(_t=Ct[0],St={$flags$:0,$hostId$:Ct[1],$nodeId$:Ct[2],$depth$:Ct[3],$index$:Ct[4],$elm$:we,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===_t?(St.$elm$=we.nextSibling,St.$elm$&&3===St.$elm$.nodeType&&(St.$text$=St.$elm$.textContent,pe.push(St),we.remove(),Y.$children$||(Y.$children$=[]),Y.$children$[St.$index$]=St,Qe&&"0"===St.$depth$&&(Qe[St.$index$]=St.$elm$))):St.$hostId$===Ze&&("s"===_t?(St.$tag$="slot",we["s-sn"]=Ct[5]?St.$name$=Ct[5]:"",we["s-sr"]=!0,Qe&&(St.$elm$=ge.createElement(St.$tag$),St.$name$&&St.$elm$.setAttribute("name",St.$name$),we.parentNode.insertBefore(St.$elm$,we),we.remove(),"0"===St.$depth$&&(Qe[St.$index$]=St.$elm$)),Le.push(St),Y.$children$||(Y.$children$=[]),Y.$children$[St.$index$]=St):"r"===_t&&(Qe?we.remove():(ce["s-cr"]=we,we["s-cn"]=!0))));else if(Y&&"style"===Y.$tag$){const gn=on(null,we.textContent);gn.$elm$=we,gn.$index$="0",Y.$children$=[gn]}},Vr=(Y,pe)=>{if(1===Y.nodeType){let Le=0;for(;Le<Y.childNodes.length;Le++)Vr(Y.childNodes[Le],pe);if(Y.shadowRoot)for(Le=0;Le<Y.shadowRoot.childNodes.length;Le++)Vr(Y.shadowRoot.childNodes[Le],pe)}else if(8===Y.nodeType){const Le=Y.nodeValue.split(".");"o"===Le[0]&&(pe.set(Le[1]+"."+Le[2],Y),Y.nodeValue="",Y["s-en"]=Le[3])}},zr=(Y,pe,Le)=>{if(pe.$members$){Y.watchers&&(pe.$watchers$=Y.watchers);const Qe=Object.entries(pe.$members$),ce=Y.prototype;if(Qe.map(([we,[Ze]])=>{31&Ze||2&Le&&32&Ze?Object.defineProperty(ce,we,{get(){return((Y,pe)=>bt(this).$instanceValues$.get(pe))(0,we)},set(_t){((Y,pe,Le,Qe)=>{const ce=bt(Y),we=ce.$hostElement$,Ze=ce.$instanceValues$.get(pe),_t=ce.$flags$,Ct=ce.$lazyInstance$;Le=((Y,pe)=>null==Y||Tn(Y)?Y:4&pe?"false"!==Y&&(""===Y||!!Y):2&pe?parseFloat(Y):1&pe?String(Y):Y)(Le,Qe.$members$[pe][0]);const St=Number.isNaN(Ze)&&Number.isNaN(Le);if((!(8&_t)||void 0===Ze)&&Le!==Ze&&!St&&(ce.$instanceValues$.set(pe,Le),Ct)){if(Qe.$watchers$&&128&_t){const gn=Qe.$watchers$[pe];gn&&gn.map(kn=>{try{Ct[kn](Le,Ze,pe)}catch(Fn){mr(Fn,we)}})}2==(18&_t)&&ot(ce,!1)}})(this,we,_t,pe)},configurable:!0,enumerable:!0}):1&Le&&64&Ze&&Object.defineProperty(ce,we,{value(..._t){const Ct=bt(this);return Ct.$onInstancePromise$.then(()=>Ct.$lazyInstance$[we](..._t))}})}),1&Le){const we=new Map;ce.attributeChangedCallback=function(Ze,_t,Ct){Q.jmp(()=>{const St=we.get(Ze);if(this.hasOwnProperty(St))Ct=this[St],delete this[St];else if(ce.hasOwnProperty(St)&&"number"==typeof this[St]&&this[St]==Ct)return;this[St]=(null!==Ct||"boolean"!=typeof this[St])&&Ct})},Y.observedAttributes=Qe.filter(([Ze,_t])=>15&_t[0]).map(([Ze,_t])=>{const Ct=_t[1]||Ze;return we.set(Ct,Ze),512&_t[0]&&pe.$attrsToReflect$.push([Ze,Ct]),Ct})}}return Y},wr=function(){var Y=(0,a.Z)(function*(pe,Le,Qe,ce,we){if(0==(32&Le.$flags$)){{if(Le.$flags$|=32,(we=Xt(Qe)).then){const St=()=>{};we=yield we,St()}we.isProxied||(Qe.$watchers$=we.watchers,zr(we,Qe,2),we.isProxied=!0);const Ct=()=>{};Le.$flags$|=8;try{new we(Le)}catch(St){mr(St)}Le.$flags$&=-9,Le.$flags$|=128,Ct(),Wr(Le.$lazyInstance$)}if(we.style){let Ct=we.style;"string"!=typeof Ct&&(Ct=Ct[Le.$modeName$=(Y=>tr.map(pe=>pe(Y)).find(pe=>!!pe))(pe)]);const St=qe(Qe,Le.$modeName$);if(!Rn.has(St)){const zt=()=>{};kt(St,Ct,!!(1&Qe.$flags$)),zt()}}}const Ze=Le.$ancestorComponent$,_t=()=>ot(Le,!0);Ze&&Ze["s-rc"]?Ze["s-rc"].push(_t):_t()});return function(Le,Qe,ce,we,Ze){return Y.apply(this,arguments)}}(),Wr=Y=>{Pn(Y,"connectedCallback")},Mr=Y=>{const pe=Y["s-cr"]=ge.createComment("");pe["s-cn"]=!0,Y.insertBefore(pe,Y.firstChild)},Me=(Y,pe={})=>{const Qe=[],ce=pe.exclude||[],we=ne.customElements,Ze=ge.head,_t=Ze.querySelector("meta[charset]"),Ct=ge.createElement("style"),St=[],zt=ge.querySelectorAll(`[${Se}]`);let gn,kn=!0,Fn=0;for(Object.assign(Q,pe),Q.$resourcesUrl$=new URL(pe.resourcesUrl||"./",ge.baseURI).href,Q.$flags$|=2;Fn<zt.length;Fn++)kt(zt[Fn].getAttribute(Se),Xe(zt[Fn].innerHTML),!0);Y.map(Cr=>{Cr[1].map(ar=>{const ze={$flags$:ar[0],$tagName$:ar[1],$members$:ar[2],$listeners$:ar[3]};ze.$members$=ar[2],ze.$listeners$=ar[3],ze.$attrsToReflect$=[],ze.$watchers$={};const je=ze.$tagName$,at=class extends HTMLElement{constructor(Pt){super(Pt),mn(Pt=this,ze),1&ze.$flags$&&Pt.attachShadow({mode:"open",delegatesFocus:!!(16&ze.$flags$)})}connectedCallback(){gn&&(clearTimeout(gn),gn=null),kn?St.push(this):Q.jmp(()=>(Y=>{if(0==(1&Q.$flags$)){const pe=bt(Y),Le=pe.$cmpMeta$,Qe=()=>{};if(1&pe.$flags$)ye(Y,pe,Le.$listeners$),Wr(pe.$lazyInstance$);else{let ce;if(pe.$flags$|=1,ce=Y.getAttribute(he),ce){if(1&Le.$flags$){const we=it(Y.shadowRoot,Le,Y.getAttribute("s-mode"));Y.classList.remove(we+"-h",we+"-s")}((Y,pe,Le,Qe)=>{const we=Y.shadowRoot,Ze=[],Ct=we?[]:null,St=Qe.$vnode$=on(pe,null);Q.$orgLocNodes$||Vr(ge.body,Q.$orgLocNodes$=new Map),Y[he]=Le,Y.removeAttribute(he),Gr(St,Ze,[],Ct,Y,Y,Le),Ze.map(zt=>{const gn=zt.$hostId$+"."+zt.$nodeId$,kn=Q.$orgLocNodes$.get(gn),Fn=zt.$elm$;kn&&""===kn["s-en"]&&kn.parentNode.insertBefore(Fn,kn.nextSibling),we||(Fn["s-hn"]=pe,kn&&(Fn["s-ol"]=kn,Fn["s-ol"]["s-nr"]=Fn)),Q.$orgLocNodes$.delete(gn)}),we&&Ct.map(zt=>{zt&&we.appendChild(zt)})})(Y,Le.$tagName$,ce,pe)}ce||12&Le.$flags$&&Mr(Y);{let we=Y;for(;we=we.parentNode||we.host;)if(1===we.nodeType&&we.hasAttribute("s-id")&&we["s-p"]||we["s-p"]){Ve(pe,pe.$ancestorComponent$=we);break}}Le.$members$&&Object.entries(Le.$members$).map(([we,[Ze]])=>{if(31&Ze&&Y.hasOwnProperty(we)){const _t=Y[we];delete Y[we],Y[we]=_t}}),qr(()=>wr(Y,pe,Le))}Qe()}})(this))}disconnectedCallback(){Q.jmp(()=>(Y=>{if(0==(1&Q.$flags$)){const pe=bt(this),Le=pe.$lazyInstance$;pe.$rmListeners$&&(pe.$rmListeners$.map(Qe=>Qe()),pe.$rmListeners$=void 0),Pn(Le,"disconnectedCallback")}})())}componentOnReady(){return bt(this).$onReadyPromise$}};ze.$lazyBundleId$=Cr[0],!ce.includes(je)&&!we.get(je)&&(Qe.push(je),we.define(je,zr(at,ze,1)))})}),Ct.innerHTML=Qe+"{visibility:hidden}.hydrated{visibility:inherit}",Ct.setAttribute("data-styles",""),Ze.insertBefore(Ct,_t?_t.nextSibling:Ze.firstChild),kn=!1,St.length?St.map(Cr=>Cr.connectedCallback()):Q.jmp(()=>gn=setTimeout(qt,30))},me=Y=>{const pe=new URL(Y,Q.$resourcesUrl$);return pe.origin!==ne.location.origin?pe.href:pe.pathname},ft=new WeakMap,bt=Y=>ft.get(Y),jt=(Y,pe)=>ft.set(pe.$lazyInstance$=Y,pe),mn=(Y,pe)=>{const Le={$flags$:0,$hostElement$:Y,$cmpMeta$:pe,$instanceValues$:new Map};return Le.$onInstancePromise$=new Promise(Qe=>Le.$onInstanceResolve$=Qe),Le.$onReadyPromise$=new Promise(Qe=>Le.$onReadyResolve$=Qe),Y["s-p"]=[],Y["s-rc"]=[],ye(Y,Le,pe.$listeners$),ft.set(Y,Le)},Nn=(Y,pe)=>pe in Y,mr=(Y,pe)=>(0,console.error)(Y,pe),Zn=new Map,Xt=(Y,pe,Le)=>{const Qe=Y.$tagName$.replace(/-/g,"_"),ce=Y.$lazyBundleId$,we=Zn.get(ce);return we?we[Qe]:F(863)(`./${ce}.entry.js`).then(Ze=>(Zn.set(ce,Ze),Ze[Qe]),mr)},Rn=new Map,tr=[],ir=[],mi=[],Rr=(Y,pe)=>Le=>{Y.push(Le),ee||(ee=!0,pe&&4&Q.$flags$?qr(hr):Q.raf(hr))},Jr=Y=>{for(let pe=0;pe<Y.length;pe++)try{Y[pe](performance.now())}catch(Le){mr(Le)}Y.length=0},hr=()=>{Jr(ir),Jr(mi),(ee=ir.length>0)&&Q.raf(hr)},qr=Y=>oe().then(Y),ri=Rr(ir,!1),Sn=Rr(mi,!0),ei={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},7726:(Wt,rt,F)=>{"use strict";F.d(rt,{m:()=>ne});var a=F(9671),se=F(7593),G=F(3756),Fe=F(6254),Ae=F(9442);const ue=ge=>(0,Ae.c)().duration(ge?400:300),De=ge=>{let Q,fe;const Be=ge.width+8,oe=(0,Ae.c)(),xe=(0,Ae.c)();ge.isEndSide?(Q=Be+"px",fe="0px"):(Q=-Be+"px",fe="0px"),oe.addElement(ge.menuInnerEl).fromTo("transform",`translateX(${Q})`,`translateX(${fe})`);const ut="ios"===(0,Fe.b)(ge),_e=ut?.2:.25;return xe.addElement(ge.backdropEl).fromTo("opacity",.01,_e),ue(ut).addAnimation([oe,xe])},ve=ge=>{let Q,fe;const Be=(0,Fe.b)(ge),oe=ge.width;ge.isEndSide?(Q=-oe+"px",fe=oe+"px"):(Q=oe+"px",fe=-oe+"px");const xe=(0,Ae.c)().addElement(ge.menuInnerEl).fromTo("transform",`translateX(${fe})`,"translateX(0px)"),ye=(0,Ae.c)().addElement(ge.contentEl).fromTo("transform","translateX(0px)",`translateX(${Q})`),ut=(0,Ae.c)().addElement(ge.backdropEl).fromTo("opacity",.01,.32);return ue("ios"===Be).addAnimation([xe,ye,ut])},de=ge=>{const Q=(0,Fe.b)(ge),fe=ge.width*(ge.isEndSide?-1:1)+"px",Be=(0,Ae.c)().addElement(ge.contentEl).fromTo("transform","translateX(0px)",`translateX(${fe})`);return ue("ios"===Q).addAnimation(Be)},ne=(()=>{const ge=new Map,Q=[],fe=function(){var gt=(0,a.Z)(function*(qe){const Xe=yield mt(qe);return!!Xe&&Xe.open()});return function(Xe){return gt.apply(this,arguments)}}(),Be=function(){var gt=(0,a.Z)(function*(qe){const Xe=yield void 0!==qe?mt(qe):Dt();return void 0!==Xe&&Xe.close()});return function(Xe){return gt.apply(this,arguments)}}(),oe=function(){var gt=(0,a.Z)(function*(qe){const Xe=yield mt(qe);return!!Xe&&Xe.toggle()});return function(Xe){return gt.apply(this,arguments)}}(),xe=function(){var gt=(0,a.Z)(function*(qe,Xe){const st=yield mt(Xe);return st&&(st.disabled=!qe),st});return function(Xe,st){return gt.apply(this,arguments)}}(),ye=function(){var gt=(0,a.Z)(function*(qe,Xe){const st=yield mt(Xe);return st&&(st.swipeGesture=qe),st});return function(Xe,st){return gt.apply(this,arguments)}}(),ut=function(){var gt=(0,a.Z)(function*(qe){if(null!=qe){const Xe=yield mt(qe);return void 0!==Xe&&Xe.isOpen()}return void 0!==(yield Dt())});return function(Xe){return gt.apply(this,arguments)}}(),_e=function(){var gt=(0,a.Z)(function*(qe){const Xe=yield mt(qe);return!!Xe&&!Xe.disabled});return function(Xe){return gt.apply(this,arguments)}}(),mt=function(){var gt=(0,a.Z)(function*(qe){return yield it(),"start"===qe||"end"===qe?kt(Ee=>Ee.side===qe&&!Ee.disabled)||kt(Ee=>Ee.side===qe):null!=qe?kt(st=>st.menuId===qe):kt(st=>!st.disabled)||(Q.length>0?Q[0].el:void 0)});return function(Xe){return gt.apply(this,arguments)}}(),Dt=function(){var gt=(0,a.Z)(function*(){return yield it(),Re()});return function(){return gt.apply(this,arguments)}}(),dt=function(){var gt=(0,a.Z)(function*(){return yield it(),$e()});return function(){return gt.apply(this,arguments)}}(),Pe=function(){var gt=(0,a.Z)(function*(){return yield it(),pt()});return function(){return gt.apply(this,arguments)}}(),lt=(gt,qe)=>{ge.set(gt,qe)},le=gt=>{const qe=gt.side;Q.filter(Xe=>Xe.side===qe&&Xe!==gt).forEach(Xe=>Xe.disabled=!0)},X=function(){var gt=(0,a.Z)(function*(qe,Xe,st){if(pt())return!1;if(Xe){const Ee=yield Dt();Ee&&qe.el!==Ee&&(yield Ee.setOpen(!1,!1))}return qe._setOpen(Xe,st)});return function(Xe,st,Ee){return gt.apply(this,arguments)}}(),Re=()=>kt(gt=>gt._isOpen),$e=()=>Q.map(gt=>gt.el),pt=()=>Q.some(gt=>gt.isAnimating),kt=gt=>{const qe=Q.find(gt);if(void 0!==qe)return qe.el},it=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(gt=>new Promise(qe=>(0,G.c)(gt,qe))));return lt("reveal",de),lt("push",ve),lt("overlay",De),"undefined"!=typeof document&&document.addEventListener("ionBackButton",gt=>{const qe=Re();qe&&gt.detail.register(se.MENU_BACK_BUTTON_PRIORITY,()=>qe.close())}),{registerAnimation:lt,get:mt,getMenus:dt,getOpen:Dt,isEnabled:_e,swipeGesture:ye,isAnimating:Pe,isOpen:ut,enable:xe,toggle:oe,close:Be,open:fe,_getOpenSync:Re,_createAnimation:(gt,qe)=>{const Xe=ge.get(gt);if(!Xe)throw new Error("animation not registered");return Xe(qe)},_register:gt=>{Q.indexOf(gt)<0&&(gt.disabled||le(gt),Q.push(gt))},_unregister:gt=>{const qe=Q.indexOf(gt);qe>-1&&Q.splice(qe,1)},_setOpen:X,_setActiveMenu:le}})()},6254:(Wt,rt,F)=>{"use strict";F.d(rt,{a:()=>ne,b:()=>pt,c:()=>G,g:()=>ee,i:()=>kt});var a=F(2361);class se{constructor(){this.m=new Map}reset(gt){this.m=new Map(Object.entries(gt))}get(gt,qe){const Xe=this.m.get(gt);return void 0!==Xe?Xe:qe}getBoolean(gt,qe=!1){const Xe=this.m.get(gt);return void 0===Xe?qe:"string"==typeof Xe?"true"===Xe:!!Xe}getNumber(gt,qe){const Xe=parseFloat(this.m.get(gt));return isNaN(Xe)?void 0!==qe?qe:NaN:Xe}set(gt,qe){this.m.set(gt,qe)}}const G=new se,de="ionic-persist-config",ee=it=>ge(it),ne=(it,gt)=>("string"==typeof it&&(gt=it,it=void 0),ee(it).includes(gt)),ge=(it=window)=>{if(void 0===it)return[];it.Ionic=it.Ionic||{};let gt=it.Ionic.platforms;return null==gt&&(gt=it.Ionic.platforms=Q(it),gt.forEach(qe=>it.document.documentElement.classList.add(`plt-${qe}`))),gt},Q=it=>{const gt=G.get("platform");return Object.keys(Re).filter(qe=>{const Xe=null==gt?void 0:gt[qe];return"function"==typeof Xe?Xe(it):Re[qe](it)})},Be=it=>!!(X(it,/iPad/i)||X(it,/Macintosh/i)&&Dt(it)),ye=it=>X(it,/android|sink/i),Dt=it=>ae(it,"(any-pointer:coarse)"),Pe=it=>lt(it)||he(it),lt=it=>!!(it.cordova||it.phonegap||it.PhoneGap),he=it=>{const gt=it.Capacitor;return!!(null==gt?void 0:gt.isNative)},X=(it,gt)=>gt.test(it.navigator.userAgent),ae=(it,gt)=>{var qe;return null===(qe=it.matchMedia)||void 0===qe?void 0:qe.call(it,gt).matches},Re={ipad:Be,iphone:it=>X(it,/iPhone/i),ios:it=>X(it,/iPhone|iPod/i)||Be(it),android:ye,phablet:it=>{const gt=it.innerWidth,qe=it.innerHeight,Xe=Math.min(gt,qe),st=Math.max(gt,qe);return Xe>390&&Xe<520&&st>620&&st<800},tablet:it=>{const gt=it.innerWidth,qe=it.innerHeight,Xe=Math.min(gt,qe),st=Math.max(gt,qe);return Be(it)||(it=>ye(it)&&!X(it,/mobile/i))(it)||Xe>460&&Xe<820&&st>780&&st<1400},cordova:lt,capacitor:he,electron:it=>X(it,/electron/i),pwa:it=>{var gt;return!(!(null===(gt=it.matchMedia)||void 0===gt?void 0:gt.call(it,"(display-mode: standalone)").matches)&&!it.navigator.standalone)},mobile:Dt,mobileweb:it=>Dt(it)&&!Pe(it),desktop:it=>!Dt(it),hybrid:Pe};let $e;const pt=it=>it&&(0,a.g)(it)||$e,kt=(it={})=>{if("undefined"==typeof window)return;const gt=window.document,qe=window,Xe=qe.Ionic=qe.Ionic||{},st={};it._ael&&(st.ael=it._ael),it._rel&&(st.rel=it._rel),it._ce&&(st.ce=it._ce),(0,a.s)(st);const Ee=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(it=>{try{const gt=it.sessionStorage.getItem(de);return null!==gt?JSON.parse(gt):{}}catch(gt){return{}}})(qe)),{persistConfig:!1}),Xe.config),(it=>{const gt={};return it.location.search.slice(1).split("&").map(qe=>qe.split("=")).map(([qe,Xe])=>[decodeURIComponent(qe),decodeURIComponent(Xe)]).filter(([qe])=>((it,gt)=>it.substr(0,gt.length)===gt)(qe,"ionic:")).map(([qe,Xe])=>[qe.slice("ionic:".length),Xe]).forEach(([qe,Xe])=>{gt[qe]=Xe}),gt})(qe)),it);G.reset(Ee),G.getBoolean("persistConfig")&&((it,gt)=>{try{it.sessionStorage.setItem(de,JSON.stringify(gt))}catch(qe){return}})(qe,Ee),ge(qe),Xe.config=G,Xe.mode=$e=G.get("mode",gt.documentElement.getAttribute("mode")||(ne(qe,"ios")?"ios":"md")),G.set("mode",$e),gt.documentElement.setAttribute("mode",$e),gt.documentElement.classList.add($e),G.getBoolean("_testing")&&G.set("animated",!1);const et=Ge=>{var Ft;return null===(Ft=Ge.tagName)||void 0===Ft?void 0:Ft.startsWith("ION-")},It=Ge=>["ios","md"].includes(Ge);(0,a.a)(Ge=>{for(;Ge;){const Ft=Ge.mode||Ge.getAttribute("mode");if(Ft){if(It(Ft))return Ft;et(Ge)&&console.warn('Invalid ionic mode: "'+Ft+'", expected: "ios" or "md"')}Ge=Ge.parentElement}return $e})}},1815:(Wt,rt,F)=>{"use strict";F.r(rt),F.d(rt,{iosTransitionAnimation:()=>ge,shadow:()=>ue});var a=F(9442),se=F(4318);F(2361);const Ae=Q=>document.querySelector(`${Q}.ion-cloned-element`),ue=Q=>Q.shadowRoot||Q,De=Q=>{const fe="ION-TABS"===Q.tagName?Q:Q.querySelector("ion-tabs"),Be="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=fe){const oe=fe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=oe?oe.querySelector(Be):null}return Q.querySelector(Be)},ve=(Q,fe)=>{const Be="ION-TABS"===Q.tagName?Q:Q.querySelector("ion-tabs");let oe=[];if(null!=Be){const xe=Be.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=xe&&(oe=xe.querySelectorAll("ion-buttons"))}else oe=Q.querySelectorAll("ion-buttons");for(const xe of oe){const ye=xe.closest("ion-header"),ut=ye&&!ye.classList.contains("header-collapse-condense-inactive"),_e=xe.querySelector("ion-back-button"),mt=xe.classList.contains("buttons-collapse"),Dt="start"===xe.slot||""===xe.slot;if(null!==_e&&Dt&&(mt&&ut&&fe||!mt))return _e}return null},ee=(Q,fe,Be,oe,xe,ye)=>{const ut=fe?`calc(100% - ${ye.right+4}px)`:ye.left-4+"px",_e=fe?"7px":"-7px",mt=fe?"-4px":"4px",Dt=fe?"-4px":"4px",dt=fe?"right":"left",Pe=fe?"left":"right",Se=Be?[{offset:0,opacity:1,transform:`translate3d(${mt}, ${ye.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${_e}, ${xe.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${_e}, ${xe.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${mt}, ${ye.top-46}px, 0) scale(1)`}],ae=Be?[{offset:0,opacity:1,transform:`translate3d(${Dt}, ${ye.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Dt}, ${ye.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Dt}, ${ye.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Dt}, ${ye.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Dt}, ${ye.top-46}px, 0) scale(1)`}],Re=(0,a.c)(),$e=(0,a.c)(),pt=Ae("ion-back-button"),kt=ue(pt).querySelector(".button-text"),it=ue(pt).querySelector("ion-icon");pt.text=oe.text,pt.mode=oe.mode,pt.icon=oe.icon,pt.color=oe.color,pt.disabled=oe.disabled,pt.style.setProperty("display","block"),pt.style.setProperty("position","fixed"),$e.addElement(it),Re.addElement(kt),Re.beforeStyles({"transform-origin":`${dt} center`}).beforeAddWrite(()=>{oe.style.setProperty("display","none"),pt.style.setProperty(dt,ut)}).afterAddWrite(()=>{oe.style.setProperty("display",""),pt.style.setProperty("display","none"),pt.style.removeProperty(dt)}).keyframes(Se),$e.beforeStyles({"transform-origin":`${Pe} center`}).keyframes(ae),Q.addAnimation([Re,$e])},ne=(Q,fe,Be,oe,xe,ye)=>{const ut=fe?`calc(100% - ${xe.right}px)`:`${xe.left}px`,_e=fe?"-18px":"18px",mt=fe?"right":"left",Pe=Be?[{offset:0,opacity:0,transform:`translate3d(${_e}, ${ye.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${xe.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${xe.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${_e}, ${ye.top-4}px, 0) scale(0.5)`}],lt=Ae("ion-title"),he=(0,a.c)();lt.innerText=oe.innerText,lt.size=oe.size,lt.color=oe.color,he.addElement(lt),he.beforeStyles({"transform-origin":`${mt} center`,height:"46px",display:"",position:"relative",[mt]:ut}).beforeAddWrite(()=>{oe.style.setProperty("display","none")}).afterAddWrite(()=>{oe.style.setProperty("display",""),lt.style.setProperty("display","none")}).keyframes(Pe),Q.addAnimation(he)},ge=(Q,fe)=>{try{const Be="cubic-bezier(0.32,0.72,0,1)",oe="opacity",xe="transform",ye="0%",_e="rtl"===Q.ownerDocument.dir,mt=_e?"-99.5%":"99.5%",Dt=_e?"33%":"-33%",dt=fe.enteringEl,Pe=fe.leavingEl,lt="back"===fe.direction,he=dt.querySelector(":scope > ion-content"),Se=dt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),le=dt.querySelectorAll(":scope > ion-header > ion-toolbar"),X=(0,a.c)(),ae=(0,a.c)();if(X.addElement(dt).duration(fe.duration||540).easing(fe.easing||Be).fill("both").beforeRemoveClass("ion-page-invisible"),Pe&&Q){const kt=(0,a.c)();kt.addElement(Q),X.addAnimation(kt)}if(he||0!==le.length||0!==Se.length?(ae.addElement(he),ae.addElement(Se)):ae.addElement(dt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),X.addAnimation(ae),lt?ae.beforeClearStyles([oe]).fromTo("transform",`translateX(${Dt})`,`translateX(${ye})`).fromTo(oe,.8,1):ae.beforeClearStyles([oe]).fromTo("transform",`translateX(${mt})`,`translateX(${ye})`),he){const kt=ue(he).querySelector(".transition-effect");if(kt){const it=kt.querySelector(".transition-cover"),gt=kt.querySelector(".transition-shadow"),qe=(0,a.c)(),Xe=(0,a.c)(),st=(0,a.c)();qe.addElement(kt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Xe.addElement(it).beforeClearStyles([oe]).fromTo(oe,0,.1),st.addElement(gt).beforeClearStyles([oe]).fromTo(oe,.03,.7),qe.addAnimation([Xe,st]),ae.addAnimation([qe])}}const Re=dt.querySelector("ion-header.header-collapse-condense"),{forward:$e,backward:pt}=((Q,fe,Be,oe,xe)=>{const ye=ve(oe,Be),ut=De(xe),_e=De(oe),mt=ve(xe,Be),Dt=null!==ye&&null!==ut&&!Be,dt=null!==_e&&null!==mt&&Be;if(Dt){const Pe=ut.getBoundingClientRect(),lt=ye.getBoundingClientRect();ne(Q,fe,Be,ut,Pe,lt),ee(Q,fe,Be,ye,Pe,lt)}else if(dt){const Pe=_e.getBoundingClientRect(),lt=mt.getBoundingClientRect();ne(Q,fe,Be,_e,Pe,lt),ee(Q,fe,Be,mt,Pe,lt)}return{forward:Dt,backward:dt}})(X,_e,lt,dt,Pe);if(le.forEach(kt=>{const it=(0,a.c)();it.addElement(kt),X.addAnimation(it);const gt=(0,a.c)();gt.addElement(kt.querySelector("ion-title"));const qe=(0,a.c)(),Xe=Array.from(kt.querySelectorAll("ion-buttons,[menuToggle]")),st=kt.closest("ion-header"),Ee=null==st?void 0:st.classList.contains("header-collapse-condense-inactive");let et;et=Xe.filter(lt?Tn=>{const en=Tn.classList.contains("buttons-collapse");return en&&!Ee||!en}:Tn=>!Tn.classList.contains("buttons-collapse")),qe.addElement(et);const It=(0,a.c)();It.addElement(kt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Ge=(0,a.c)();Ge.addElement(ue(kt).querySelector(".toolbar-background"));const Ft=(0,a.c)(),an=kt.querySelector("ion-back-button");if(an&&Ft.addElement(an),it.addAnimation([gt,qe,It,Ge,Ft]),qe.fromTo(oe,.01,1),It.fromTo(oe,.01,1),lt)Ee||gt.fromTo("transform",`translateX(${Dt})`,`translateX(${ye})`).fromTo(oe,.01,1),It.fromTo("transform",`translateX(${Dt})`,`translateX(${ye})`),Ft.fromTo(oe,.01,1);else if(Re||gt.fromTo("transform",`translateX(${mt})`,`translateX(${ye})`).fromTo(oe,.01,1),It.fromTo("transform",`translateX(${mt})`,`translateX(${ye})`),Ge.beforeClearStyles([oe,"transform"]),(null==st?void 0:st.translucent)?Ge.fromTo("transform",_e?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Ge.fromTo(oe,.01,"var(--opacity)"),$e||Ft.fromTo(oe,.01,1),an&&!$e){const en=(0,a.c)();en.addElement(ue(an).querySelector(".button-text")).fromTo("transform",_e?"translateX(-100px)":"translateX(100px)","translateX(0px)"),it.addAnimation(en)}}),Pe){const kt=(0,a.c)(),it=Pe.querySelector(":scope > ion-content"),gt=Pe.querySelectorAll(":scope > ion-header > ion-toolbar"),qe=Pe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(it||0!==gt.length||0!==qe.length?(kt.addElement(it),kt.addElement(qe)):kt.addElement(Pe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),X.addAnimation(kt),lt){kt.beforeClearStyles([oe]).fromTo("transform",`translateX(${ye})`,_e?"translateX(-100%)":"translateX(100%)");const Xe=(0,se.g)(Pe);X.afterAddWrite(()=>{"normal"===X.getDirection()&&Xe.style.setProperty("display","none")})}else kt.fromTo("transform",`translateX(${ye})`,`translateX(${Dt})`).fromTo(oe,1,.8);if(it){const Xe=ue(it).querySelector(".transition-effect");if(Xe){const st=Xe.querySelector(".transition-cover"),Ee=Xe.querySelector(".transition-shadow"),et=(0,a.c)(),It=(0,a.c)(),Ge=(0,a.c)();et.addElement(Xe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),It.addElement(st).beforeClearStyles([oe]).fromTo(oe,.1,0),Ge.addElement(Ee).beforeClearStyles([oe]).fromTo(oe,.7,.03),et.addAnimation([It,Ge]),kt.addAnimation([et])}}gt.forEach(Xe=>{const st=(0,a.c)();st.addElement(Xe);const Ee=(0,a.c)();Ee.addElement(Xe.querySelector("ion-title"));const et=(0,a.c)(),It=Xe.querySelectorAll("ion-buttons,[menuToggle]"),Ge=Xe.closest("ion-header"),Ft=null==Ge?void 0:Ge.classList.contains("header-collapse-condense-inactive"),an=Array.from(It).filter(Gn=>{const An=Gn.classList.contains("buttons-collapse");return An&&!Ft||!An});et.addElement(an);const Tn=(0,a.c)(),en=Xe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");en.length>0&&Tn.addElement(en);const on=(0,a.c)();on.addElement(ue(Xe).querySelector(".toolbar-background"));const bn=(0,a.c)(),Dr=Xe.querySelector("ion-back-button");if(Dr&&bn.addElement(Dr),st.addAnimation([Ee,et,Tn,bn,on]),X.addAnimation(st),bn.fromTo(oe,.99,0),et.fromTo(oe,.99,0),Tn.fromTo(oe,.99,0),lt){if(Ft||Ee.fromTo("transform",`translateX(${ye})`,_e?"translateX(-100%)":"translateX(100%)").fromTo(oe,.99,0),Tn.fromTo("transform",`translateX(${ye})`,_e?"translateX(-100%)":"translateX(100%)"),on.beforeClearStyles([oe,"transform"]),(null==Ge?void 0:Ge.translucent)?on.fromTo("transform","translateX(0px)",_e?"translateX(-100%)":"translateX(100%)"):on.fromTo(oe,"var(--opacity)",0),Dr&&!pt){const An=(0,a.c)();An.addElement(ue(Dr).querySelector(".button-text")).fromTo("transform",`translateX(${ye})`,`translateX(${(_e?-124:124)+"px"})`),st.addAnimation(An)}}else Ft||Ee.fromTo("transform",`translateX(${ye})`,`translateX(${Dt})`).fromTo(oe,.99,0).afterClearStyles([xe,oe]),Tn.fromTo("transform",`translateX(${ye})`,`translateX(${Dt})`).afterClearStyles([xe,oe]),bn.afterClearStyles([oe]),Ee.afterClearStyles([oe]),et.afterClearStyles([oe])})}return X}catch(Be){throw Be}}},6447:(Wt,rt,F)=>{"use strict";F.r(rt),F.d(rt,{mdTransitionAnimation:()=>Fe});var a=F(9442),se=F(4318);F(2361);const Fe=(Ae,ue)=>{const de="back"===ue.direction,ne=ue.leavingEl,ge=(0,se.g)(ue.enteringEl),Q=ge.querySelector("ion-toolbar"),fe=(0,a.c)();if(fe.addElement(ge).fill("both").beforeRemoveClass("ion-page-invisible"),de?fe.duration(ue.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):fe.duration(ue.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Q){const Be=(0,a.c)();Be.addElement(Q),fe.addAnimation(Be)}if(ne&&de){fe.duration(ue.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Be=(0,a.c)();Be.addElement((0,se.g)(ne)).onFinish(oe=>{1===oe&&Be.elements.length>0&&Be.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),fe.addAnimation(Be)}return fe}},599:(Wt,rt,F)=>{"use strict";F.d(rt,{B:()=>Xe,a:()=>ve,b:()=>de,c:()=>Q,d:()=>le,e:()=>Be,f:()=>ae,g:()=>pt,h:()=>ue,i:()=>it,j:()=>ut,k:()=>he,m:()=>ne,s:()=>qe});var a=F(9671),se=F(6254),G=F(7593),Fe=F(3756);let Ae=0;const ue=new WeakMap,De=st=>({create:Ee=>oe(st,Ee),dismiss:(Ee,et,It)=>Pe(document,Ee,et,st,It),getTop:()=>(0,a.Z)(function*(){return he(document,st)})()}),ve=De("ion-alert"),de=De("ion-action-sheet"),ne=De("ion-modal"),Q=De("ion-popover"),Be=st=>{"undefined"!=typeof document&&dt(document);const Ee=Ae++;st.overlayIndex=Ee,st.hasAttribute("id")||(st.id=`ion-overlay-${Ee}`)},oe=(st,Ee)=>"undefined"!=typeof window&&void 0!==window.customElements?window.customElements.whenDefined(st).then(()=>{const et=document.createElement(st);return et.classList.add("overlay-hidden"),Object.assign(et,Object.assign(Object.assign({},Ee),{hasController:!0})),Re(document).appendChild(et),new Promise(It=>(0,Fe.c)(et,It))}):Promise.resolve(),xe='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',ye="input:not([type=hidden]), textarea, button, select",ut=(st,Ee)=>{let et=st.querySelector(xe);const It=null==et?void 0:et.shadowRoot;It&&(et=It.querySelector(ye)||et),et?(0,Fe.f)(et):Ee.focus()},mt=(st,Ee)=>{const et=Array.from(st.querySelectorAll(xe));let It=et.length>0?et[et.length-1]:null;const Ge=null==It?void 0:It.shadowRoot;Ge&&(It=Ge.querySelector(ye)||It),It?It.focus():Ee.focus()},dt=st=>{0===Ae&&(Ae=1,st.addEventListener("focus",Ee=>{((st,Ee)=>{const et=he(Ee,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),It=st.target;et&&It&&!et.classList.contains("ion-disable-focus-trap")&&(et.shadowRoot?(()=>{if(et.contains(It))et.lastFocus=It;else{const an=et.lastFocus;ut(et,et),an===Ee.activeElement&&mt(et,et),et.lastFocus=Ee.activeElement}})():(()=>{if(et===It)et.lastFocus=void 0;else{const an=(0,Fe.g)(et);if(!an.contains(It))return;const Tn=an.querySelector(".ion-overlay-wrapper");if(!Tn)return;if(Tn.contains(It))et.lastFocus=It;else{const en=et.lastFocus;ut(Tn,et),en===Ee.activeElement&&mt(Tn,et),et.lastFocus=Ee.activeElement}}})())})(Ee,st)},!0),st.addEventListener("ionBackButton",Ee=>{const et=he(st);(null==et?void 0:et.backdropDismiss)&&Ee.detail.register(G.OVERLAY_BACK_BUTTON_PRIORITY,()=>et.dismiss(void 0,Xe))}),st.addEventListener("keyup",Ee=>{if("Escape"===Ee.key){const et=he(st);(null==et?void 0:et.backdropDismiss)&&et.dismiss(void 0,Xe)}}))},Pe=(st,Ee,et,It,Ge)=>{const Ft=he(st,It,Ge);return Ft?Ft.dismiss(Ee,et):Promise.reject("overlay does not exist")},he=(st,Ee,et)=>{const It=((st,Ee)=>(void 0===Ee&&(Ee="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(st.querySelectorAll(Ee)).filter(et=>et.overlayIndex>0)))(st,Ee).filter(Ge=>!(st=>st.classList.contains("overlay-hidden"))(Ge));return void 0===et?It[It.length-1]:It.find(Ge=>Ge.id===et)},Se=(st=!1)=>{const et=Re(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!et||(st?et.setAttribute("aria-hidden","true"):et.removeAttribute("aria-hidden"))},le=function(){var st=(0,a.Z)(function*(Ee,et,It,Ge,Ft){var an,Tn;if(Ee.presented)return;Se(!0),Ee.presented=!0,Ee.willPresent.emit(),null===(an=Ee.willPresentShorthand)||void 0===an||an.emit();const en=(0,se.b)(Ee),on=Ee.enterAnimation?Ee.enterAnimation:se.c.get(et,"ios"===en?It:Ge);(yield $e(Ee,on,Ee.el,Ft))&&(Ee.didPresent.emit(),null===(Tn=Ee.didPresentShorthand)||void 0===Tn||Tn.emit()),"ION-TOAST"!==Ee.el.tagName&&X(Ee.el),Ee.keyboardClose&&Ee.el.focus()});return function(et,It,Ge,Ft,an){return st.apply(this,arguments)}}(),X=function(){var st=(0,a.Z)(function*(Ee){let et=document.activeElement;if(!et)return;const It=null==et?void 0:et.shadowRoot;It&&(et=It.querySelector(ye)||et),yield Ee.onDidDismiss(),et.focus()});return function(et){return st.apply(this,arguments)}}(),ae=function(){var st=(0,a.Z)(function*(Ee,et,It,Ge,Ft,an,Tn){var en,on;if(!Ee.presented)return!1;Se(!1),Ee.presented=!1;try{Ee.el.style.setProperty("pointer-events","none"),Ee.willDismiss.emit({data:et,role:It}),null===(en=Ee.willDismissShorthand)||void 0===en||en.emit({data:et,role:It});const bn=(0,se.b)(Ee),Dr=Ee.leaveAnimation?Ee.leaveAnimation:se.c.get(Ge,"ios"===bn?Ft:an);"gesture"!==It&&(yield $e(Ee,Dr,Ee.el,Tn)),Ee.didDismiss.emit({data:et,role:It}),null===(on=Ee.didDismissShorthand)||void 0===on||on.emit({data:et,role:It}),ue.delete(Ee),Ee.el.classList.add("overlay-hidden"),Ee.el.style.removeProperty("pointer-events")}catch(bn){console.error(bn)}return Ee.el.remove(),!0});return function(et,It,Ge,Ft,an,Tn,en){return st.apply(this,arguments)}}(),Re=st=>st.querySelector("ion-app")||st.body,$e=function(){var st=(0,a.Z)(function*(Ee,et,It,Ge){It.classList.remove("overlay-hidden");const an=et(Ee.el,Ge);(!Ee.animated||!se.c.getBoolean("animated",!0))&&an.duration(0),Ee.keyboardClose&&an.beforeAddWrite(()=>{const en=It.ownerDocument.activeElement;(null==en?void 0:en.matches("input,ion-input, ion-textarea"))&&en.blur()});const Tn=ue.get(Ee)||[];return ue.set(Ee,[...Tn,an]),yield an.play(),!0});return function(et,It,Ge,Ft){return st.apply(this,arguments)}}(),pt=(st,Ee)=>{let et;const It=new Promise(Ge=>et=Ge);return kt(st,Ee,Ge=>{et(Ge.detail)}),It},kt=(st,Ee,et)=>{const It=Ge=>{(0,Fe.b)(st,Ee,It),et(Ge)};(0,Fe.a)(st,Ee,It)},it=st=>"cancel"===st||st===Xe,gt=st=>st(),qe=(st,Ee)=>{if("function"==typeof st)return se.c.get("_zoneGate",gt)(()=>{try{return st(Ee)}catch(It){throw It}})},Xe="backdrop"},5867:(Wt,rt,F)=>{"use strict";F.d(rt,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=F(9681);(0,a.registerVersion)("firebase","9.8.1","app")},127:(Wt,rt,F)=>{"use strict";F.d(rt,{Z:()=>a.Z});var a=F(3942);a.Z.registerVersion("firebase","9.8.1","app-compat")},7092:(Wt,rt,F)=>{"use strict";F.r(rt);var a=F(9671),se=F(3942),G=F(2090),Fe=F(9681),Ae=F(655),ue=F(1877),De=F(4859);const Be=function Q(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},oe=function fe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},xe=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ut=new ue.Yd("@firebase/auth");function _e(_,...d){ut.logLevel<=ue.in.ERROR&&ut.error(`Auth (${Fe.SDK_VERSION}): ${_}`,...d)}function mt(_,...d){throw lt(_,...d)}function Dt(_,...d){return lt(_,...d)}function dt(_,d,p){const D=Object.assign(Object.assign({},oe()),{[d]:p});return new G.LL("auth","Firebase",D).create(d,{appName:_.name})}function Pe(_,d,p){if(!(d instanceof p))throw p.name!==d.constructor.name&&mt(_,"argument-error"),dt(_,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lt(_,...d){if("string"!=typeof _){const p=d[0],D=[...d.slice(1)];return D[0]&&(D[0].appName=_.name),_._errorFactory.create(p,...D)}return xe.create(_,...d)}function he(_,d,...p){if(!_)throw lt(d,...p)}function Se(_){const d="INTERNAL ASSERTION FAILED: "+_;throw _e(d),new Error(d)}function le(_,d){_||Se(d)}const X=new Map;function ae(_){le(_ instanceof Function,"Expected a class definition");let d=X.get(_);return d?(le(d instanceof _,"Instance stored in cache mismatched with class"),d):(d=new _,X.set(_,d),d)}function pt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function kt(){return"http:"===it()||"https:"===it()}function it(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Xe{constructor(d,p){this.shortDelay=d,this.longDelay=p,le(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function gt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(kt()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function st(_,d){le(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class Ee{static initialize(d,p,D){this.fetchImpl=d,p&&(this.headersImpl=p),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const et={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},It=new Xe(3e4,6e4);function Ge(_,d){return _.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:_.tenantId}):d}function Ft(_,d,p,D){return an.apply(this,arguments)}function an(){return(an=(0,a.Z)(function*(_,d,p,D,U={}){return Tn(_,U,(0,a.Z)(function*(){let re={},Je={};D&&("GET"===d?Je=D:re={body:JSON.stringify(D)});const Rt=(0,G.xO)(Object.assign({key:_.config.apiKey},Je)).slice(1),dn=yield _._getAdditionalHeaders();return dn["Content-Type"]="application/json",_.languageCode&&(dn["X-Firebase-Locale"]=_.languageCode),Ee.fetch()(Dr(_,_.config.apiHost,p,Rt),Object.assign({method:d,headers:dn,referrerPolicy:"no-referrer"},re))}))})).apply(this,arguments)}function Tn(_,d,p){return en.apply(this,arguments)}function en(){return(en=(0,a.Z)(function*(_,d,p){_._canInitEmulator=!1;const D=Object.assign(Object.assign({},et),d);try{const U=new Gn(_),re=yield Promise.race([p(),U.promise]);U.clearNetworkTimeout();const Je=yield re.json();if("needConfirmation"in Je)throw An(_,"account-exists-with-different-credential",Je);if(re.ok&&!("errorMessage"in Je))return Je;{const Rt=re.ok?Je.errorMessage:Je.error.message,[dn,ln]=Rt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===dn)throw An(_,"credential-already-in-use",Je);if("EMAIL_EXISTS"===dn)throw An(_,"email-already-in-use",Je);const Xn=D[dn]||dn.toLowerCase().replace(/[_\s]+/g,"-");if(ln)throw dt(_,Xn,ln);mt(_,Xn)}}catch(U){if(U instanceof G.ZR)throw U;mt(_,"network-request-failed")}})).apply(this,arguments)}function on(_,d,p,D){return bn.apply(this,arguments)}function bn(){return(bn=(0,a.Z)(function*(_,d,p,D,U={}){const re=yield Ft(_,d,p,D,U);return"mfaPendingCredential"in re&&mt(_,"multi-factor-auth-required",{_serverResponse:re}),re})).apply(this,arguments)}function Dr(_,d,p,D){const U=`${d}${p}?${D}`;return _.config.emulator?st(_.config,U):`${_.config.apiScheme}://${U}`}class Gn{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,D)=>{this.timer=setTimeout(()=>D(Dt(this.auth,"network-request-failed")),It.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function An(_,d,p){const D={appName:_.name};p.email&&(D.email=p.email),p.phoneNumber&&(D.phoneNumber=p.phoneNumber);const U=Dt(_,d,D);return U.customData._tokenResponse=p,U}function or(){return(or=(0,a.Z)(function*(_,d){return Ft(_,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function On(_,d){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,a.Z)(function*(_,d){return Ft(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Bn(_,d){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,a.Z)(function*(_,d){return Ft(_,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Lt(_){if(_)try{const d=new Date(Number(_));if(!isNaN(d.getTime()))return d.toUTCString()}catch(d){}}function gr(){return(gr=(0,a.Z)(function*(_,d=!1){const p=(0,G.m9)(_),D=yield p.getIdToken(d),U=cn(D);he(U&&U.exp&&U.auth_time&&U.iat,p.auth,"internal-error");const re="object"==typeof U.firebase?U.firebase:void 0,Je=null==re?void 0:re.sign_in_provider;return{claims:U,token:D,authTime:Lt(zn(U.auth_time)),issuedAtTime:Lt(zn(U.iat)),expirationTime:Lt(zn(U.exp)),signInProvider:Je||null,signInSecondFactor:(null==re?void 0:re.sign_in_second_factor)||null}})).apply(this,arguments)}function zn(_){return 1e3*Number(_)}function cn(_){const[d,p,D]=_.split(".");if(void 0===d||void 0===p||void 0===D)return _e("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,G.tV)(p);return U?JSON.parse(U):(_e("Failed to decode base64 JWT payload"),null)}catch(U){return _e("Caught error parsing JWT payload as JSON",U),null}}function Qn(_,d){return Br.apply(this,arguments)}function Br(){return(Br=(0,a.Z)(function*(_,d,p=!1){if(p)return d;try{return yield d}catch(D){throw D instanceof G.ZR&&br(D)&&_.auth.currentUser===_&&(yield _.auth.signOut()),D}})).apply(this,arguments)}function br({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Ar{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const U=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const D=this.getInterval(d);this.timerId=setTimeout((0,a.Z)(function*(){yield p.iteration()}),D)}iteration(){var d=this;return(0,a.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&d.schedule(!0))}d.schedule()})()}}class rn{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lt(this.lastLoginAt),this.creationTime=Lt(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kr(_){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,a.Z)(function*(_){var d;const p=_.auth,D=yield _.getIdToken(),U=yield Qn(_,Bn(p,{idToken:D}));he(null==U?void 0:U.users.length,p,"internal-error");const re=U.users[0];_._notifyReloadListener(re);const Je=(null===(d=re.providerUserInfo)||void 0===d?void 0:d.length)?Ve(re.providerUserInfo):[],Rt=At(_.providerData,Je),Xn=!!_.isAnonymous&&!(_.email&&re.passwordHash||(null==Rt?void 0:Rt.length)),$n={uid:re.localId,displayName:re.displayName||null,photoURL:re.photoUrl||null,email:re.email||null,emailVerified:re.emailVerified||!1,phoneNumber:re.phoneNumber||null,tenantId:re.tenantId||null,providerData:Rt,metadata:new rn(re.createdAt,re.lastLoginAt),isAnonymous:Xn};Object.assign(_,$n)})).apply(this,arguments)}function ke(){return(ke=(0,a.Z)(function*(_){const d=(0,G.m9)(_);yield kr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function At(_,d){return[..._.filter(D=>!d.some(U=>U.providerId===D.providerId)),...d]}function Ve(_){return _.map(d=>{var{providerId:p}=d,D=(0,Ae._T)(d,["providerId"]);return{providerId:p,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function Et(){return(Et=(0,a.Z)(function*(_,d){const p=yield Tn(_,{},(0,a.Z)(function*(){const D=(0,G.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:U,apiKey:re}=_.config,Je=Dr(_,U,"/v1/token",`key=${re}`),Rt=yield _._getAdditionalHeaders();return Rt["Content-Type"]="application/x-www-form-urlencoded",Ee.fetch()(Je,{method:"POST",headers:Rt,body:D})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class $t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){he(d.idToken,"internal-error"),he(void 0!==d.idToken,"internal-error"),he(void 0!==d.refreshToken,"internal-error");const p="expiresIn"in d&&void 0!==d.expiresIn?Number(d.expiresIn):function fn(_){const d=cn(_);return he(d,"internal-error"),he(void 0!==d.exp,"internal-error"),he(void 0!==d.iat,"internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var D=this;return(0,a.Z)(function*(){return he(!D.accessToken||D.refreshToken,d,"user-token-expired"),p||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(d,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var D=this;return(0,a.Z)(function*(){const{accessToken:U,refreshToken:re,expiresIn:Je}=yield function ot(_,d){return Et.apply(this,arguments)}(d,p);D.updateTokensAndExpiration(U,re,Number(Je))})()}updateTokensAndExpiration(d,p,D){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(d,p){const{refreshToken:D,accessToken:U,expirationTime:re}=p,Je=new $t;return D&&(he("string"==typeof D,"internal-error",{appName:d}),Je.refreshToken=D),U&&(he("string"==typeof U,"internal-error",{appName:d}),Je.accessToken=U),re&&(he("number"==typeof re,"internal-error",{appName:d}),Je.expirationTime=re),Je}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new $t,this.toJSON())}_performRefresh(){return Se("not implemented")}}function tn(_,d){he("string"==typeof _||void 0===_,"internal-error",{appName:d})}class yn{constructor(d){var{uid:p,auth:D,stsTokenManager:U}=d,re=(0,Ae._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ar(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=D,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=re.displayName||null,this.email=re.email||null,this.emailVerified=re.emailVerified||!1,this.phoneNumber=re.phoneNumber||null,this.photoURL=re.photoURL||null,this.isAnonymous=re.isAnonymous||!1,this.tenantId=re.tenantId||null,this.providerData=re.providerData?[...re.providerData]:[],this.metadata=new rn(re.createdAt||void 0,re.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,a.Z)(function*(){const D=yield Qn(p,p.stsTokenManager.getToken(p.auth,d));return he(D,p.auth,"internal-error"),p.accessToken!==D&&(p.accessToken=D,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),D})()}getIdTokenResult(d){return function Bt(_){return gr.apply(this,arguments)}(this,d)}reload(){return function Ue(_){return ke.apply(this,arguments)}(this)}_assign(d){this!==d&&(he(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){return new yn(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(d){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var D=this;return(0,a.Z)(function*(){let U=!1;d.idToken&&d.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(d),U=!0),p&&(yield kr(D)),yield D.auth._persistUserIfCurrent(D),U&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var d=this;return(0,a.Z)(function*(){const p=yield d.getIdToken();return yield Qn(d,function wn(_,d){return or.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var D,U,re,Je,Rt,dn,ln,Xn;const $n=null!==(D=p.displayName)&&void 0!==D?D:void 0,_s=null!==(U=p.email)&&void 0!==U?U:void 0,Vo=null!==(re=p.phoneNumber)&&void 0!==re?re:void 0,Ha=null!==(Je=p.photoURL)&&void 0!==Je?Je:void 0,hd=null!==(Rt=p.tenantId)&&void 0!==Rt?Rt:void 0,hc=null!==(dn=p._redirectEventId)&&void 0!==dn?dn:void 0,fc=null!==(ln=p.createdAt)&&void 0!==ln?ln:void 0,pc=null!==(Xn=p.lastLoginAt)&&void 0!==Xn?Xn:void 0,{uid:gc,emailVerified:qf,isAnonymous:fu,providerData:xl,stsTokenManager:fd}=p;he(gc&&fd,d,"internal-error");const Yf=$t.fromJSON(this.name,fd);he("string"==typeof gc,d,"internal-error"),tn($n,d.name),tn(_s,d.name),he("boolean"==typeof qf,d,"internal-error"),he("boolean"==typeof fu,d,"internal-error"),tn(Vo,d.name),tn(Ha,d.name),tn(hd,d.name),tn(hc,d.name),tn(fc,d.name),tn(pc,d.name);const Ml=new yn({uid:gc,auth:d,email:_s,emailVerified:qf,displayName:$n,isAnonymous:fu,photoURL:Ha,phoneNumber:Vo,tenantId:hd,stsTokenManager:Yf,createdAt:fc,lastLoginAt:pc});return xl&&Array.isArray(xl)&&(Ml.providerData=xl.map(Kf=>Object.assign({},Kf))),hc&&(Ml._redirectEventId=hc),Ml}static _fromIdTokenResponse(d,p,D=!1){return(0,a.Z)(function*(){const U=new $t;U.updateFromServerResponse(p);const re=new yn({uid:p.localId,auth:d,stsTokenManager:U,isAnonymous:D});return yield kr(re),re})()}}const qt=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(p,D){var U=this;return(0,a.Z)(function*(){U.storage[p]=D})()}_get(p){var D=this;return(0,a.Z)(function*(){const U=D.storage[p];return void 0===U?null:U})()}_remove(p){var D=this;return(0,a.Z)(function*(){delete D.storage[p]})()}_addListener(p,D){}_removeListener(p,D){}}return _.type="NONE",_})();function Pn(_,d,p){return`firebase:${_}:${d}:${p}`}class Er{constructor(d,p,D){this.persistence=d,this.auth=p,this.userKey=D;const{config:U,name:re}=this.auth;this.fullUserKey=Pn(this.userKey,U.apiKey,re),this.fullPersistenceKey=Pn("persistence",U.apiKey,re),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,a.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?yn._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,a.Z)(function*(){if(p.persistence===d)return;const D=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,D?p.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,D="authUser"){return(0,a.Z)(function*(){if(!p.length)return new Er(ae(qt),d,D);const U=(yield Promise.all(p.map(function(){var ln=(0,a.Z)(function*(Xn){if(yield Xn._isAvailable())return Xn});return function(Xn){return ln.apply(this,arguments)}}()))).filter(ln=>ln);let re=U[0]||ae(qt);const Je=Pn(D,d.config.apiKey,d.name);let Rt=null;for(const ln of p)try{const Xn=yield ln._get(Je);if(Xn){const $n=yn._fromJSON(d,Xn);ln!==re&&(Rt=$n),re=ln;break}}catch(Xn){}const dn=U.filter(ln=>ln._shouldAllowMigration);return re._shouldAllowMigration&&dn.length?(re=dn[0],Rt&&(yield re._set(Je,Rt.toJSON())),yield Promise.all(p.map(function(){var ln=(0,a.Z)(function*(Xn){if(Xn!==re)try{yield Xn._remove(Je)}catch($n){}});return function(Xn){return ln.apply(this,arguments)}}())),new Er(re,d,D)):new Er(re,d,D)})()}}function dr(_){const d=_.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(ui(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Hr(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(li(d))return"Blackberry";if(zr(d))return"Webos";if(Gr(d))return"Safari";if((d.includes("chrome/")||Vr(d))&&!d.includes("edge/"))return"Chrome";if(hi(d))return"Android";{const D=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function Hr(_=(0,G.z$)()){return/firefox\//i.test(_)}function Gr(_=(0,G.z$)()){const d=_.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Vr(_=(0,G.z$)()){return/crios\//i.test(_)}function ui(_=(0,G.z$)()){return/iemobile/i.test(_)}function hi(_=(0,G.z$)()){return/android/i.test(_)}function li(_=(0,G.z$)()){return/blackberry/i.test(_)}function zr(_=(0,G.z$)()){return/webos/i.test(_)}function wr(_=(0,G.z$)()){return/iphone|ipad|ipod/i.test(_)}function tt(_=(0,G.z$)()){return wr(_)||hi(_)||zr(_)||li(_)||/windows phone/i.test(_)||ui(_)}function me(_,d=[]){let p;switch(_){case"Browser":p=dr((0,G.z$)());break;case"Worker":p=`${dr((0,G.z$)())}-${_}`;break;default:p=_}const D=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${Fe.SDK_VERSION}/${D}`}class ft{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const D=re=>new Promise((Je,Rt)=>{try{Je(d(re))}catch(dn){Rt(dn)}});D.onAbort=p,this.queue.push(D);const U=this.queue.length-1;return()=>{this.queue[U]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,a.Z)(function*(){if(p.auth.currentUser===d)return;const D=[];try{for(const U of p.queue)yield U(d),U.onAbort&&D.push(U.onAbort)}catch(U){D.reverse();for(const re of D)try{re()}catch(Je){}throw p.auth._errorFactory.create("login-blocked",{originalMessage:U.message})}})()}}class bt{constructor(d,p,D){this.app=d,this.heartbeatServiceProvider=p,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mn(this),this.idTokenSubscription=new mn(this),this.beforeStateQueue=new ft(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(d,p){var D=this;return p&&(this._popupRedirectResolver=ae(p)),this._initializationPromise=this.queue((0,a.Z)(function*(){var U,re;if(!D._deleted&&(D.persistenceManager=yield Er.create(D,d),!D._deleted)){if(null===(U=D._popupRedirectResolver)||void 0===U?void 0:U._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch(Je){}yield D.initializeCurrentUser(p),D.lastNotifiedUid=(null===(re=D.currentUser)||void 0===re?void 0:re.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,a.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUser(d){var p=this;return(0,a.Z)(function*(){var D;const U=yield p.assertedPersistence.getCurrentUser();let re=U,Je=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Rt=null===(D=p.redirectUser)||void 0===D?void 0:D._redirectEventId,dn=null==re?void 0:re._redirectEventId,ln=yield p.tryRedirectSignIn(d);(!Rt||Rt===dn)&&(null==ln?void 0:ln.user)&&(re=ln.user,Je=!0)}if(!re)return p.directlySetCurrentUser(null);if(!re._redirectEventId){if(Je)try{yield p.beforeStateQueue.runMiddleware(re)}catch(Rt){re=U,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Rt))}return re?p.reloadAndSetCurrentUserOrClear(re):p.directlySetCurrentUser(null)}return he(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===re._redirectEventId?p.directlySetCurrentUser(re):p.reloadAndSetCurrentUserOrClear(re)})()}tryRedirectSignIn(d){var p=this;return(0,a.Z)(function*(){let D=null;try{D=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch(U){yield p._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,a.Z)(function*(){try{yield kr(d)}catch(D){if("auth/network-request-failed"!==D.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function qe(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var d=this;return(0,a.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,a.Z)(function*(){const D=d?(0,G.m9)(d):null;return D&&he(D.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(D&&D._clone(p))})()}_updateCurrentUser(d,p=!1){var D=this;return(0,a.Z)(function*(){if(!D._deleted)return d&&he(D.tenantId===d.tenantId,D,"tenant-id-mismatch"),p||(yield D.beforeStateQueue.runMiddleware(d)),D.queue((0,a.Z)(function*(){yield D.directlySetCurrentUser(d),D.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,a.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var p=this;return this.queue((0,a.Z)(function*(){yield p.assertedPersistence.setPersistence(ae(d))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new G.LL("auth","Firebase",d())}onAuthStateChanged(d,p,D){return this.registerStateListener(this.authStateSubscription,d,p,D)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,D){return this.registerStateListener(this.idTokenSubscription,d,p,D)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var D=this;return(0,a.Z)(function*(){const U=yield D.getOrInitRedirectPersistenceManager(p);return null===d?U.removeCurrentUser():U.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,a.Z)(function*(){if(!p.redirectPersistenceManager){const D=d&&ae(d)||p._popupRedirectResolver;he(D,p,"argument-error"),p.redirectPersistenceManager=yield Er.create(p,[ae(D._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,a.Z)(function*(){var D,U;return p._isInitialized&&(yield p.queue((0,a.Z)(function*(){}))),(null===(D=p._currentUser)||void 0===D?void 0:D._redirectEventId)===d?p._currentUser:(null===(U=p.redirectUser)||void 0===U?void 0:U._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,a.Z)(function*(){if(d===p.currentUser)return p.queue((0,a.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,D,U){if(this._deleted)return()=>{};const re="function"==typeof p?p:p.next.bind(p),Je=this._isInitialized?Promise.resolve():this._initializationPromise;return he(Je,this,"internal-error"),Je.then(()=>re(this.currentUser)),"function"==typeof p?d.addObserver(p,D,U):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,a.Z)(function*(){p.currentUser&&p.currentUser!==d&&(p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh()),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=me(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,a.Z)(function*(){var p;const D={"X-Client-Version":d.clientVersion};d.app.options.appId&&(D["X-Firebase-gmpid"]=d.app.options.appId);const U=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return U&&(D["X-Firebase-Client"]=U),D})()}}function jt(_){return(0,G.m9)(_)}class mn{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,G.ne)(p=>this.observer=p)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mr(_){const d=_.indexOf(":");return d<0?"":_.substr(0,d+1)}function Xt(_){if(!_)return null;const d=Number(_);return isNaN(d)?null:d}class tr{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return Se("not implemented")}_getIdTokenResponse(d){return Se("not implemented")}_linkToIdToken(d,p){return Se("not implemented")}_getReauthenticationResolver(d){return Se("not implemented")}}function ir(_,d){return mi.apply(this,arguments)}function mi(){return(mi=(0,a.Z)(function*(_,d){return Ft(_,"POST","/v1/accounts:resetPassword",Ge(_,d))})).apply(this,arguments)}function Rr(_,d){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,a.Z)(function*(_,d){return Ft(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function hr(_,d){return qr.apply(this,arguments)}function qr(){return(qr=(0,a.Z)(function*(_,d){return Ft(_,"POST","/v1/accounts:update",Ge(_,d))})).apply(this,arguments)}function Sn(){return(Sn=(0,a.Z)(function*(_,d){return on(_,"POST","/v1/accounts:signInWithPassword",Ge(_,d))})).apply(this,arguments)}function ei(_,d){return Y.apply(this,arguments)}function Y(){return(Y=(0,a.Z)(function*(_,d){return Ft(_,"POST","/v1/accounts:sendOobCode",Ge(_,d))})).apply(this,arguments)}function pe(_,d){return Le.apply(this,arguments)}function Le(){return(Le=(0,a.Z)(function*(_,d){return ei(_,d)})).apply(this,arguments)}function Qe(_,d){return ce.apply(this,arguments)}function ce(){return(ce=(0,a.Z)(function*(_,d){return ei(_,d)})).apply(this,arguments)}function we(_,d){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,a.Z)(function*(_,d){return ei(_,d)})).apply(this,arguments)}function _t(_,d){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,a.Z)(function*(_,d){return ei(_,d)})).apply(this,arguments)}function zt(){return(zt=(0,a.Z)(function*(_,d){return on(_,"POST","/v1/accounts:signInWithEmailLink",Ge(_,d))})).apply(this,arguments)}function kn(){return(kn=(0,a.Z)(function*(_,d){return on(_,"POST","/v1/accounts:signInWithEmailLink",Ge(_,d))})).apply(this,arguments)}class Fn extends tr{constructor(d,p,D,U=null){super("password",D),this._email=d,this._password=p,this._tenantId=U}static _fromEmailAndPassword(d,p){return new Fn(d,p,"password")}static _fromEmailAndCode(d,p,D=null){return new Fn(d,p,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,a.Z)(function*(){switch(p.signInMethod){case"password":return function ri(_,d){return Sn.apply(this,arguments)}(d,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function St(_,d){return zt.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:mt(d,"internal-error")}})()}_linkToIdToken(d,p){var D=this;return(0,a.Z)(function*(){switch(D.signInMethod){case"password":return Rr(d,{idToken:p,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function gn(_,d){return kn.apply(this,arguments)}(d,{idToken:p,email:D._email,oobCode:D._password});default:mt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Cr(_,d){return ar.apply(this,arguments)}function ar(){return(ar=(0,a.Z)(function*(_,d){return on(_,"POST","/v1/accounts:signInWithIdp",Ge(_,d))})).apply(this,arguments)}class je extends tr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const p=new je(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(p.idToken=d.idToken),d.accessToken&&(p.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(p.nonce=d.nonce),d.pendingToken&&(p.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(p.accessToken=d.oauthToken,p.secret=d.oauthTokenSecret):mt("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:D,signInMethod:U}=p,re=(0,Ae._T)(p,["providerId","signInMethod"]);if(!D||!U)return null;const Je=new je(D,U);return Je.idToken=re.idToken||void 0,Je.accessToken=re.accessToken||void 0,Je.secret=re.secret,Je.nonce=re.nonce,Je.pendingToken=re.pendingToken||null,Je}_getIdTokenResponse(d){return Cr(d,this.buildRequest())}_linkToIdToken(d,p){const D=this.buildRequest();return D.idToken=p,Cr(d,D)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,Cr(d,p)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),d.postBody=(0,G.xO)(p)}return d}}function at(_,d){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,a.Z)(function*(_,d){return Ft(_,"POST","/v1/accounts:sendVerificationCode",Ge(_,d))})).apply(this,arguments)}function pn(){return(pn=(0,a.Z)(function*(_,d){return on(_,"POST","/v1/accounts:signInWithPhoneNumber",Ge(_,d))})).apply(this,arguments)}function Fr(){return(Fr=(0,a.Z)(function*(_,d){const p=yield on(_,"POST","/v1/accounts:signInWithPhoneNumber",Ge(_,d));if(p.temporaryProof)throw An(_,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const ur={USER_NOT_FOUND:"user-not-found"};function Ui(){return(Ui=(0,a.Z)(function*(_,d){return on(_,"POST","/v1/accounts:signInWithPhoneNumber",Ge(_,Object.assign(Object.assign({},d),{operation:"REAUTH"})),ur)})).apply(this,arguments)}class ci extends tr{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,p){return new ci({verificationId:d,verificationCode:p})}static _fromTokenResponse(d,p){return new ci({phoneNumber:d,temporaryProof:p})}_getIdTokenResponse(d){return function Ht(_,d){return pn.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,p){return function Tr(_,d){return Fr.apply(this,arguments)}(d,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function Pi(_,d){return Ui.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:p,verificationId:D,verificationCode:U}=this.params;return d&&p?{temporaryProof:d,phoneNumber:p}:{sessionInfo:D,code:U}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:p,verificationCode:D,phoneNumber:U,temporaryProof:re}=d;return D||p||U||re?new ci({verificationId:p,verificationCode:D,phoneNumber:U,temporaryProof:re}):null}}class ki{constructor(d){var p,D,U,re,Je,Rt;const dn=(0,G.zd)((0,G.pd)(d)),ln=null!==(p=dn.apiKey)&&void 0!==p?p:null,Xn=null!==(D=dn.oobCode)&&void 0!==D?D:null,$n=function ro(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=dn.mode)&&void 0!==U?U:null);he(ln&&Xn&&$n,"argument-error"),this.apiKey=ln,this.operation=$n,this.code=Xn,this.continueUrl=null!==(re=dn.continueUrl)&&void 0!==re?re:null,this.languageCode=null!==(Je=dn.languageCode)&&void 0!==Je?Je:null,this.tenantId=null!==(Rt=dn.tenantId)&&void 0!==Rt?Rt:null}static parseLink(d){const p=function $s(_){const d=(0,G.zd)((0,G.pd)(_)).link,p=d?(0,G.zd)((0,G.pd)(d)).deep_link_id:null,D=(0,G.zd)((0,G.pd)(_)).deep_link_id;return(D?(0,G.zd)((0,G.pd)(D)).link:null)||D||p||d||_}(d);try{return new ki(p)}catch(D){return null}}}let Os=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,D){return Fn._fromEmailAndPassword(p,D)}static credentialWithLink(p,D){const U=ki.parseLink(D);return he(U,"argument-error"),Fn._fromEmailAndCode(p,U.code,U.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Zi{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class yi extends Zi{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class vi extends yi{static credentialFromJSON(d){const p="string"==typeof d?JSON.parse(d):d;return he("providerId"in p&&"signInMethod"in p,"argument-error"),je._fromParams(p)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return he(d.idToken||d.accessToken,"argument-error"),je._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return vi.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return vi.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:D,oauthTokenSecret:U,pendingToken:re,nonce:Je,providerId:Rt}=d;if(!D&&!U&&!p&&!re||!Rt)return null;try{return new vi(Rt)._credential({idToken:p,accessToken:D,nonce:Je,pendingToken:re})}catch(dn){return null}}}let ss=(()=>{class _ extends yi{constructor(){super("facebook.com")}static credential(p){return je._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch(D){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Ts=(()=>{class _ extends yi{constructor(){super("google.com"),this.addScope("profile")}static credential(p,D){return je._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:D})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:D,oauthAccessToken:U}=p;if(!D&&!U)return null;try{return _.credential(D,U)}catch(re){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Us=(()=>{class _ extends yi{constructor(){super("github.com")}static credential(p){return je._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch(D){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class hs extends tr{constructor(d,p){super(d,d),this.pendingToken=p}_getIdTokenResponse(d){return Cr(d,this.buildRequest())}_linkToIdToken(d,p){const D=this.buildRequest();return D.idToken=p,Cr(d,D)}_getReauthenticationResolver(d){const p=this.buildRequest();return p.autoCreate=!1,Cr(d,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d,{providerId:D,signInMethod:U,pendingToken:re}=p;return D&&U&&re&&D===U?new hs(D,re):null}static _create(d,p){return new hs(d,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Si extends Zi{constructor(d){he(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Si.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Si.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const p=hs.fromJSON(d);return he(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:p,providerId:D}=d;if(!p||!D)return null;try{return hs._create(D,p)}catch(U){return null}}}let Xi=(()=>{class _ extends yi{constructor(){super("twitter.com")}static credential(p,D){return je._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:D})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:D,oauthTokenSecret:U}=p;if(!D||!U)return null;try{return _.credential(D,U)}catch(re){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function _i(_,d){return fi.apply(this,arguments)}function fi(){return(fi=(0,a.Z)(function*(_,d){return on(_,"POST","/v1/accounts:signUp",Ge(_,d))})).apply(this,arguments)}class pi{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,D,U=!1){return(0,a.Z)(function*(){const re=yield yn._fromIdTokenResponse(d,D,U),Je=fs(D);return new pi({user:re,providerId:Je,_tokenResponse:D,operationType:p})})()}static _forOperation(d,p,D){return(0,a.Z)(function*(){yield d._updateTokensIfNecessary(D,!0);const U=fs(D);return new pi({user:d,providerId:U,_tokenResponse:D,operationType:p})})()}}function fs(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function ps(){return(ps=(0,a.Z)(function*(_){var d;const p=jt(_);if(yield p._initializationPromise,null===(d=p.currentUser)||void 0===d?void 0:d.isAnonymous)return new pi({user:p.currentUser,providerId:null,operationType:"signIn"});const D=yield _i(p,{returnSecureToken:!0}),U=yield pi._fromIdTokenResponse(p,"signIn",D,!0);return yield p._updateCurrentUser(U.user),U})).apply(this,arguments)}class ii extends G.ZR{constructor(d,p,D,U){var re;super(p.code,p.message),this.operationType=D,this.user=U,Object.setPrototypeOf(this,ii.prototype),this.customData={appName:d.name,tenantId:null!==(re=d.tenantId)&&void 0!==re?re:void 0,_serverResponse:p.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(d,p,D,U){return new ii(d,p,D,U)}}function os(_,d,p,D){return("reauthenticate"===d?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(re=>{throw"auth/multi-factor-auth-required"===re.code?ii._fromErrorAndOperation(_,re,d,D):re})}function $i(_){return new Set(_.map(({providerId:d})=>d).filter(d=>!!d))}function Gi(){return(Gi=(0,a.Z)(function*(_,d){const p=(0,G.m9)(_);yield k(!0,p,d);const{providerUserInfo:D}=yield On(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[d]}),U=$i(D||[]);return p.providerData=p.providerData.filter(re=>U.has(re.providerId)),U.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function N(_,d){return K.apply(this,arguments)}function K(){return(K=(0,a.Z)(function*(_,d,p=!1){const D=yield Qn(_,d._linkToIdToken(_.auth,yield _.getIdToken()),p);return pi._forOperation(_,"link",D)})).apply(this,arguments)}function k(_,d,p){return te.apply(this,arguments)}function te(){return(te=(0,a.Z)(function*(_,d,p){yield kr(d);const U=!1===_?"provider-already-linked":"no-such-provider";he($i(d.providerData).has(p)===_,d.auth,U)})).apply(this,arguments)}function He(_,d){return x.apply(this,arguments)}function x(){return(x=(0,a.Z)(function*(_,d,p=!1){const{auth:D}=_,U="reauthenticate";try{const re=yield Qn(_,os(D,U,d,_),p);he(re.idToken,D,"internal-error");const Je=cn(re.idToken);he(Je,D,"internal-error");const{sub:Rt}=Je;return he(_.uid===Rt,D,"user-mismatch"),pi._forOperation(_,U,re)}catch(re){throw"auth/user-not-found"===(null==re?void 0:re.code)&&mt(D,"user-mismatch"),re}})).apply(this,arguments)}function A(_,d){return S.apply(this,arguments)}function S(){return(S=(0,a.Z)(function*(_,d,p=!1){const D="signIn",U=yield os(_,D,d),re=yield pi._fromIdTokenResponse(_,D,U);return p||(yield _._updateCurrentUser(re.user)),re})).apply(this,arguments)}function z(_,d){return ht.apply(this,arguments)}function ht(){return(ht=(0,a.Z)(function*(_,d){return A(jt(_),d)})).apply(this,arguments)}function Yt(_,d){return In.apply(this,arguments)}function In(){return(In=(0,a.Z)(function*(_,d){const p=(0,G.m9)(_);return yield k(!1,p,d.providerId),N(p,d)})).apply(this,arguments)}function er(_,d){return qn.apply(this,arguments)}function qn(){return(qn=(0,a.Z)(function*(_,d){return He((0,G.m9)(_),d)})).apply(this,arguments)}function $r(_,d){return bi.apply(this,arguments)}function bi(){return(bi=(0,a.Z)(function*(_,d){return on(_,"POST","/v1/accounts:signInWithCustomToken",Ge(_,d))})).apply(this,arguments)}function Yr(){return(Yr=(0,a.Z)(function*(_,d){const p=jt(_),D=yield $r(p,{token:d,returnSecureToken:!0}),U=yield pi._fromIdTokenResponse(p,"signIn",D);return yield p._updateCurrentUser(U.user),U})).apply(this,arguments)}class si{constructor(d,p){this.factorId=d,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(d,p){return"phoneInfo"in p?Ps._fromServerResponse(d,p):mt(d,"internal-error")}}class Ps extends si{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,p){return new Ps(p)}}function xn(_,d,p){var D;he((null===(D=p.url)||void 0===D?void 0:D.length)>0,_,"invalid-continue-uri"),he(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),d.continueUrl=p.url,d.dynamicLinkDomain=p.dynamicLinkDomain,d.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(he(p.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),d.iOSBundleId=p.iOS.bundleId),p.android&&(he(p.android.packageName.length>0,_,"missing-android-pkg-name"),d.androidInstallApp=p.android.installApp,d.androidMinimumVersionCode=p.android.minimumVersion,d.androidPackageName=p.android.packageName)}function Es(){return(Es=(0,a.Z)(function*(_,d,p){const D=(0,G.m9)(_),U={requestType:"PASSWORD_RESET",email:d};p&&xn(D,U,p),yield Qe(D,U)})).apply(this,arguments)}function v(){return(v=(0,a.Z)(function*(_,d,p){yield ir((0,G.m9)(_),{oobCode:d,newPassword:p})})).apply(this,arguments)}function y(){return(y=(0,a.Z)(function*(_,d){yield hr((0,G.m9)(_),{oobCode:d})})).apply(this,arguments)}function g(_,d){return m.apply(this,arguments)}function m(){return(m=(0,a.Z)(function*(_,d){const p=(0,G.m9)(_),D=yield ir(p,{oobCode:d}),U=D.requestType;switch(he(U,p,"internal-error"),U){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":he(D.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":he(D.mfaInfo,p,"internal-error");default:he(D.email,p,"internal-error")}let re=null;return D.mfaInfo&&(re=si._fromServerResponse(jt(p),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:re},operation:U}})).apply(this,arguments)}function ie(){return(ie=(0,a.Z)(function*(_,d){const{data:p}=yield g((0,G.m9)(_),d);return p.email})).apply(this,arguments)}function nt(){return(nt=(0,a.Z)(function*(_,d,p){const D=jt(_),U=yield _i(D,{returnSecureToken:!0,email:d,password:p}),re=yield pi._fromIdTokenResponse(D,"signIn",U);return yield D._updateCurrentUser(re.user),re})).apply(this,arguments)}function Kt(){return(Kt=(0,a.Z)(function*(_,d,p){const D=(0,G.m9)(_),U={requestType:"EMAIL_SIGNIN",email:d};he(p.handleCodeInApp,D,"argument-error"),p&&xn(D,U,p),yield we(D,U)})).apply(this,arguments)}function Sr(){return(Sr=(0,a.Z)(function*(_,d,p){const D=(0,G.m9)(_),U=Os.credentialWithLink(d,p||pt());return he(U._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),z(D,U)})).apply(this,arguments)}function fr(_,d){return Or.apply(this,arguments)}function Or(){return(Or=(0,a.Z)(function*(_,d){return Ft(_,"POST","/v1/accounts:createAuthUri",Ge(_,d))})).apply(this,arguments)}function ti(){return(ti=(0,a.Z)(function*(_,d){const D={identifier:d,continueUri:kt()?pt():"http://localhost"},{signinMethods:U}=yield fr((0,G.m9)(_),D);return U||[]})).apply(this,arguments)}function Qi(){return(Qi=(0,a.Z)(function*(_,d){const p=(0,G.m9)(_),U={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};d&&xn(p.auth,U,d);const{email:re}=yield pe(p.auth,U);re!==_.email&&(yield _.reload())})).apply(this,arguments)}function Ai(){return(Ai=(0,a.Z)(function*(_,d,p){const D=(0,G.m9)(_),re={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:d};p&&xn(D.auth,re,p);const{email:Je}=yield _t(D.auth,re);Je!==_.email&&(yield _.reload())})).apply(this,arguments)}function xi(_,d){return io.apply(this,arguments)}function io(){return(io=(0,a.Z)(function*(_,d){return Ft(_,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function oo(){return(oo=(0,a.Z)(function*(_,{displayName:d,photoURL:p}){if(void 0===d&&void 0===p)return;const D=(0,G.m9)(_),re={idToken:yield D.getIdToken(),displayName:d,photoUrl:p,returnSecureToken:!0},Je=yield Qn(D,xi(D.auth,re));D.displayName=Je.displayName||null,D.photoURL=Je.photoUrl||null;const Rt=D.providerData.find(({providerId:dn})=>"password"===dn);Rt&&(Rt.displayName=D.displayName,Rt.photoURL=D.photoURL),yield D._updateTokensIfNecessary(Je)})).apply(this,arguments)}function Xo(_,d,p){return $o.apply(this,arguments)}function $o(){return($o=(0,a.Z)(function*(_,d,p){const{auth:D}=_,re={idToken:yield _.getIdToken(),returnSecureToken:!0};d&&(re.email=d),p&&(re.password=p);const Je=yield Qn(_,Rr(D,re));yield _._updateTokensIfNecessary(Je,!0)})).apply(this,arguments)}class Ji{constructor(d,p,D={}){this.isNewUser=d,this.providerId=p,this.profile=D}}class Xa extends Ji{constructor(d,p,D,U){super(d,p,D),this.username=U}}class Aa extends Ji{constructor(d,p){super(d,"facebook.com",p)}}class Uo extends Xa{constructor(d,p){super(d,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class jo extends Ji{constructor(d,p){super(d,"google.com",p)}}class Mo extends Xa{constructor(d,p,D){super(d,"twitter.com",p,D)}}function Qa(_){const{user:d,_tokenResponse:p}=_;return d.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Za(_){var d,p;if(!_)return null;const{providerId:D}=_,U=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},re=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!D&&(null==_?void 0:_.idToken)){const Je=null===(p=null===(d=cn(_.idToken))||void 0===d?void 0:d.firebase)||void 0===p?void 0:p.sign_in_provider;if(Je)return new Ji(re,"anonymous"!==Je&&"custom"!==Je?Je:null)}if(!D)return null;switch(D){case"facebook.com":return new Aa(re,U);case"github.com":return new Uo(re,U);case"google.com":return new jo(re,U);case"twitter.com":return new Mo(re,U,_.screenName||null);case"custom":case"anonymous":return new Ji(re,null);default:return new Ji(re,D,U)}}(p)}class uo{constructor(d,p){this.type=d,this.credential=p}static _fromIdtoken(d){return new uo("enroll",d)}static _fromMfaPendingCredential(d){return new uo("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var p,D;if(null==d?void 0:d.multiFactorSession){if(null===(p=d.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return uo._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null===(D=d.multiFactorSession)||void 0===D?void 0:D.idToken)return uo._fromIdtoken(d.multiFactorSession.idToken)}return null}}class _o{constructor(d,p,D){this.session=d,this.hints=p,this.signInResolver=D}static _fromError(d,p){const D=jt(d),U=p.customData._serverResponse,re=(U.mfaInfo||[]).map(Rt=>si._fromServerResponse(D,Rt));he(U.mfaPendingCredential,D,"internal-error");const Je=uo._fromMfaPendingCredential(U.mfaPendingCredential);return new _o(Je,re,function(){var Rt=(0,a.Z)(function*(dn){const ln=yield dn._process(D,Je);delete U.mfaInfo,delete U.mfaPendingCredential;const Xn=Object.assign(Object.assign({},U),{idToken:ln.idToken,refreshToken:ln.refreshToken});switch(p.operationType){case"signIn":const $n=yield pi._fromIdTokenResponse(D,p.operationType,Xn);return yield D._updateCurrentUser($n.user),$n;case"reauthenticate":return he(p.user,D,"internal-error"),pi._forOperation(p.user,p.operationType,Xn);default:mt(D,"internal-error")}});return function(dn){return Rt.apply(this,arguments)}}())}resolveSignIn(d){var p=this;return(0,a.Z)(function*(){return p.signInResolver(d)})()}}function Ro(_,d){return Ft(_,"POST","/v2/accounts/mfaEnrollment:start",Ge(_,d))}class bo{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(D=>si._fromServerResponse(d.auth,D)))})}static _fromUser(d){return new bo(d)}getSession(){var d=this;return(0,a.Z)(function*(){return uo._fromIdtoken(yield d.user.getIdToken())})()}enroll(d,p){var D=this;return(0,a.Z)(function*(){const U=d,re=yield D.getSession(),Je=yield Qn(D.user,U._process(D.user.auth,re,p));return yield D.user._updateTokensIfNecessary(Je),D.user.reload()})()}unenroll(d){var p=this;return(0,a.Z)(function*(){const D="string"==typeof d?d:d.uid,U=yield p.user.getIdToken(),re=yield Qn(p.user,function Ra(_,d){return Ft(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Ge(_,d))}(p.user.auth,{idToken:U,mfaEnrollmentId:D}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Je})=>Je!==D),yield p.user._updateTokensIfNecessary(re);try{yield p.user.reload()}catch(Je){if("auth/user-token-expired"!==Je.code)throw Je}})()}}const ks=new WeakMap,Ho="__sak";class Jo{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Ho,"1"),this.storage.removeItem(Ho),Promise.resolve(!0)):Promise.resolve(!1)}catch(d){return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Oo=(()=>{class _ extends Jo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,D)=>this.onStorageEvent(p,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Qs(){const _=(0,G.z$)();return Gr(_)||wr(_)}()&&function Me(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=tt(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const D of Object.keys(this.listeners)){const U=this.storage.getItem(D),re=this.localCache[D];U!==re&&p(D,re,U)}}onStorageEvent(p,D=!1){if(!p.key)return void this.forAllChangedKeys((Rt,dn,ln)=>{this.notifyListeners(Rt,ln)});const U=p.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Rt=this.storage.getItem(U);if(p.newValue!==Rt)null!==p.newValue?this.storage.setItem(U,p.newValue):this.storage.removeItem(U);else if(this.localCache[U]===p.newValue&&!D)return}const re=()=>{const Rt=this.storage.getItem(U);!D&&this.localCache[U]===Rt||this.notifyListeners(U,Rt)},Je=this.storage.getItem(U);!function Mr(){return(0,G.w1)()&&10===document.documentMode}()||Je===p.newValue||p.newValue===p.oldValue?re():setTimeout(re,10)}notifyListeners(p,D){this.localCache[p]=D;const U=this.listeners[p];if(U)for(const re of Array.from(U))re(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,D,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:D,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(D)}_removeListener(p,D){this.listeners[p]&&(this.listeners[p].delete(D),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,D){var U=()=>super._set,re=this;return(0,a.Z)(function*(){yield U().call(re,p,D),re.localCache[p]=JSON.stringify(D)})()}_get(p){var D=()=>super._get,U=this;return(0,a.Z)(function*(){const re=yield D().call(U,p);return U.localCache[p]=JSON.stringify(re),re})()}_remove(p){var D=()=>super._remove,U=this;return(0,a.Z)(function*(){yield D().call(U,p),delete U.localCache[p]})()}}return _.type="LOCAL",_})(),js=(()=>{class _ extends Jo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,D){}_removeListener(p,D){}}return _.type="SESSION",_})();let Oa=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const D=this.receivers.find(re=>re.isListeningto(p));if(D)return D;const U=new _(p);return this.receivers.push(U),U}isListeningto(p){return this.eventTarget===p}handleEvent(p){var D=this;return(0,a.Z)(function*(){const U=p,{eventId:re,eventType:Je,data:Rt}=U.data,dn=D.handlersMap[Je];if(!(null==dn?void 0:dn.size))return;U.ports[0].postMessage({status:"ack",eventId:re,eventType:Je});const ln=Array.from(dn).map(function(){var $n=(0,a.Z)(function*(_s){return _s(U.origin,Rt)});return function(_s){return $n.apply(this,arguments)}}()),Xn=yield function ea(_){return Promise.all(_.map(function(){var d=(0,a.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(D){return{fulfilled:!1,reason:D}}});return function(p){return d.apply(this,arguments)}}()))}(ln);U.ports[0].postMessage({status:"done",eventId:re,eventType:Je,response:Xn})})()}_subscribe(p,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(D)}_unsubscribe(p,D){this.handlersMap[p]&&D&&this.handlersMap[p].delete(D),(!D||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function lo(_="",d=10){let p="";for(let D=0;D<d;D++)p+=Math.floor(10*Math.random());return _+p}class Pa{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,D=50){var U=this;return(0,a.Z)(function*(){const re="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!re)throw new Error("connection_unavailable");let Je,Rt;return new Promise((dn,ln)=>{const Xn=lo("",20);re.port1.start();const $n=setTimeout(()=>{ln(new Error("unsupported_event"))},D);Rt={messageChannel:re,onMessage(_s){const Vo=_s;if(Vo.data.eventId===Xn)switch(Vo.data.status){case"ack":clearTimeout($n),Je=setTimeout(()=>{ln(new Error("timeout"))},3e3);break;case"done":clearTimeout(Je),dn(Vo.data.response);break;default:clearTimeout($n),clearTimeout(Je),ln(new Error("invalid_response"))}}},U.handlers.add(Rt),re.port1.addEventListener("message",Rt.onMessage),U.target.postMessage({eventType:d,eventId:Xn,data:p},[re.port2])}).finally(()=>{Rt&&U.removeMessageHandler(Rt)})})()}}function di(){return window}function ka(){return void 0!==di().WorkerGlobalScope&&"function"==typeof di().importScripts}function Li(){return(Li=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const ca="firebaseLocalStorageDb",Qt="firebaseLocalStorage",wi="fbase_key";class Fs{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function es(_,d){return _.transaction([Qt],d?"readwrite":"readonly").objectStore(Qt)}function jn(){const _=indexedDB.open(ca,1);return new Promise((d,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const D=_.result;try{D.createObjectStore(Qt,{keyPath:wi})}catch(U){p(U)}}),_.addEventListener("success",(0,a.Z)(function*(){const D=_.result;D.objectStoreNames.contains(Qt)?d(D):(D.close(),yield function Dn(){const _=indexedDB.deleteDatabase(ca);return new Fs(_).toPromise()}(),d(yield jn()))}))})}function Io(_,d,p){return hn.apply(this,arguments)}function hn(){return(hn=(0,a.Z)(function*(_,d,p){const D=es(_,!0).put({[wi]:d,value:p});return new Fs(D).toPromise()})).apply(this,arguments)}function C(){return(C=(0,a.Z)(function*(_,d){const p=es(_,!1).get(d),D=yield new Fs(p).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function I(_,d){const p=es(_,!0).delete(d);return new Fs(p).toPromise()}const Z=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,a.Z)(function*(){return p.db||(p.db=yield jn()),p.db})()}_withRetries(p){var D=this;return(0,a.Z)(function*(){let U=0;for(;;)try{const re=yield D._openDb();return yield p(re)}catch(re){if(U++>3)throw re;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,a.Z)(function*(){return ka()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,a.Z)(function*(){p.receiver=Oa._getInstance(function zo(){return ka()?self:null}()),p.receiver._subscribe("keyChanged",function(){var D=(0,a.Z)(function*(U,re){return{keyProcessed:(yield p._poll()).includes(re.key)}});return function(U,re){return D.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var D=(0,a.Z)(function*(U,re){return["keyChanged"]});return function(U,re){return D.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,a.Z)(function*(){var D,U;if(p.activeServiceWorker=yield function Eo(){return Li.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Pa(p.activeServiceWorker);const re=yield p.sender._send("ping",{},800);!re||(null===(D=re[0])||void 0===D?void 0:D.fulfilled)&&(null===(U=re[0])||void 0===U?void 0:U.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var D=this;return(0,a.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function wo(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:p},D.serviceWorkerReceiverAvailable?800:50)}catch(U){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const p=yield jn();return yield Io(p,Ho,"1"),yield I(p,Ho),!0}catch(p){}return!1})()}_withPendingWrite(p){var D=this;return(0,a.Z)(function*(){D.pendingWrites++;try{yield p()}finally{D.pendingWrites--}})()}_set(p,D){var U=this;return(0,a.Z)(function*(){return U._withPendingWrite((0,a.Z)(function*(){return yield U._withRetries(re=>Io(re,p,D)),U.localCache[p]=D,U.notifyServiceWorker(p)}))})()}_get(p){var D=this;return(0,a.Z)(function*(){const U=yield D._withRetries(re=>function Tt(_,d){return C.apply(this,arguments)}(re,p));return D.localCache[p]=U,U})()}_remove(p){var D=this;return(0,a.Z)(function*(){return D._withPendingWrite((0,a.Z)(function*(){return yield D._withRetries(U=>I(U,p)),delete D.localCache[p],D.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,a.Z)(function*(){const D=yield p._withRetries(Je=>{const Rt=es(Je,!1).getAll();return new Fs(Rt).toPromise()});if(!D)return[];if(0!==p.pendingWrites)return[];const U=[],re=new Set;for(const{fbase_key:Je,value:Rt}of D)re.add(Je),JSON.stringify(p.localCache[Je])!==JSON.stringify(Rt)&&(p.notifyListeners(Je,Rt),U.push(Je));for(const Je of Object.keys(p.localCache))p.localCache[Je]&&!re.has(Je)&&(p.notifyListeners(Je,null),U.push(Je));return U})()}notifyListeners(p,D){this.localCache[p]=D;const U=this.listeners[p];if(U)for(const re of Array.from(U))re(D)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(D)}_removeListener(p,D){this.listeners[p]&&(this.listeners[p].delete(D),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Ce(_,d){return Ft(_,"POST","/v2/accounts/mfaSignIn:start",Ge(_,d))}function En(){return(En=(0,a.Z)(function*(_){return(yield Ft(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Cn(_){return new Promise((d,p)=>{const D=document.createElement("script");D.setAttribute("src",_),D.onload=d,D.onerror=U=>{const re=Dt("internal-error");re.customData=U,p(re)},D.type="text/javascript",D.charset="UTF-8",function _r(){var _,d;return null!==(d=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==d?d:document}().appendChild(D)})}function Nr(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Bi=1e12;class ws{constructor(d){this.auth=d,this.counter=Bi,this._widgets=new Map}render(d,p){const D=this.counter;return this._widgets.set(D,new Zr(d,this.auth.name,p||{})),this.counter++,D}reset(d){var p;const D=d||Bi;null===(p=this._widgets.get(D))||void 0===p||p.delete(),this._widgets.delete(D)}getResponse(d){var p;return(null===(p=this._widgets.get(d||Bi))||void 0===p?void 0:p.getResponse())||""}execute(d){var p=this;return(0,a.Z)(function*(){var D;return null===(D=p._widgets.get(d||Bi))||void 0===D||D.execute(),""})()}}class Zr{constructor(d,p,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const U="string"==typeof d?document.getElementById(d):d;he(U,"argument-error",{appName:p}),this.container=U,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Vn(_){const d=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<_;D++)d.push(p.charAt(Math.floor(Math.random()*p.length)));return d.join("")}(50);const{callback:d,"expired-callback":p}=this.params;if(d)try{d(this.responseToken)}catch(D){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(D){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ys=Nr("rcb"),co=new Xe(3e4,6e4);class Ii{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!di().grecaptcha}load(d,p=""){return he(function Ur(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(p),d,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(di().grecaptcha):new Promise((D,U)=>{const re=di().setTimeout(()=>{U(Dt(d,"network-request-failed"))},co.get());di()[ys]=()=>{di().clearTimeout(re),delete di()[ys];const Rt=di().grecaptcha;if(!Rt)return void U(Dt(d,"internal-error"));const dn=Rt.render;Rt.render=(ln,Xn)=>{const $n=dn(ln,Xn);return this.counter++,$n},this.hostLanguage=p,D(Rt)},Cn(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:ys,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(re),U(Dt(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){return!!di().grecaptcha&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Yc{load(d){return(0,a.Z)(function*(){return new ws(d)})()}clearedOneInstance(){}}const ts="recaptcha",Ja={theme:"light",type:"image"};class Jd{constructor(d,p=Object.assign({},Ja),D){this.parameters=p,this.type=ts,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=jt(D),this.isInvisible="invisible"===this.parameters.size,he("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const U="string"==typeof d?document.getElementById(d):d;he(U,this.auth,"argument-error"),this.container=U,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Yc:new Ii,this.validateStartingState()}verify(){var d=this;return(0,a.Z)(function*(){d.assertNotDestroyed();const p=yield d.render(),D=d.getAssertedRecaptcha();return D.getResponse(p)||new Promise(re=>{const Je=Rt=>{!Rt||(d.tokenChangeListeners.delete(Je),re(Rt))};d.tokenChangeListeners.add(Je),d.isInvisible&&D.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){he(!this.parameters.sitekey,this.auth,"argument-error"),he(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),he("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return p=>{if(this.tokenChangeListeners.forEach(D=>D(p)),"function"==typeof d)d(p);else if("string"==typeof d){const D=di()[d];"function"==typeof D&&D(p)}}}assertNotDestroyed(){he(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,a.Z)(function*(){if(yield d.init(),!d.widgetId){let p=d.container;if(!d.isInvisible){const D=document.createElement("div");p.appendChild(D),p=D}d.widgetId=d.getAssertedRecaptcha().render(p,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,a.Z)(function*(){he(kt()&&!ka(),d.auth,"internal-error"),yield function vs(){let _=null;return new Promise(d=>{"complete"!==document.readyState?(_=()=>d(),window.addEventListener("load",_)):d()}).catch(d=>{throw _&&window.removeEventListener("load",_),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const p=yield function Ot(_){return En.apply(this,arguments)}(d.auth);he(p,d.auth,"internal-error"),d.parameters.sitekey=p})()}getAssertedRecaptcha(){return he(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Yl{constructor(d,p){this.verificationId=d,this.onConfirmation=p}confirm(d){const p=ci._fromVerification(this.verificationId,d);return this.onConfirmation(p)}}function Vi(){return(Vi=(0,a.Z)(function*(_,d,p){const D=jt(_),U=yield Na(D,d,(0,G.m9)(p));return new Yl(U,re=>z(D,re))})).apply(this,arguments)}function Wo(){return(Wo=(0,a.Z)(function*(_,d,p){const D=(0,G.m9)(_);yield k(!1,D,"phone");const U=yield Na(D.auth,d,(0,G.m9)(p));return new Yl(U,re=>Yt(D,re))})).apply(this,arguments)}function na(){return(na=(0,a.Z)(function*(_,d,p){const D=(0,G.m9)(_),U=yield Na(D.auth,d,(0,G.m9)(p));return new Yl(U,re=>er(D,re))})).apply(this,arguments)}function Na(_,d,p){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,a.Z)(function*(_,d,p){var D;const U=yield p.verify();try{let re;if(he("string"==typeof U,_,"argument-error"),he(p.type===ts,_,"argument-error"),re="string"==typeof d?{phoneNumber:d}:d,"session"in re){const Je=re.session;if("phoneNumber"in re)return he("enroll"===Je.type,_,"internal-error"),(yield Ro(_,{idToken:Je.credential,phoneEnrollmentInfo:{phoneNumber:re.phoneNumber,recaptchaToken:U}})).phoneSessionInfo.sessionInfo;{he("signin"===Je.type,_,"internal-error");const Rt=(null===(D=re.multiFactorHint)||void 0===D?void 0:D.uid)||re.multiFactorUid;return he(Rt,_,"missing-multi-factor-info"),(yield Ce(_,{mfaPendingCredential:Je.credential,mfaEnrollmentId:Rt,phoneSignInInfo:{recaptchaToken:U}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Je}=yield at(_,{phoneNumber:re.phoneNumber,recaptchaToken:U});return Je}}finally{p._reset()}})).apply(this,arguments)}function Po(){return(Po=(0,a.Z)(function*(_,d){yield N((0,G.m9)(_),d)})).apply(this,arguments)}let ra=(()=>{class _{constructor(p){this.providerId=_.PROVIDER_ID,this.auth=jt(p)}verifyPhoneNumber(p,D){return Na(this.auth,p,(0,G.m9)(D))}static credential(p,D){return ci._fromVerification(p,D)}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:D,temporaryProof:U}=p;return D&&U?ci._fromTokenResponse(D,U):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function sn(_,d){return d?ae(d):(he(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class ko extends tr{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Cr(d,this._buildIdpRequest())}_linkToIdToken(d,p){return Cr(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return Cr(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function Tu(_){return A(_.auth,new ko(_),_.bypassAuthState)}function ha(_){const{auth:d,user:p}=_;return he(p,d,"internal-error"),He(p,new ko(_),_.bypassAuthState)}function Gs(_){return fa.apply(this,arguments)}function fa(){return(fa=(0,a.Z)(function*(_){const{auth:d,user:p}=_;return he(p,d,"internal-error"),N(p,new ko(_),_.bypassAuthState)})).apply(this,arguments)}class No{constructor(d,p,D,U,re=!1){this.auth=d,this.resolver=D,this.user=U,this.bypassAuthState=re,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,a.Z)(function*(D,U){d.pendingPromise={resolve:D,reject:U};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(re){d.reject(re)}});return function(D,U){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,a.Z)(function*(){const{urlResponse:D,sessionId:U,postBody:re,tenantId:Je,error:Rt,type:dn}=d;if(Rt)return void p.reject(Rt);const ln={auth:p.auth,requestUri:D,sessionId:U,tenantId:Je||void 0,postBody:re||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(dn)(ln))}catch(Xn){p.reject(Xn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return Tu;case"linkViaPopup":case"linkViaRedirect":return Gs;case"reauthViaPopup":case"reauthViaRedirect":return ha;default:mt(this.auth,"internal-error")}}resolve(d){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zs=new Xe(2e3,1e4);function Fo(){return(Fo=(0,a.Z)(function*(_,d,p){const D=jt(_);Pe(_,d,Zi);const U=sn(D,p);return new Au(D,"signInViaPopup",d,U).executeNotNull()})).apply(this,arguments)}function Fa(){return(Fa=(0,a.Z)(function*(_,d,p){const D=(0,G.m9)(_);Pe(D.auth,d,Zi);const U=sn(D.auth,p);return new Au(D.auth,"reauthViaPopup",d,U,D).executeNotNull()})).apply(this,arguments)}function eu(){return(eu=(0,a.Z)(function*(_,d,p){const D=(0,G.m9)(_);Pe(D.auth,d,Zi);const U=sn(D.auth,p);return new Au(D.auth,"linkViaPopup",d,U,D).executeNotNull()})).apply(this,arguments)}let Au=(()=>{class _ extends No{constructor(p,D,U,re,Je){super(p,D,re,Je),this.provider=U,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var p=this;return(0,a.Z)(function*(){const D=yield p.execute();return he(D,p.auth,"internal-error"),D})()}onExecution(){var p=this;return(0,a.Z)(function*(){le(1===p.filter.length,"Popup operations only handle one event");const D=lo();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],D),p.authWindow.associatedEvent=D,p.resolver._originValidation(p.auth).catch(U=>{p.reject(U)}),p.resolver._isIframeWebStorageSupported(p.auth,U=>{U||p.reject(Dt(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Dt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const p=()=>{var D,U;this.pollId=(null===(U=null===(D=this.authWindow)||void 0===D?void 0:D.window)||void 0===U?void 0:U.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Dt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,zs.get())};p()}}return _.currentPopupAction=null,_})();const ia=new Map;class O extends No{constructor(d,p,D=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,D),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,a.Z)(function*(){let D=ia.get(p.auth._key());if(!D){try{const re=(yield function B(_,d){return J.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;D=()=>Promise.resolve(re)}catch(U){D=()=>Promise.reject(U)}ia.set(p.auth._key(),D)}return p.bypassAuthState||ia.set(p.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,D=this;return(0,a.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(D,d);if("unknown"!==d.type){if(d.eventId){const U=yield D.auth._redirectUserForId(d.eventId);if(U)return D.user=U,p().call(D,d);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function J(){return(J=(0,a.Z)(function*(_,d){const p=nr(d),D=nn(_);if(!(yield D._isAvailable()))return!1;const U="true"===(yield D._get(p));return yield D._remove(p),U})).apply(this,arguments)}function Oe(_,d){return ct.apply(this,arguments)}function ct(){return(ct=(0,a.Z)(function*(_,d){return nn(_)._set(nr(d),"true")})).apply(this,arguments)}function Zt(_,d){ia.set(_._key(),d)}function nn(_){return ae(_._redirectPersistence)}function nr(_){return Pn("pendingRedirect",_.config.apiKey,_.name)}function cr(){return(cr=(0,a.Z)(function*(_,d,p){const D=jt(_);Pe(_,d,Zi);const U=sn(D,p);return yield Oe(U,D),U._openRedirect(D,d,"signInViaRedirect")})).apply(this,arguments)}function La(){return(La=(0,a.Z)(function*(_,d,p){const D=(0,G.m9)(_);Pe(D.auth,d,Zi);const U=sn(D.auth,p);yield Oe(U,D.auth);const re=yield tu(D);return U._openRedirect(D.auth,d,"reauthViaRedirect",re)})).apply(this,arguments)}function oi(){return(oi=(0,a.Z)(function*(_,d,p){const D=(0,G.m9)(_);Pe(D.auth,d,Zi);const U=sn(D.auth,p);yield k(!1,D,d.providerId),yield Oe(U,D.auth);const re=yield tu(D);return U._openRedirect(D.auth,d,"linkViaRedirect",re)})).apply(this,arguments)}function Ri(){return(Ri=(0,a.Z)(function*(_,d){return yield jt(_)._initializationPromise,gi(_,d,!1)})).apply(this,arguments)}function gi(_,d){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,a.Z)(function*(_,d,p=!1){const D=jt(_),U=sn(D,d),Je=yield new O(D,U,p).execute();return Je&&!p&&(delete Je.user._redirectEventId,yield D._persistUserIfCurrent(Je.user),yield D._setRedirectUser(null,d)),Je})).apply(this,arguments)}function tu(_){return nu.apply(this,arguments)}function nu(){return(nu=(0,a.Z)(function*(_){const d=lo(`${_.uid}:::`);return _._redirectEventId=d,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),d})).apply(this,arguments)}class ga{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(d,D)&&(p=!0,this.sendToConsumer(d,D),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function hl(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mu(_);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var D;if(d.error&&!Mu(d)){const U=(null===(D=d.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";p.onError(Dt(this.auth,U))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const D=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&D}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ru(d))}saveEventToCache(d){this.cachedEventUids.add(ru(d)),this.lastProcessedEventTime=Date.now()}}function ru(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(d=>d).join("-")}function Mu({type:_,error:d}){return"unknown"===_&&"auth/no-auth-event"===(null==d?void 0:d.code)}function iu(_){return su.apply(this,arguments)}function su(){return(su=(0,a.Z)(function*(_,d={}){return Ft(_,"GET","/v1/projects",d)})).apply(this,arguments)}const Kc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ls=/^https?/;function Va(){return(Va=(0,a.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:d}=yield iu(_);for(const p of d)try{if(fl(p))return}catch(D){}mt(_,"unauthorized-domain")})).apply(this,arguments)}function fl(_){const d=pt(),{protocol:p,hostname:D}=new URL(d);if(_.startsWith("chrome-extension://")){const Je=new URL(_);return""===Je.hostname&&""===D?"chrome-extension:"===p&&_.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&Je.hostname===D}if(!Ls.test(p))return!1;if(Kc.test(_))return D===_;const U=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(D)}const eh=new Xe(3e4,6e4);function Nf(){const _=di().___jsl;if(null==_?void 0:_.H)for(const d of Object.keys(_.H))if(_.H[d].r=_.H[d].r||[],_.H[d].L=_.H[d].L||[],_.H[d].r=[..._.H[d].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let Zl=null;function $g(_){return Zl=Zl||function th(_){return new Promise((d,p)=>{var D,U,re;function Je(){Nf(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Nf(),p(Dt(_,"network-request-failed"))},timeout:eh.get()})}if(null===(U=null===(D=di().gapi)||void 0===D?void 0:D.iframes)||void 0===U?void 0:U.Iframe)d(gapi.iframes.getContext());else{if(!(null===(re=di().gapi)||void 0===re?void 0:re.load)){const Rt=Nr("iframefcb");return di()[Rt]=()=>{gapi.load?Je():p(Dt(_,"network-request-failed"))},Cn(`https://apis.google.com/js/api.js?onload=${Rt}`).catch(dn=>p(dn))}Je()}}).catch(d=>{throw Zl=null,d})}(_),Zl}const $a=new Xe(5e3,15e3),pl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fo(_){const d=_.config;he(d.authDomain,_,"auth-domain-config-required");const p=d.emulator?st(d,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,D={apiKey:d.apiKey,appName:_.name,v:Fe.SDK_VERSION},U=Xl.get(_.config.apiHost);U&&(D.eid=U);const re=_._getFrameworks();return re.length&&(D.fw=re.join(",")),`${p}?${(0,G.xO)(D).slice(1)}`}function Ua(){return Ua=(0,a.Z)(function*(_){const d=yield $g(_),p=di().gapi;return he(p,_,"internal-error"),d.open({where:document.body,url:fo(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pl,dontclear:!0},D=>new Promise(function(){var U=(0,a.Z)(function*(re,Je){yield D.restyle({setHideOnLeave:!1});const Rt=Dt(_,"network-request-failed"),dn=di().setTimeout(()=>{Je(Rt)},$a.get());function ln(){di().clearTimeout(dn),re(D)}D.ping(ln).then(ln,()=>{Je(Rt)})});return function(re,Je){return U.apply(this,arguments)}}()))}),Ua.apply(this,arguments)}const Ug={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class po{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(d){}}}function yl(_,d,p,D,U,re){he(_.config.authDomain,_,"auth-domain-config-required"),he(_.config.apiKey,_,"invalid-api-key");const Je={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:D,v:Fe.SDK_VERSION,eventId:U};if(d instanceof Zi){d.setDefaultLanguage(_.languageCode),Je.providerId=d.providerId||"",(0,G.xb)(d.getCustomParameters())||(Je.customParameters=JSON.stringify(d.getCustomParameters()));for(const[dn,ln]of Object.entries(re||{}))Je[dn]=ln}if(d instanceof yi){const dn=d.getScopes().filter(ln=>""!==ln);dn.length>0&&(Je.scopes=dn.join(","))}_.tenantId&&(Je.tid=_.tenantId);const Rt=Je;for(const dn of Object.keys(Rt))void 0===Rt[dn]&&delete Rt[dn];return`${function ih({config:_}){return _.emulator?st(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,G.xO)(Rt).slice(1)}`}const qo="webStorageSupport";class Jc extends class Lf{constructor(d){this.factorId=d}_process(d,p,D){switch(p.type){case"enroll":return this._finalizeEnroll(d,p.credential,D);case"signin":return this._finalizeSignIn(d,p.credential);default:return Se("unexpected MultiFactorSessionType")}}}{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Jc(d)}_finalizeEnroll(d,p,D){return function Ma(_,d){return Ft(_,"POST","/v2/accounts/mfaEnrollment:finalize",Ge(_,d))}(d,{idToken:p,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,p){return function We(_,d){return Ft(_,"POST","/v2/accounts/mfaSignIn:finalize",Ge(_,d))}(d,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ed=(()=>{class _{constructor(){}static assertion(p){return Jc._fromCredential(p)}}return _.FACTOR_ID="phone",_})();var Bf="@firebase/auth";class td{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,a.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(D=>{var U;d((null===(U=D)||void 0===U?void 0:U.stsTokenManager.accessToken)||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);!p||(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Co(){return window}function uu(){return(uu=(0,a.Z)(function*(_,d,p){var D;const{BuildInfo:U}=Co();le(d.sessionId,"AuthEvent did not contain a session ID");const re=yield rd(d.sessionId),Je={};return wr()?Je.ibi=U.packageName:hi()?Je.apn=U.packageName:mt(_,"operation-not-supported-in-this-environment"),U.displayName&&(Je.appDisplayName=U.displayName),Je.sessionId=re,yl(_,p,d.type,void 0,null!==(D=d.eventId)&&void 0!==D?D:void 0,Je)})).apply(this,arguments)}function qs(){return(qs=(0,a.Z)(function*(_){const{BuildInfo:d}=Co(),p={};wr()?p.iosBundleId=d.packageName:hi()?p.androidPackageName=d.packageName:mt(_,"operation-not-supported-in-this-environment"),yield iu(_,p)})).apply(this,arguments)}function Wi(){return(Wi=(0,a.Z)(function*(_,d,p){const{cordova:D}=Co();let U=()=>{};try{yield new Promise((re,Je)=>{let Rt=null;function dn(){var $n;re();const _s=null===($n=D.plugins.browsertab)||void 0===$n?void 0:$n.close;"function"==typeof _s&&_s(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function ln(){Rt||(Rt=window.setTimeout(()=>{Je(Dt(_,"redirect-cancelled-by-user"))},2e3))}function Xn(){"visible"===(null==document?void 0:document.visibilityState)&&ln()}d.addPassiveListener(dn),document.addEventListener("resume",ln,!1),hi()&&document.addEventListener("visibilitychange",Xn,!1),U=()=>{d.removePassiveListener(dn),document.removeEventListener("resume",ln,!1),document.removeEventListener("visibilitychange",Xn,!1),Rt&&window.clearTimeout(Rt)}})}finally{U()}})).apply(this,arguments)}function rd(_){return oh.apply(this,arguments)}function oh(){return(oh=(0,a.Z)(function*(_){const d=ah(_),p=yield crypto.subtle.digest("SHA-256",d);return Array.from(new Uint8Array(p)).map(U=>U.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ah(_){if(le(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const d=new ArrayBuffer(_.length),p=new Uint8Array(d);for(let D=0;D<_.length;D++)p[D]=_.charCodeAt(D);return p}!function au(_){(0,Fe._registerComponent)(new De.wA("auth",(d,{options:p})=>{const D=d.getProvider("app").getImmediate(),U=d.getProvider("heartbeat"),{apiKey:re,authDomain:Je}=D.options;return((Rt,dn)=>{he(re&&!re.includes(":"),"invalid-api-key",{appName:Rt.name}),he(!(null==Je?void 0:Je.includes(":")),"argument-error",{appName:Rt.name});const ln={apiKey:re,authDomain:Je,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:me(_)},Xn=new bt(Rt,dn,ln);return function $e(_,d){const p=(null==d?void 0:d.persistence)||[],D=(Array.isArray(p)?p:[p]).map(ae);(null==d?void 0:d.errorMap)&&_._updateErrorMap(d.errorMap),_._initializeWithPersistence(D,null==d?void 0:d.popupRedirectResolver)}(Xn,p),Xn})(D,U)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,D)=>{d.getProvider("auth-internal").initialize()})),(0,Fe._registerComponent)(new De.wA("auth-internal",d=>{const p=jt(d.getProvider("auth").getImmediate());return new td(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Fe.registerVersion)(Bf,"0.20.1",function Pu(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,Fe.registerVersion)(Bf,"0.20.1","esm2017")}("Browser");class Jl extends ga{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(d=>{this.resolveInialized=d})}addPassiveListener(d){this.passiveListeners.add(d)}removePassiveListener(d){this.passiveListeners.delete(d)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(d){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(d)),super.onEvent(d)}initialized(){var d=this;return(0,a.Z)(function*(){yield d.initPromise})()}}function lu(_){return El.apply(this,arguments)}function El(){return(El=(0,a.Z)(function*(_){const d=yield cu()._get(wl(_));return d&&(yield cu()._remove(wl(_))),d})).apply(this,arguments)}function lh(){const _=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const D=Math.floor(Math.random()*d.length);_.push(d.charAt(D))}return _.join("")}function cu(){return ae(Oo)}function wl(_){return Pn("authEvent",_.config.apiKey,_.name)}function Lr(_){if(!(null==_?void 0:_.includes("?")))return{};const[d,...p]=_.split("?");return(0,G.zd)(p.join("?"))}function hh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Dt("no-auth-event")}}function ic(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function ai(_=(0,G.z$)()){return!("file:"!==ic()&&"ionic:"!==ic()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Is(){try{const _=self.localStorage,d=lo();if(_)return _.setItem(d,"1"),_.removeItem(d),!function ma(_=(0,G.z$)()){return function od(){return(0,G.w1)()&&11===(null==document?void 0:document.documentMode)}()||function sc(_=(0,G.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,G.hl)()}catch(_){return Nu()&&(0,G.hl)()}return!1}function Nu(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Dl(){return(function jf(){return"http:"===ic()||"https:"===ic()}()||(0,G.ru)()||ai())&&!function Hf(){return(0,G.b$)()||(0,G.UG)()}()&&Is()&&!Nu()}function oc(){return ai()&&"undefined"!=typeof document}function ja(){return(ja=(0,a.Z)(function*(){return!!oc()&&new Promise(_=>{const d=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(d),_(!0)})})})).apply(this,arguments)}const To={LOCAL:"local",NONE:"none",SESSION:"session"},Cl=he,ad="persistence";function Sl(_){return ud.apply(this,arguments)}function ud(){return(ud=(0,a.Z)(function*(_){yield _._initializationPromise;const d=uc(),p=Pn(ad,_.config.apiKey,_.name);d&&d.setItem(p,_._getPersistence())})).apply(this,arguments)}function uc(){var _;try{return(null===(_=function ac(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(d){return null}}const fh=he;class Bo{constructor(){this.browserResolver=ae(class vl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=js,this._completeRedirectFn=gi,this._overrideRedirectResult=Zt}_openPopup(d,p,D,U){var re=this;return(0,a.Z)(function*(){var Je;le(null===(Je=re.eventManagers[d._key()])||void 0===Je?void 0:Je.manager,"_initialize() not called before _openPopup()");const Rt=yl(d,p,D,pt(),U);return function Zc(_,d,p,D=500,U=600){const re=Math.max((window.screen.availHeight-U)/2,0).toString(),Je=Math.max((window.screen.availWidth-D)/2,0).toString();let Rt="";const dn=Object.assign(Object.assign({},Ug),{width:D.toString(),height:U.toString(),top:re,left:Je}),ln=(0,G.z$)().toLowerCase();p&&(Rt=Vr(ln)?"_blank":p),Hr(ln)&&(d=d||"http://localhost",dn.scrollbars="yes");const Xn=Object.entries(dn).reduce((_s,[Vo,Ha])=>`${_s}${Vo}=${Ha},`,"");if(function vn(_=(0,G.z$)()){var d;return wr(_)&&!!(null===(d=window.navigator)||void 0===d?void 0:d.standalone)}(ln)&&"_self"!==Rt)return function ml(_,d){const p=document.createElement("a");p.href=_,p.target=d;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(D)}(d||"",Rt),new po(null);const $n=window.open(d||"",Rt,Xn);he($n,_,"popup-blocked");try{$n.focus()}catch(_s){}return new po($n)}(d,Rt,lo())})()}_openRedirect(d,p,D,U){var re=this;return(0,a.Z)(function*(){return yield re._originValidation(d),function Hs(_){di().location.href=_}(yl(d,p,D,pt(),U)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:U,promise:re}=this.eventManagers[p];return U?Promise.resolve(U):(le(re,"If manager is not set, promise should be"),re)}const D=this.initAndGetManager(d);return this.eventManagers[p]={promise:D},D.catch(()=>{delete this.eventManagers[p]}),D}initAndGetManager(d){var p=this;return(0,a.Z)(function*(){const D=yield function nh(_){return Ua.apply(this,arguments)}(d),U=new ga(d);return D.register("authEvent",re=>(he(null==re?void 0:re.authEvent,d,"invalid-auth-event"),{status:U.onEvent(re.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:U},p.iframes[d._key()]=D,U})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(qo,{type:qo},U=>{var re;const Je=null===(re=null==U?void 0:U[0])||void 0===re?void 0:re[qo];void 0!==Je&&p(!!Je),mt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function kf(_){return Va.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return tt()||Gr()||wr()}}),this.cordovaResolver=ae(class dh{constructor(){this._redirectPersistence=js,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=gi,this._overrideRedirectResult=Zt}_initialize(d){var p=this;return(0,a.Z)(function*(){const D=d._key();let U=p.eventManagers.get(D);return U||(U=new Jl(d),p.eventManagers.set(D,U),p.attachCallbackListeners(d,U)),U})()}_openPopup(d){mt(d,"operation-not-supported-in-this-environment")}_openRedirect(d,p,D,U){var re=this;return(0,a.Z)(function*(){!function bl(_){var d,p,D,U,re,Je,Rt,dn,ln,Xn;const $n=Co();he("function"==typeof(null===(d=null==$n?void 0:$n.universalLinks)||void 0===d?void 0:d.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),he(void 0!==(null===(p=null==$n?void 0:$n.BuildInfo)||void 0===p?void 0:p.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),he("function"==typeof(null===(re=null===(U=null===(D=null==$n?void 0:$n.cordova)||void 0===D?void 0:D.plugins)||void 0===U?void 0:U.browsertab)||void 0===re?void 0:re.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),he("function"==typeof(null===(dn=null===(Rt=null===(Je=null==$n?void 0:$n.cordova)||void 0===Je?void 0:Je.plugins)||void 0===Rt?void 0:Rt.browsertab)||void 0===dn?void 0:dn.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),he("function"==typeof(null===(Xn=null===(ln=null==$n?void 0:$n.cordova)||void 0===ln?void 0:ln.InAppBrowser)||void 0===Xn?void 0:Xn.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(d);const Je=yield re._initialize(d);yield Je.initialized(),Je.resetRedirect(),function vt(){ia.clear()}(),yield re._originValidation(d);const Rt=function ec(_,d,p=null){return{type:d,eventId:p,urlResponse:null,sessionId:lh(),postBody:null,tenantId:_.tenantId,error:Dt(_,"no-auth-event")}}(d,D,U);yield function tc(_,d){return cu()._set(wl(_),d)}(d,Rt);const dn=yield function ku(_,d,p){return uu.apply(this,arguments)}(d,Rt,p),ln=yield function _l(_){const{cordova:d}=Co();return new Promise(p=>{d.plugins.browsertab.isAvailable(D=>{let U=null;D?d.plugins.browsertab.openUrl(_):U=d.InAppBrowser.open(_,function Wr(_=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),p(U)})})}(dn);return function sh(_,d,p){return Wi.apply(this,arguments)}(d,Je,ln)})()}_isIframeWebStorageSupported(d,p){throw new Error("Method not implemented.")}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function nd(_){return qs.apply(this,arguments)}(d)),this.originValidationPromises[p]}attachCallbackListeners(d,p){const{universalLinks:D,handleOpenURL:U,BuildInfo:re}=Co(),Je=setTimeout((0,a.Z)(function*(){yield lu(d),p.onEvent(hh())}),500),Rt=function(){var Xn=(0,a.Z)(function*($n){clearTimeout(Je);const _s=yield lu(d);let Vo=null;_s&&(null==$n?void 0:$n.url)&&(Vo=function uh(_,d){var p,D;const U=function qi(_){const d=Lr(_),p=d.link?decodeURIComponent(d.link):void 0,D=Lr(p).link,U=d.deep_link_id?decodeURIComponent(d.deep_link_id):void 0;return Lr(U).link||U||D||p||_}(d);if(U.includes("/__/auth/callback")){const re=Lr(U),Je=re.firebaseError?function ch(_){try{return JSON.parse(_)}catch(d){return null}}(decodeURIComponent(re.firebaseError)):null,Rt=null===(D=null===(p=null==Je?void 0:Je.code)||void 0===p?void 0:p.split("auth/"))||void 0===D?void 0:D[1],dn=Rt?Dt(Rt):null;return dn?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:dn,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:U,postBody:null}}return null}(_s,$n.url)),p.onEvent(Vo||hh())});return function(_s){return Xn.apply(this,arguments)}}();void 0!==D&&"function"==typeof D.subscribe&&D.subscribe(null,Rt);const dn=U,ln=`${re.packageName.toLowerCase()}://`;Co().handleOpenURL=function(){var Xn=(0,a.Z)(function*($n){if($n.toLowerCase().startsWith(ln)&&Rt({url:$n}),"function"==typeof dn)try{dn($n)}catch(_s){console.error(_s)}});return function($n){return Xn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=js,this._completeRedirectFn=gi,this._overrideRedirectResult=Zt}_initialize(d){var p=this;return(0,a.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(d)})()}_openPopup(d,p,D,U){var re=this;return(0,a.Z)(function*(){return yield re.selectUnderlyingResolver(),re.assertedUnderlyingResolver._openPopup(d,p,D,U)})()}_openRedirect(d,p,D,U){var re=this;return(0,a.Z)(function*(){return yield re.selectUnderlyingResolver(),re.assertedUnderlyingResolver._openRedirect(d,p,D,U)})()}_isIframeWebStorageSupported(d,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(d,p)}_originValidation(d){return this.assertedUnderlyingResolver._originValidation(d)}get _shouldInitProactively(){return oc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return fh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var d=this;return(0,a.Z)(function*(){if(d.underlyingResolver)return;const p=yield function Ys(){return ja.apply(this,arguments)}();d.underlyingResolver=p?d.cordovaResolver:d.browserResolver})()}}function So(_){return _.unwrap()}function ph(_){return Al(_)}function Al(_){const{_tokenResponse:d}=_ instanceof G.ZR?_.customData:_;if(!d)return null;if(!(_ instanceof G.ZR)&&"temporaryProof"in d&&"phoneNumber"in d)return ra.credentialFromResult(_);const p=d.providerId;if(!p||"password"===p)return null;let D;switch(p){case"google.com":D=Ts;break;case"facebook.com":D=ss;break;case"github.com":D=Us;break;case"twitter.com":D=Xi;break;default:const{oauthIdToken:U,oauthAccessToken:re,oauthTokenSecret:Je,pendingToken:Rt,nonce:dn}=d;return re||Je||U||Rt?Rt?p.startsWith("saml.")?hs._create(p,Rt):je._fromParams({providerId:p,signInMethod:p,pendingToken:Rt,idToken:U,accessToken:re}):new vi(p).credential({idToken:U,accessToken:re,rawNonce:dn}):null}return _ instanceof G.ZR?D.credentialFromError(_):D.credentialFromResult(_)}function eo(_,d){return d.catch(p=>{throw p instanceof G.ZR&&function lc(_,d){var p;const D=null===(p=d.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===d.code)d.resolver=new Gf(_,function Fi(_,d){var p;const D=(0,G.m9)(_),U=d;return he(d.customData.operationType,D,"argument-error"),he(null===(p=U.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,D,"argument-error"),_o._fromError(D,U)}(_,d));else if(D){const U=Al(d),re=d;U&&(re.credential=U,re.tenantId=D.tenantId||void 0,re.email=D.email||void 0,re.phoneNumber=D.phoneNumber||void 0)}}(_,p),p}).then(p=>{const U=p.user;return{operationType:p.operationType,credential:ph(p),additionalUserInfo:Qa(p),user:Ao.getOrCreate(U)}})}function cc(_,d){return du.apply(this,arguments)}function du(){return(du=(0,a.Z)(function*(_,d){const p=yield d;return{verificationId:p.verificationId,confirm:D=>eo(_,p.confirm(D))}})).apply(this,arguments)}class Gf{constructor(d,p){this.resolver=p,this.auth=function ld(_){return _.wrapped()}(d)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(d){return eo(So(this.auth),this.resolver.resolveSignIn(d))}}class Ao{constructor(d){this._delegate=d,this.multiFactor=function zi(_){const d=(0,G.m9)(_);return ks.has(d)||ks.set(d,bo._fromUser(d)),ks.get(d)}(d)}static getOrCreate(d){return Ao.USER_MAP.has(d)||Ao.USER_MAP.set(d,new Ao(d)),Ao.USER_MAP.get(d)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(d){return this._delegate.getIdTokenResult(d)}getIdToken(d){return this._delegate.getIdToken(d)}linkAndRetrieveDataWithCredential(d){return this.linkWithCredential(d)}linkWithCredential(d){var p=this;return(0,a.Z)(function*(){return eo(p.auth,Yt(p._delegate,d))})()}linkWithPhoneNumber(d,p){var D=this;return(0,a.Z)(function*(){return cc(D.auth,function Di(_,d,p){return Wo.apply(this,arguments)}(D._delegate,d,p))})()}linkWithPopup(d){var p=this;return(0,a.Z)(function*(){return eo(p.auth,function Su(_,d,p){return eu.apply(this,arguments)}(p._delegate,d,Bo))})()}linkWithRedirect(d){var p=this;return(0,a.Z)(function*(){return yield Sl(jt(p.auth)),function ni(_,d,p){return function pa(_,d,p){return oi.apply(this,arguments)}(_,d,p)}(p._delegate,d,Bo)})()}reauthenticateAndRetrieveDataWithCredential(d){return this.reauthenticateWithCredential(d)}reauthenticateWithCredential(d){var p=this;return(0,a.Z)(function*(){return eo(p.auth,er(p._delegate,d))})()}reauthenticateWithPhoneNumber(d,p){return cc(this.auth,function ta(_,d,p){return na.apply(this,arguments)}(this._delegate,d,p))}reauthenticateWithPopup(d){return eo(this.auth,function ho(_,d,p){return Fa.apply(this,arguments)}(this._delegate,d,Bo))}reauthenticateWithRedirect(d){var p=this;return(0,a.Z)(function*(){return yield Sl(jt(p.auth)),function ns(_,d,p){return function us(_,d,p){return La.apply(this,arguments)}(_,d,p)}(p._delegate,d,Bo)})()}sendEmailVerification(d){return function Kr(_,d){return Qi.apply(this,arguments)}(this._delegate,d)}unlink(d){var p=this;return(0,a.Z)(function*(){return yield function gs(_,d){return Gi.apply(this,arguments)}(p._delegate,d),p})()}updateEmail(d){return function ao(_,d){return Xo((0,G.m9)(_),d,null)}(this._delegate,d)}updatePassword(d){return function vo(_,d){return Xo((0,G.m9)(_),null,d)}(this._delegate,d)}updatePhoneNumber(d){return function As(_,d){return Po.apply(this,arguments)}(this._delegate,d)}updateProfile(d){return function so(_,d){return oo.apply(this,arguments)}(this._delegate,d)}verifyBeforeUpdateEmail(d,p){return function vr(_,d,p){return Ai.apply(this,arguments)}(this._delegate,d,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ao.USER_MAP=new WeakMap;const hu=he;let gh=(()=>{class _{constructor(p,D){if(this.app=p,D.isInitialized())return this._delegate=D.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:U}=p.options;hu(U,"invalid-api-key",{appName:p.name}),hu(U,"invalid-api-key",{appName:p.name});const re="undefined"!=typeof window?Bo:void 0;this._delegate=D.initialize({options:{persistence:dd(U,p.name),popupRedirectResolver:re}}),this._delegate._updateErrorMap(Be),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ao.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,D){!function Nn(_,d,p){const D=jt(_);he(D._canInitEmulator,D,"emulator-config-failed"),he(/^https?:\/\//.test(d),D,"invalid-emulator-scheme");const U=!!(null==p?void 0:p.disableWarnings),re=mr(d),{host:Je,port:Rt}=function Zn(_){const d=mr(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(d.length));if(!p)return{host:"",port:null};const D=p[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(D);if(U){const re=U[1];return{host:re,port:Xt(D.substr(re.length+1))}}{const[re,Je]=D.split(":");return{host:re,port:Xt(Je)}}}(d);D.config.emulator={url:`${re}//${Je}${null===Rt?"":`:${Rt}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:Je,port:Rt,protocol:re.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function Rn(){function _(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,p,D)}applyActionCode(p){return function L(_,d){return y.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return g(this._delegate,p)}confirmPasswordReset(p,D){return function yo(_,d,p){return v.apply(this,arguments)}(this._delegate,p,D)}createUserWithEmailAndPassword(p,D){var U=this;return(0,a.Z)(function*(){return eo(U._delegate,function Ie(_,d,p){return nt.apply(this,arguments)}(U._delegate,p,D))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function yr(_,d){return ti.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function Un(_,d){const p=ki.parseLink(d);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,a.Z)(function*(){hu(Dl(),p._delegate,"operation-not-supported-in-this-environment");const D=yield function Do(_,d){return Ri.apply(this,arguments)}(p._delegate,Bo);return D?eo(p._delegate,Promise.resolve(D)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function Lo(_,d){jt(_)._logFramework(d)}(this._delegate,p)}onAuthStateChanged(p,D,U){const{next:re,error:Je,complete:Rt}=cd(p,D,U);return this._delegate.onAuthStateChanged(re,Je,Rt)}onIdTokenChanged(p,D,U){const{next:re,error:Je,complete:Rt}=cd(p,D,U);return this._delegate.onIdTokenChanged(re,Je,Rt)}sendSignInLinkToEmail(p,D){return function Jt(_,d,p){return Kt.apply(this,arguments)}(this._delegate,p,D)}sendPasswordResetEmail(p,D){return function Zs(_,d,p){return Es.apply(this,arguments)}(this._delegate,p,D||void 0)}setPersistence(p){var D=this;return(0,a.Z)(function*(){let U;switch(function Tl(_,d){Cl(Object.values(To).includes(d),_,"invalid-persistence-type"),(0,G.b$)()?Cl(d!==To.SESSION,_,"unsupported-persistence-type"):(0,G.UG)()?Cl(d===To.NONE,_,"unsupported-persistence-type"):Nu()?Cl(d===To.NONE||d===To.LOCAL&&(0,G.hl)(),_,"unsupported-persistence-type"):Cl(d===To.NONE||Is(),_,"unsupported-persistence-type")}(D._delegate,p),p){case To.SESSION:U=js;break;case To.LOCAL:U=(yield ae(Z)._isAvailable())?Z:Oo;break;case To.NONE:U=qt;break;default:return mt("argument-error",{appName:D._delegate.name})}return D._delegate.setPersistence(U)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return eo(this._delegate,function Hi(_){return ps.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return eo(this._delegate,z(this._delegate,p))}signInWithCustomToken(p){return eo(this._delegate,function ms(_,d){return Yr.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,D){return eo(this._delegate,function xt(_,d,p){return z((0,G.m9)(_),Os.credential(d,p))}(this._delegate,p,D))}signInWithEmailLink(p,D){return eo(this._delegate,function Yn(_,d,p){return Sr.apply(this,arguments)}(this._delegate,p,D))}signInWithPhoneNumber(p,D){return cc(this._delegate,function Js(_,d,p){return Vi.apply(this,arguments)}(this._delegate,p,D))}signInWithPopup(p){var D=this;return(0,a.Z)(function*(){return hu(Dl(),D._delegate,"operation-not-supported-in-this-environment"),eo(D._delegate,function Ws(_,d,p){return Fo.apply(this,arguments)}(D._delegate,p,Bo))})()}signInWithRedirect(p){var D=this;return(0,a.Z)(function*(){return hu(Dl(),D._delegate,"operation-not-supported-in-this-environment"),yield Sl(D._delegate),function lr(_,d,p){return function xr(_,d,p){return cr.apply(this,arguments)}(_,d,p)}(D._delegate,p,Bo)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function V(_,d){return ie.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=To,_})();function cd(_,d,p){let D=_;"function"!=typeof _&&({next:D,error:d,complete:p}=_);const U=D;return{next:Je=>U(Je&&Ao.getOrCreate(Je)),error:d,complete:p}}function dd(_,d){const p=function Ds(_,d){const p=uc();if(!p)return[];const D=Pn(ad,_,d);switch(p.getItem(D)){case To.NONE:return[qt];case To.LOCAL:return[Z,js];case To.SESSION:return[js];default:return[]}}(_,d);if("undefined"!=typeof self&&!p.includes(Z)&&p.push(Z),"undefined"!=typeof window)for(const D of[Oo,js])p.includes(D)||p.push(D);return p.includes(qt)||p.push(qt),p}class dc{constructor(){this.providerId="phone",this._delegate=new ra(So(se.Z.auth()))}static credential(d,p){return ra.credential(d,p)}verifyPhoneNumber(d,p){return this._delegate.verifyPhoneNumber(d,p)}unwrap(){return this._delegate}}dc.PHONE_SIGN_IN_METHOD=ra.PHONE_SIGN_IN_METHOD,dc.PROVIDER_ID=ra.PROVIDER_ID;const zf=he;class mh{constructor(d,p,D=se.Z.app()){var U;zf(null===(U=D.options)||void 0===U?void 0:U.apiKey,"invalid-api-key",{appName:D.name}),this._delegate=new Jd(d,p,D.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function yh(_){_.INTERNAL.registerComponent(new De.wA("auth-compat",d=>{const p=d.getProvider("app-compat").getImmediate(),D=d.getProvider("auth");return new gh(p,D)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Os,FacebookAuthProvider:ss,GithubAuthProvider:Us,GoogleAuthProvider:Ts,OAuthProvider:vi,SAMLAuthProvider:Si,PhoneAuthProvider:dc,PhoneMultiFactorGenerator:ed,RecaptchaVerifier:mh,TwitterAuthProvider:Xi,Auth:gh,AuthCredential:tr,Error:G.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.14")}(se.Z)},591:(Wt,rt,F)=>{"use strict";F.d(rt,{X:()=>G});var a=F(8929),se=F(5279);class G extends a.xQ{constructor(Ae){super(),this._value=Ae}get value(){return this.getValue()}_subscribe(Ae){const ue=super._subscribe(Ae);return ue&&!ue.closed&&Ae.next(this._value),ue}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new se.N;return this._value}next(Ae){super.next(this._value=Ae)}}},2916:(Wt,rt,F)=>{"use strict";F.d(rt,{y:()=>ne});var a=F(3489),G=F(7668),Fe=F(3292),ue=F(3821),De=F(5379);var ee=F(2830);let ne=(()=>{class Q{constructor(Be){this._isScalar=!1,Be&&(this._subscribe=Be)}lift(Be){const oe=new Q;return oe.source=this,oe.operator=Be,oe}subscribe(Be,oe,xe){const{operator:ye}=this,ut=function Ae(Q,fe,Be){if(Q){if(Q instanceof a.L)return Q;if(Q[G.b])return Q[G.b]()}return Q||fe||Be?new a.L(Q,fe,Be):new a.L(Fe.c)}(Be,oe,xe);if(ut.add(ye?ye.call(ut,this.source):this.source||ee.v.useDeprecatedSynchronousErrorHandling&&!ut.syncErrorThrowable?this._subscribe(ut):this._trySubscribe(ut)),ee.v.useDeprecatedSynchronousErrorHandling&&ut.syncErrorThrowable&&(ut.syncErrorThrowable=!1,ut.syncErrorThrown))throw ut.syncErrorValue;return ut}_trySubscribe(Be){try{return this._subscribe(Be)}catch(oe){ee.v.useDeprecatedSynchronousErrorHandling&&(Be.syncErrorThrown=!0,Be.syncErrorValue=oe),function se(Q){for(;Q;){const{closed:fe,destination:Be,isStopped:oe}=Q;if(fe||oe)return!1;Q=Be&&Be instanceof a.L?Be:null}return!0}(Be)?Be.error(oe):console.warn(oe)}}forEach(Be,oe){return new(oe=ge(oe))((xe,ye)=>{let ut;ut=this.subscribe(_e=>{try{Be(_e)}catch(mt){ye(mt),ut&&ut.unsubscribe()}},ye,xe)})}_subscribe(Be){const{source:oe}=this;return oe&&oe.subscribe(Be)}[ue.L](){return this}pipe(...Be){return 0===Be.length?this:function de(Q){return 0===Q.length?De.y:1===Q.length?Q[0]:function(Be){return Q.reduce((oe,xe)=>xe(oe),Be)}}(Be)(this)}toPromise(Be){return new(Be=ge(Be))((oe,xe)=>{let ye;this.subscribe(ut=>ye=ut,ut=>xe(ut),()=>oe(ye))})}}return Q.create=fe=>new Q(fe),Q})();function ge(Q){if(Q||(Q=ee.v.Promise||Promise),!Q)throw new Error("no Promise impl found");return Q}},3292:(Wt,rt,F)=>{"use strict";F.d(rt,{c:()=>G});var a=F(2830),se=F(2782);const G={closed:!0,next(Fe){},error(Fe){if(a.v.useDeprecatedSynchronousErrorHandling)throw Fe;(0,se.z)(Fe)},complete(){}}},8929:(Wt,rt,F)=>{"use strict";F.d(rt,{Yc:()=>De,xQ:()=>ve});var a=F(2916),se=F(3489),G=F(2654),Fe=F(5279),Ae=F(5283),ue=F(7668);class De extends se.L{constructor(ne){super(ne),this.destination=ne}}let ve=(()=>{class ee extends a.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ue.b](){return new De(this)}lift(ge){const Q=new de(this,this);return Q.operator=ge,Q}next(ge){if(this.closed)throw new Fe.N;if(!this.isStopped){const{observers:Q}=this,fe=Q.length,Be=Q.slice();for(let oe=0;oe<fe;oe++)Be[oe].next(ge)}}error(ge){if(this.closed)throw new Fe.N;this.hasError=!0,this.thrownError=ge,this.isStopped=!0;const{observers:Q}=this,fe=Q.length,Be=Q.slice();for(let oe=0;oe<fe;oe++)Be[oe].error(ge);this.observers.length=0}complete(){if(this.closed)throw new Fe.N;this.isStopped=!0;const{observers:ge}=this,Q=ge.length,fe=ge.slice();for(let Be=0;Be<Q;Be++)fe[Be].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ge){if(this.closed)throw new Fe.N;return super._trySubscribe(ge)}_subscribe(ge){if(this.closed)throw new Fe.N;return this.hasError?(ge.error(this.thrownError),G.w.EMPTY):this.isStopped?(ge.complete(),G.w.EMPTY):(this.observers.push(ge),new Ae.W(this,ge))}asObservable(){const ge=new a.y;return ge.source=this,ge}}return ee.create=(ne,ge)=>new de(ne,ge),ee})();class de extends ve{constructor(ne,ge){super(),this.destination=ne,this.source=ge}next(ne){const{destination:ge}=this;ge&&ge.next&&ge.next(ne)}error(ne){const{destination:ge}=this;ge&&ge.error&&this.destination.error(ne)}complete(){const{destination:ne}=this;ne&&ne.complete&&this.destination.complete()}_subscribe(ne){const{source:ge}=this;return ge?this.source.subscribe(ne):G.w.EMPTY}}},5283:(Wt,rt,F)=>{"use strict";F.d(rt,{W:()=>se});var a=F(2654);class se extends a.w{constructor(Fe,Ae){super(),this.subject=Fe,this.subscriber=Ae,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Fe=this.subject,Ae=Fe.observers;if(this.subject=null,!Ae||0===Ae.length||Fe.isStopped||Fe.closed)return;const ue=Ae.indexOf(this.subscriber);-1!==ue&&Ae.splice(ue,1)}}},3489:(Wt,rt,F)=>{"use strict";F.d(rt,{L:()=>De});var a=F(7043),se=F(3292),G=F(2654),Fe=F(7668),Ae=F(2830),ue=F(2782);class De extends G.w{constructor(ee,ne,ge){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=se.c;break;case 1:if(!ee){this.destination=se.c;break}if("object"==typeof ee){ee instanceof De?(this.syncErrorThrowable=ee.syncErrorThrowable,this.destination=ee,ee.add(this)):(this.syncErrorThrowable=!0,this.destination=new ve(this,ee));break}default:this.syncErrorThrowable=!0,this.destination=new ve(this,ee,ne,ge)}}[Fe.b](){return this}static create(ee,ne,ge){const Q=new De(ee,ne,ge);return Q.syncErrorThrowable=!1,Q}next(ee){this.isStopped||this._next(ee)}error(ee){this.isStopped||(this.isStopped=!0,this._error(ee))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(ee){this.destination.next(ee)}_error(ee){this.destination.error(ee),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:ee}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=ee,this}}class ve extends De{constructor(ee,ne,ge,Q){super(),this._parentSubscriber=ee;let fe,Be=this;(0,a.m)(ne)?fe=ne:ne&&(fe=ne.next,ge=ne.error,Q=ne.complete,ne!==se.c&&(Be=Object.create(ne),(0,a.m)(Be.unsubscribe)&&this.add(Be.unsubscribe.bind(Be)),Be.unsubscribe=this.unsubscribe.bind(this))),this._context=Be,this._next=fe,this._error=ge,this._complete=Q}next(ee){if(!this.isStopped&&this._next){const{_parentSubscriber:ne}=this;Ae.v.useDeprecatedSynchronousErrorHandling&&ne.syncErrorThrowable?this.__tryOrSetError(ne,this._next,ee)&&this.unsubscribe():this.__tryOrUnsub(this._next,ee)}}error(ee){if(!this.isStopped){const{_parentSubscriber:ne}=this,{useDeprecatedSynchronousErrorHandling:ge}=Ae.v;if(this._error)ge&&ne.syncErrorThrowable?(this.__tryOrSetError(ne,this._error,ee),this.unsubscribe()):(this.__tryOrUnsub(this._error,ee),this.unsubscribe());else if(ne.syncErrorThrowable)ge?(ne.syncErrorValue=ee,ne.syncErrorThrown=!0):(0,ue.z)(ee),this.unsubscribe();else{if(this.unsubscribe(),ge)throw ee;(0,ue.z)(ee)}}}complete(){if(!this.isStopped){const{_parentSubscriber:ee}=this;if(this._complete){const ne=()=>this._complete.call(this._context);Ae.v.useDeprecatedSynchronousErrorHandling&&ee.syncErrorThrowable?(this.__tryOrSetError(ee,ne),this.unsubscribe()):(this.__tryOrUnsub(ne),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(ee,ne){try{ee.call(this._context,ne)}catch(ge){if(this.unsubscribe(),Ae.v.useDeprecatedSynchronousErrorHandling)throw ge;(0,ue.z)(ge)}}__tryOrSetError(ee,ne,ge){if(!Ae.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ne.call(this._context,ge)}catch(Q){return Ae.v.useDeprecatedSynchronousErrorHandling?(ee.syncErrorValue=Q,ee.syncErrorThrown=!0,!0):((0,ue.z)(Q),!0)}return!1}_unsubscribe(){const{_parentSubscriber:ee}=this;this._context=null,this._parentSubscriber=null,ee.unsubscribe()}}},2654:(Wt,rt,F)=>{"use strict";F.d(rt,{w:()=>ue});var a=F(6688),se=F(7830),G=F(7043);const Ae=(()=>{function ve(de){return Error.call(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((ee,ne)=>`${ne+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de,this}return ve.prototype=Object.create(Error.prototype),ve})();class ue{constructor(de){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,de&&(this._ctorUnsubscribe=!0,this._unsubscribe=de)}unsubscribe(){let de;if(this.closed)return;let{_parentOrParents:ee,_ctorUnsubscribe:ne,_unsubscribe:ge,_subscriptions:Q}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ee instanceof ue)ee.remove(this);else if(null!==ee)for(let fe=0;fe<ee.length;++fe)ee[fe].remove(this);if((0,G.m)(ge)){ne&&(this._unsubscribe=void 0);try{ge.call(this)}catch(fe){de=fe instanceof Ae?De(fe.errors):[fe]}}if((0,a.k)(Q)){let fe=-1,Be=Q.length;for(;++fe<Be;){const oe=Q[fe];if((0,se.K)(oe))try{oe.unsubscribe()}catch(xe){de=de||[],xe instanceof Ae?de=de.concat(De(xe.errors)):de.push(xe)}}}if(de)throw new Ae(de)}add(de){let ee=de;if(!de)return ue.EMPTY;switch(typeof de){case"function":ee=new ue(de);case"object":if(ee===this||ee.closed||"function"!=typeof ee.unsubscribe)return ee;if(this.closed)return ee.unsubscribe(),ee;if(!(ee instanceof ue)){const Q=ee;ee=new ue,ee._subscriptions=[Q]}break;default:throw new Error("unrecognized teardown "+de+" added to Subscription.")}let{_parentOrParents:ne}=ee;if(null===ne)ee._parentOrParents=this;else if(ne instanceof ue){if(ne===this)return ee;ee._parentOrParents=[ne,this]}else{if(-1!==ne.indexOf(this))return ee;ne.push(this)}const ge=this._subscriptions;return null===ge?this._subscriptions=[ee]:ge.push(ee),ee}remove(de){const ee=this._subscriptions;if(ee){const ne=ee.indexOf(de);-1!==ne&&ee.splice(ne,1)}}}var ve;function De(ve){return ve.reduce((de,ee)=>de.concat(ee instanceof Ae?ee.errors:ee),[])}ue.EMPTY=((ve=new ue).closed=!0,ve)},2830:(Wt,rt,F)=>{"use strict";F.d(rt,{v:()=>se});let a=!1;const se={Promise:void 0,set useDeprecatedSynchronousErrorHandling(G){if(G){const Fe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Fe.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=G},get useDeprecatedSynchronousErrorHandling(){return a}}},1177:(Wt,rt,F)=>{"use strict";F.d(rt,{Ds:()=>ue,IY:()=>Fe,ft:()=>ve});var a=F(3489),se=F(2916),G=F(9249);class Fe extends a.L{constructor(ee){super(),this.parent=ee}_next(ee){this.parent.notifyNext(ee)}_error(ee){this.parent.notifyError(ee),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ue extends a.L{notifyNext(ee){this.destination.next(ee)}notifyError(ee){this.destination.error(ee)}notifyComplete(){this.destination.complete()}}function ve(de,ee){if(ee.closed)return;if(de instanceof se.y)return de.subscribe(ee);let ne;try{ne=(0,G.s)(de)(ee)}catch(ge){ee.error(ge)}return ne}},1762:(Wt,rt,F)=>{"use strict";F.d(rt,{N:()=>ue,c:()=>Ae});var a=F(8929),se=F(2916),G=F(2654),Fe=F(4327);class Ae extends se.y{constructor(ne,ge){super(),this.source=ne,this.subjectFactory=ge,this._refCount=0,this._isComplete=!1}_subscribe(ne){return this.getSubject().subscribe(ne)}getSubject(){const ne=this._subject;return(!ne||ne.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ne=this._connection;return ne||(this._isComplete=!1,ne=this._connection=new G.w,ne.add(this.source.subscribe(new De(this.getSubject(),this))),ne.closed&&(this._connection=null,ne=G.w.EMPTY)),ne}refCount(){return(0,Fe.x)()(this)}}const ue=(()=>{const ee=Ae.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ee._subscribe},_isComplete:{value:ee._isComplete,writable:!0},getSubject:{value:ee.getSubject},connect:{value:ee.connect},refCount:{value:ee.refCount}}})();class De extends a.Yc{constructor(ne,ge){super(ne),this.connectable=ge}_error(ne){this._unsubscribe(),super._error(ne)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ne=this.connectable;if(ne){this.connectable=null;const ge=ne._connection;ne._refCount=0,ne._subject=null,ne._connection=null,ge&&ge.unsubscribe()}}}},1221:(Wt,rt,F)=>{"use strict";F.d(rt,{z:()=>Fe});var a=F(1086),se=F(9146);function Fe(...Ae){return function G(){return(0,se.J)(1)}()((0,a.of)(...Ae))}},8896:(Wt,rt,F)=>{"use strict";F.d(rt,{E:()=>se,c:()=>G});var a=F(2916);const se=new a.y(Ae=>Ae.complete());function G(Ae){return Ae?function Fe(Ae){return new a.y(ue=>Ae.schedule(()=>ue.complete()))}(Ae):se}},5254:(Wt,rt,F)=>{"use strict";F.d(rt,{D:()=>Be});var a=F(2916),se=F(9249),G=F(2654),Fe=F(3821),De=F(6454),ve=F(5430),ne=F(8955),ge=F(8515);function Be(oe,xe){return xe?function fe(oe,xe){if(null!=oe){if(function ee(oe){return oe&&"function"==typeof oe[Fe.L]}(oe))return function Ae(oe,xe){return new a.y(ye=>{const ut=new G.w;return ut.add(xe.schedule(()=>{const _e=oe[Fe.L]();ut.add(_e.subscribe({next(mt){ut.add(xe.schedule(()=>ye.next(mt)))},error(mt){ut.add(xe.schedule(()=>ye.error(mt)))},complete(){ut.add(xe.schedule(()=>ye.complete()))}}))})),ut})}(oe,xe);if((0,ne.t)(oe))return function ue(oe,xe){return new a.y(ye=>{const ut=new G.w;return ut.add(xe.schedule(()=>oe.then(_e=>{ut.add(xe.schedule(()=>{ye.next(_e),ut.add(xe.schedule(()=>ye.complete()))}))},_e=>{ut.add(xe.schedule(()=>ye.error(_e)))}))),ut})}(oe,xe);if((0,ge.z)(oe))return(0,De.r)(oe,xe);if(function Q(oe){return oe&&"function"==typeof oe[ve.hZ]}(oe)||"string"==typeof oe)return function de(oe,xe){if(!oe)throw new Error("Iterable cannot be null");return new a.y(ye=>{const ut=new G.w;let _e;return ut.add(()=>{_e&&"function"==typeof _e.return&&_e.return()}),ut.add(xe.schedule(()=>{_e=oe[ve.hZ](),ut.add(xe.schedule(function(){if(ye.closed)return;let mt,Dt;try{const dt=_e.next();mt=dt.value,Dt=dt.done}catch(dt){return void ye.error(dt)}Dt?ye.complete():(ye.next(mt),this.schedule())}))})),ut})}(oe,xe)}throw new TypeError((null!==oe&&typeof oe||oe)+" is not observable")}(oe,xe):oe instanceof a.y?oe:new a.y((0,se.s)(oe))}},3009:(Wt,rt,F)=>{"use strict";F.d(rt,{n:()=>Fe});var a=F(2916),se=F(3650),G=F(6454);function Fe(Ae,ue){return ue?(0,G.r)(Ae,ue):new a.y((0,se.V)(Ae))}},6787:(Wt,rt,F)=>{"use strict";F.d(rt,{T:()=>Ae});var a=F(2916),se=F(2866),G=F(9146),Fe=F(3009);function Ae(...ue){let De=Number.POSITIVE_INFINITY,ve=null,de=ue[ue.length-1];return(0,se.K)(de)?(ve=ue.pop(),ue.length>1&&"number"==typeof ue[ue.length-1]&&(De=ue.pop())):"number"==typeof de&&(De=ue.pop()),null===ve&&1===ue.length&&ue[0]instanceof a.y?ue[0]:(0,G.J)(De)((0,Fe.n)(ue,ve))}},1086:(Wt,rt,F)=>{"use strict";F.d(rt,{of:()=>Fe});var a=F(2866),se=F(3009),G=F(6454);function Fe(...Ae){let ue=Ae[Ae.length-1];return(0,a.K)(ue)?(Ae.pop(),(0,G.r)(Ae,ue)):(0,se.n)(Ae)}},7314:(Wt,rt,F)=>{"use strict";F.d(rt,{d:()=>se});var a=F(3489);function se(Ae=null){return ue=>ue.lift(new G(Ae))}class G{constructor(ue){this.defaultValue=ue}call(ue,De){return De.subscribe(new Fe(ue,this.defaultValue))}}class Fe extends a.L{constructor(ue,De){super(ue),this.defaultValue=De,this.isEmpty=!0}_next(ue){this.isEmpty=!1,this.destination.next(ue)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5778:(Wt,rt,F)=>{"use strict";F.d(rt,{x:()=>se});var a=F(3489);function se(Ae,ue){return De=>De.lift(new G(Ae,ue))}class G{constructor(ue,De){this.compare=ue,this.keySelector=De}call(ue,De){return De.subscribe(new Fe(ue,this.compare,this.keySelector))}}class Fe extends a.L{constructor(ue,De,ve){super(ue),this.keySelector=ve,this.hasKey=!1,"function"==typeof De&&(this.compare=De)}compare(ue,De){return ue===De}_next(ue){let De;try{const{keySelector:de}=this;De=de?de(ue):ue}catch(de){return this.destination.error(de)}let ve=!1;if(this.hasKey)try{const{compare:de}=this;ve=de(this.key,De)}catch(de){return this.destination.error(de)}else this.hasKey=!0;ve||(this.key=De,this.destination.next(ue))}}},2198:(Wt,rt,F)=>{"use strict";F.d(rt,{h:()=>se});var a=F(3489);function se(Ae,ue){return function(ve){return ve.lift(new G(Ae,ue))}}class G{constructor(ue,De){this.predicate=ue,this.thisArg=De}call(ue,De){return De.subscribe(new Fe(ue,this.predicate,this.thisArg))}}class Fe extends a.L{constructor(ue,De,ve){super(ue),this.predicate=De,this.thisArg=ve,this.count=0}_next(ue){let De;try{De=this.predicate.call(this.thisArg,ue,this.count++)}catch(ve){return void this.destination.error(ve)}De&&this.destination.next(ue)}}},7224:(Wt,rt,F)=>{"use strict";F.d(rt,{P:()=>De});var a=F(4450),se=F(2198),G=F(2986),Fe=F(7314),Ae=F(4907),ue=F(5379);function De(ve,de){const ee=arguments.length>=2;return ne=>ne.pipe(ve?(0,se.h)((ge,Q)=>ve(ge,Q,ne)):ue.y,(0,G.q)(1),ee?(0,Fe.d)(de):(0,Ae.T)(()=>new a.K))}},4850:(Wt,rt,F)=>{"use strict";F.d(rt,{U:()=>se});var a=F(3489);function se(Ae,ue){return function(ve){if("function"!=typeof Ae)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ve.lift(new G(Ae,ue))}}class G{constructor(ue,De){this.project=ue,this.thisArg=De}call(ue,De){return De.subscribe(new Fe(ue,this.project,this.thisArg))}}class Fe extends a.L{constructor(ue,De,ve){super(ue),this.project=De,this.count=0,this.thisArg=ve||this}_next(ue){let De;try{De=this.project.call(this.thisArg,ue,this.count++)}catch(ve){return void this.destination.error(ve)}this.destination.next(De)}}},9146:(Wt,rt,F)=>{"use strict";F.d(rt,{J:()=>G});var a=F(1709),se=F(5379);function G(Fe=Number.POSITIVE_INFINITY){return(0,a.zg)(se.y,Fe)}},1709:(Wt,rt,F)=>{"use strict";F.d(rt,{zg:()=>Fe});var a=F(4850),se=F(5254),G=F(1177);function Fe(ve,de,ee=Number.POSITIVE_INFINITY){return"function"==typeof de?ne=>ne.pipe(Fe((ge,Q)=>(0,se.D)(ve(ge,Q)).pipe((0,a.U)((fe,Be)=>de(ge,fe,Q,Be))),ee)):("number"==typeof de&&(ee=de),ne=>ne.lift(new Ae(ve,ee)))}class Ae{constructor(de,ee=Number.POSITIVE_INFINITY){this.project=de,this.concurrent=ee}call(de,ee){return ee.subscribe(new ue(de,this.project,this.concurrent))}}class ue extends G.Ds{constructor(de,ee,ne=Number.POSITIVE_INFINITY){super(de),this.project=ee,this.concurrent=ne,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(de){this.active<this.concurrent?this._tryNext(de):this.buffer.push(de)}_tryNext(de){let ee;const ne=this.index++;try{ee=this.project(de,ne)}catch(ge){return void this.destination.error(ge)}this.active++,this._innerSub(ee)}_innerSub(de){const ee=new G.IY(this),ne=this.destination;ne.add(ee);const ge=(0,G.ft)(de,ee);ge!==ee&&ne.add(ge)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(de){this.destination.next(de)}notifyComplete(){const de=this.buffer;this.active--,de.length>0?this._next(de.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},7951:(Wt,rt,F)=>{"use strict";F.d(rt,{ht:()=>ne,QV:()=>de});var a=F(3489),se=F(8896),G=F(1086),Fe=F(2916);function ue({error:Q,subscriber:fe}){fe.error(Q)}class ve{constructor(fe,Be,oe){this.kind=fe,this.value=Be,this.error=oe,this.hasValue="N"===fe}observe(fe){switch(this.kind){case"N":return fe.next&&fe.next(this.value);case"E":return fe.error&&fe.error(this.error);case"C":return fe.complete&&fe.complete()}}do(fe,Be,oe){switch(this.kind){case"N":return fe&&fe(this.value);case"E":return Be&&Be(this.error);case"C":return oe&&oe()}}accept(fe,Be,oe){return fe&&"function"==typeof fe.next?this.observe(fe):this.do(fe,Be,oe)}toObservable(){switch(this.kind){case"N":return(0,G.of)(this.value);case"E":return function Ae(Q,fe){return new Fe.y(fe?Be=>fe.schedule(ue,0,{error:Q,subscriber:Be}):Be=>Be.error(Q))}(this.error);case"C":return(0,se.c)()}throw new Error("unexpected notification kind value")}static createNext(fe){return void 0!==fe?new ve("N",fe):ve.undefinedValueNotification}static createError(fe){return new ve("E",void 0,fe)}static createComplete(){return ve.completeNotification}}function de(Q,fe=0){return function(oe){return oe.lift(new ee(Q,fe))}}ve.completeNotification=new ve("C"),ve.undefinedValueNotification=new ve("N",void 0);class ee{constructor(fe,Be=0){this.scheduler=fe,this.delay=Be}call(fe,Be){return Be.subscribe(new ne(fe,this.scheduler,this.delay))}}class ne extends a.L{constructor(fe,Be,oe=0){super(fe),this.scheduler=Be,this.delay=oe}static dispatch(fe){const{notification:Be,destination:oe}=fe;Be.observe(oe),this.unsubscribe()}scheduleMessage(fe){this.destination.add(this.scheduler.schedule(ne.dispatch,this.delay,new ge(fe,this.destination)))}_next(fe){this.scheduleMessage(ve.createNext(fe))}_error(fe){this.scheduleMessage(ve.createError(fe)),this.unsubscribe()}_complete(){this.scheduleMessage(ve.createComplete()),this.unsubscribe()}}class ge{constructor(fe,Be){this.notification=fe,this.destination=Be}}},4327:(Wt,rt,F)=>{"use strict";F.d(rt,{x:()=>se});var a=F(3489);function se(){return function(ue){return ue.lift(new G(ue))}}class G{constructor(ue){this.connectable=ue}call(ue,De){const{connectable:ve}=this;ve._refCount++;const de=new Fe(ue,ve),ee=De.subscribe(de);return de.closed||(de.connection=ve.connect()),ee}}class Fe extends a.L{constructor(ue,De){super(ue),this.connectable=De}_unsubscribe(){const{connectable:ue}=this;if(!ue)return void(this.connection=null);this.connectable=null;const De=ue._refCount;if(De<=0)return void(this.connection=null);if(ue._refCount=De-1,De>1)return void(this.connection=null);const{connection:ve}=this,de=ue._connection;this.connection=null,de&&(!ve||de===ve)&&de.unsubscribe()}}},2014:(Wt,rt,F)=>{"use strict";F.d(rt,{R:()=>se});var a=F(3489);function se(Ae,ue){let De=!1;return arguments.length>=2&&(De=!0),function(de){return de.lift(new G(Ae,ue,De))}}class G{constructor(ue,De,ve=!1){this.accumulator=ue,this.seed=De,this.hasSeed=ve}call(ue,De){return De.subscribe(new Fe(ue,this.accumulator,this.seed,this.hasSeed))}}class Fe extends a.L{constructor(ue,De,ve,de){super(ue),this.accumulator=De,this._seed=ve,this.hasSeed=de,this.index=0}get seed(){return this._seed}set seed(ue){this.hasSeed=!0,this._seed=ue}_next(ue){if(this.hasSeed)return this._tryNext(ue);this.seed=ue,this.destination.next(ue)}_tryNext(ue){const De=this.index++;let ve;try{ve=this.accumulator(this.seed,ue,De)}catch(de){this.destination.error(de)}this.seed=ve,this.destination.next(ve)}}},1059:(Wt,rt,F)=>{"use strict";F.d(rt,{O:()=>G});var a=F(1221),se=F(2866);function G(...Fe){const Ae=Fe[Fe.length-1];return(0,se.K)(Ae)?(Fe.pop(),ue=>(0,a.z)(Fe,ue,Ae)):ue=>(0,a.z)(Fe,ue)}},5915:(Wt,rt,F)=>{"use strict";F.d(rt,{R:()=>ue});var a=F(2916),se=F(8139),G=F(6688);class Ae extends a.y{constructor(de,ee=0,ne=se.e){super(),this.source=de,this.delayTime=ee,this.scheduler=ne,(!function Fe(ve){return!(0,G.k)(ve)&&ve-parseFloat(ve)+1>=0}(ee)||ee<0)&&(this.delayTime=0),(!ne||"function"!=typeof ne.schedule)&&(this.scheduler=se.e)}static create(de,ee=0,ne=se.e){return new Ae(de,ee,ne)}static dispatch(de){const{source:ee,subscriber:ne}=de;return this.add(ee.subscribe(ne))}_subscribe(de){return this.scheduler.schedule(Ae.dispatch,this.delayTime,{source:this.source,subscriber:de})}}function ue(ve,de=0){return function(ne){return ne.lift(new De(ve,de))}}class De{constructor(de,ee){this.scheduler=de,this.delay=ee}call(de,ee){return new Ae(ee,this.delay,this.scheduler).subscribe(de)}}},7545:(Wt,rt,F)=>{"use strict";F.d(rt,{w:()=>Fe});var a=F(4850),se=F(5254),G=F(1177);function Fe(De,ve){return"function"==typeof ve?de=>de.pipe(Fe((ee,ne)=>(0,se.D)(De(ee,ne)).pipe((0,a.U)((ge,Q)=>ve(ee,ge,ne,Q))))):de=>de.lift(new Ae(De))}class Ae{constructor(ve){this.project=ve}call(ve,de){return de.subscribe(new ue(ve,this.project))}}class ue extends G.Ds{constructor(ve,de){super(ve),this.project=de,this.index=0}_next(ve){let de;const ee=this.index++;try{de=this.project(ve,ee)}catch(ne){return void this.destination.error(ne)}this._innerSub(de)}_innerSub(ve){const de=this.innerSubscription;de&&de.unsubscribe();const ee=new G.IY(this),ne=this.destination;ne.add(ee),this.innerSubscription=(0,G.ft)(ve,ee),this.innerSubscription!==ee&&ne.add(this.innerSubscription)}_complete(){const{innerSubscription:ve}=this;(!ve||ve.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(ve){this.destination.next(ve)}}},2986:(Wt,rt,F)=>{"use strict";F.d(rt,{q:()=>Fe});var a=F(3489),se=F(4231),G=F(8896);function Fe(De){return ve=>0===De?(0,G.c)():ve.lift(new Ae(De))}class Ae{constructor(ve){if(this.total=ve,this.total<0)throw new se.W}call(ve,de){return de.subscribe(new ue(ve,this.total))}}class ue extends a.L{constructor(ve,de){super(ve),this.total=de,this.count=0}_next(ve){const de=this.total,ee=++this.count;ee<=de&&(this.destination.next(ve),ee===de&&(this.destination.complete(),this.unsubscribe()))}}},2868:(Wt,rt,F)=>{"use strict";F.d(rt,{b:()=>Fe});var a=F(3489);function se(){}var G=F(7043);function Fe(De,ve,de){return function(ne){return ne.lift(new Ae(De,ve,de))}}class Ae{constructor(ve,de,ee){this.nextOrObserver=ve,this.error=de,this.complete=ee}call(ve,de){return de.subscribe(new ue(ve,this.nextOrObserver,this.error,this.complete))}}class ue extends a.L{constructor(ve,de,ee,ne){super(ve),this._tapNext=se,this._tapError=se,this._tapComplete=se,this._tapError=ee||se,this._tapComplete=ne||se,(0,G.m)(de)?(this._context=this,this._tapNext=de):de&&(this._context=de,this._tapNext=de.next||se,this._tapError=de.error||se,this._tapComplete=de.complete||se)}_next(ve){try{this._tapNext.call(this._context,ve)}catch(de){return void this.destination.error(de)}this.destination.next(ve)}_error(ve){try{this._tapError.call(this._context,ve)}catch(de){return void this.destination.error(de)}this.destination.error(ve)}_complete(){try{this._tapComplete.call(this._context)}catch(ve){return void this.destination.error(ve)}return this.destination.complete()}}},4907:(Wt,rt,F)=>{"use strict";F.d(rt,{T:()=>G});var a=F(4450),se=F(3489);function G(De=ue){return ve=>ve.lift(new Fe(De))}class Fe{constructor(ve){this.errorFactory=ve}call(ve,de){return de.subscribe(new Ae(ve,this.errorFactory))}}class Ae extends se.L{constructor(ve,de){super(ve),this.errorFactory=de,this.hasValue=!1}_next(ve){this.hasValue=!0,this.destination.next(ve)}_complete(){if(this.hasValue)return this.destination.complete();{let ve;try{ve=this.errorFactory()}catch(de){ve=de}this.destination.error(ve)}}}function ue(){return new a.K}},6454:(Wt,rt,F)=>{"use strict";F.d(rt,{r:()=>G});var a=F(2916),se=F(2654);function G(Fe,Ae){return new a.y(ue=>{const De=new se.w;let ve=0;return De.add(Ae.schedule(function(){ve!==Fe.length?(ue.next(Fe[ve++]),ue.closed||De.add(this.schedule())):ue.complete()})),De})}},6686:(Wt,rt,F)=>{"use strict";F.d(rt,{o:()=>G});var a=F(2654);class se extends a.w{constructor(Ae,ue){super()}schedule(Ae,ue=0){return this}}class G extends se{constructor(Ae,ue){super(Ae,ue),this.scheduler=Ae,this.work=ue,this.pending=!1}schedule(Ae,ue=0){if(this.closed)return this;this.state=Ae;const De=this.id,ve=this.scheduler;return null!=De&&(this.id=this.recycleAsyncId(ve,De,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(ve,this.id,ue),this}requestAsyncId(Ae,ue,De=0){return setInterval(Ae.flush.bind(Ae,this),De)}recycleAsyncId(Ae,ue,De=0){if(null!==De&&this.delay===De&&!1===this.pending)return ue;clearInterval(ue)}execute(Ae,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(Ae,ue);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ae,ue){let ve,De=!1;try{this.work(Ae)}catch(de){De=!0,ve=!!de&&de||new Error(de)}if(De)return this.unsubscribe(),ve}_unsubscribe(){const Ae=this.id,ue=this.scheduler,De=ue.actions,ve=De.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ve&&De.splice(ve,1),null!=Ae&&(this.id=this.recycleAsyncId(ue,Ae,null)),this.delay=null}}},2268:(Wt,rt,F)=>{"use strict";F.d(rt,{v:()=>se});let a=(()=>{class G{constructor(Ae,ue=G.now){this.SchedulerAction=Ae,this.now=ue}schedule(Ae,ue=0,De){return new this.SchedulerAction(this,Ae).schedule(De,ue)}}return G.now=()=>Date.now(),G})();class se extends a{constructor(Fe,Ae=a.now){super(Fe,()=>se.delegate&&se.delegate!==this?se.delegate.now():Ae()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Fe,Ae=0,ue){return se.delegate&&se.delegate!==this?se.delegate.schedule(Fe,Ae,ue):super.schedule(Fe,Ae,ue)}flush(Fe){const{actions:Ae}=this;if(this.active)return void Ae.push(Fe);let ue;this.active=!0;do{if(ue=Fe.execute(Fe.state,Fe.delay))break}while(Fe=Ae.shift());if(this.active=!1,ue){for(;Fe=Ae.shift();)Fe.unsubscribe();throw ue}}}},8139:(Wt,rt,F)=>{"use strict";F.d(rt,{e:()=>ge,E:()=>ne});let a=1;const se=Promise.resolve(),G={};function Fe(Q){return Q in G&&(delete G[Q],!0)}const Ae={setImmediate(Q){const fe=a++;return G[fe]=!0,se.then(()=>Fe(fe)&&Q()),fe},clearImmediate(Q){Fe(Q)}};var De=F(6686),de=F(2268);const ne=new class ee extends de.v{flush(fe){this.active=!0,this.scheduled=void 0;const{actions:Be}=this;let oe,xe=-1,ye=Be.length;fe=fe||Be.shift();do{if(oe=fe.execute(fe.state,fe.delay))break}while(++xe<ye&&(fe=Be.shift()));if(this.active=!1,oe){for(;++xe<ye&&(fe=Be.shift());)fe.unsubscribe();throw oe}}}(class ve extends De.o{constructor(fe,Be){super(fe,Be),this.scheduler=fe,this.work=Be}requestAsyncId(fe,Be,oe=0){return null!==oe&&oe>0?super.requestAsyncId(fe,Be,oe):(fe.actions.push(this),fe.scheduled||(fe.scheduled=Ae.setImmediate(fe.flush.bind(fe,null))))}recycleAsyncId(fe,Be,oe=0){if(null!==oe&&oe>0||null===oe&&this.delay>0)return super.recycleAsyncId(fe,Be,oe);0===fe.actions.length&&(Ae.clearImmediate(Be),fe.scheduled=void 0)}}),ge=ne},353:(Wt,rt,F)=>{"use strict";F.d(rt,{P:()=>Fe,z:()=>G});var a=F(6686);const G=new(F(2268).v)(a.o),Fe=G},341:(Wt,rt,F)=>{"use strict";F.d(rt,{c:()=>ue,N:()=>Ae});var a=F(6686),G=F(2268);const Ae=new class Fe extends G.v{}(class se extends a.o{constructor(ve,de){super(ve,de),this.scheduler=ve,this.work=de}schedule(ve,de=0){return de>0?super.schedule(ve,de):(this.delay=de,this.state=ve,this.scheduler.flush(this),this)}execute(ve,de){return de>0||this.closed?super.execute(ve,de):this._execute(ve,de)}requestAsyncId(ve,de,ee=0){return null!==ee&&ee>0||null===ee&&this.delay>0?super.requestAsyncId(ve,de,ee):ve.flush(this)}}),ue=Ae},5430:(Wt,rt,F)=>{"use strict";F.d(rt,{hZ:()=>se});const se=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(Wt,rt,F)=>{"use strict";F.d(rt,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(Wt,rt,F)=>{"use strict";F.d(rt,{b:()=>a});const a="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(Wt,rt,F)=>{"use strict";F.d(rt,{W:()=>se});const se=(()=>{function G(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return G.prototype=Object.create(Error.prototype),G})()},4450:(Wt,rt,F)=>{"use strict";F.d(rt,{K:()=>se});const se=(()=>{function G(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return G.prototype=Object.create(Error.prototype),G})()},5279:(Wt,rt,F)=>{"use strict";F.d(rt,{N:()=>se});const se=(()=>{function G(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return G.prototype=Object.create(Error.prototype),G})()},2782:(Wt,rt,F)=>{"use strict";function a(se){setTimeout(()=>{throw se},0)}F.d(rt,{z:()=>a})},5379:(Wt,rt,F)=>{"use strict";function a(se){return se}F.d(rt,{y:()=>a})},6688:(Wt,rt,F)=>{"use strict";F.d(rt,{k:()=>a});const a=Array.isArray||(se=>se&&"number"==typeof se.length)},8515:(Wt,rt,F)=>{"use strict";F.d(rt,{z:()=>a});const a=se=>se&&"number"==typeof se.length&&"function"!=typeof se},7043:(Wt,rt,F)=>{"use strict";function a(se){return"function"==typeof se}F.d(rt,{m:()=>a})},7830:(Wt,rt,F)=>{"use strict";function a(se){return null!==se&&"object"==typeof se}F.d(rt,{K:()=>a})},8955:(Wt,rt,F)=>{"use strict";function a(se){return!!se&&"function"!=typeof se.subscribe&&"function"==typeof se.then}F.d(rt,{t:()=>a})},2866:(Wt,rt,F)=>{"use strict";function a(se){return se&&"function"==typeof se.schedule}F.d(rt,{K:()=>a})},9249:(Wt,rt,F)=>{"use strict";F.d(rt,{s:()=>ne});var a=F(3650),se=F(2782),Fe=F(5430),ue=F(3821),ve=F(8515),de=F(8955),ee=F(7830);const ne=ge=>{if(ge&&"function"==typeof ge[ue.L])return(ge=>Q=>{const fe=ge[ue.L]();if("function"!=typeof fe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return fe.subscribe(Q)})(ge);if((0,ve.z)(ge))return(0,a.V)(ge);if((0,de.t)(ge))return(ge=>Q=>(ge.then(fe=>{Q.closed||(Q.next(fe),Q.complete())},fe=>Q.error(fe)).then(null,se.z),Q))(ge);if(ge&&"function"==typeof ge[Fe.hZ])return(ge=>Q=>{const fe=ge[Fe.hZ]();for(;;){let Be;try{Be=fe.next()}catch(oe){return Q.error(oe),Q}if(Be.done){Q.complete();break}if(Q.next(Be.value),Q.closed)break}return"function"==typeof fe.return&&Q.add(()=>{fe.return&&fe.return()}),Q})(ge);{const fe=`You provided ${(0,ee.K)(ge)?"an invalid object":`'${ge}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(fe)}}},3650:(Wt,rt,F)=>{"use strict";F.d(rt,{V:()=>a});const a=se=>G=>{for(let Fe=0,Ae=se.length;Fe<Ae&&!G.closed;Fe++)G.next(se[Fe]);G.complete()}},863:(Wt,rt,F)=>{var a={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,8592,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,8592,5652],"./ion-card_5.entry.js":[388,8592,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,8592,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime_3.entry.js":[4959,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,8592,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[3545,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,8592,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,8592,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function se(G){if(!F.o(a,G))return Promise.resolve().then(()=>{var ue=new Error("Cannot find module '"+G+"'");throw ue.code="MODULE_NOT_FOUND",ue});var Fe=a[G],Ae=Fe[0];return Promise.all(Fe.slice(1).map(F.e)).then(()=>F(Ae))}se.keys=()=>Object.keys(a),se.id=863,Wt.exports=se},655:(Wt,rt,F)=>{"use strict";function Fe(le,X){var ae={};for(var Re in le)Object.prototype.hasOwnProperty.call(le,Re)&&X.indexOf(Re)<0&&(ae[Re]=le[Re]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var $e=0;for(Re=Object.getOwnPropertySymbols(le);$e<Re.length;$e++)X.indexOf(Re[$e])<0&&Object.prototype.propertyIsEnumerable.call(le,Re[$e])&&(ae[Re[$e]]=le[Re[$e]])}return ae}function Ae(le,X,ae,Re){var kt,$e=arguments.length,pt=$e<3?X:null===Re?Re=Object.getOwnPropertyDescriptor(X,ae):Re;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pt=Reflect.decorate(le,X,ae,Re);else for(var it=le.length-1;it>=0;it--)(kt=le[it])&&(pt=($e<3?kt(pt):$e>3?kt(X,ae,pt):kt(X,ae))||pt);return $e>3&&pt&&Object.defineProperty(X,ae,pt),pt}function ve(le,X,ae,Re){return new(ae||(ae=Promise))(function(pt,kt){function it(Xe){try{qe(Re.next(Xe))}catch(st){kt(st)}}function gt(Xe){try{qe(Re.throw(Xe))}catch(st){kt(st)}}function qe(Xe){Xe.done?pt(Xe.value):function $e(pt){return pt instanceof ae?pt:new ae(function(kt){kt(pt)})}(Xe.value).then(it,gt)}qe((Re=Re.apply(le,X||[])).next())})}F.d(rt,{_T:()=>Fe,gn:()=>Ae,mG:()=>ve})},9671:(Wt,rt,F)=>{"use strict";function a(G,Fe,Ae,ue,De,ve,de){try{var ee=G[ve](de),ne=ee.value}catch(ge){return void Ae(ge)}ee.done?Fe(ne):Promise.resolve(ne).then(ue,De)}function se(G){return function(){var Fe=this,Ae=arguments;return new Promise(function(ue,De){var ve=G.apply(Fe,Ae);function de(ne){a(ve,ue,De,de,ee,"next",ne)}function ee(ne){a(ve,ue,De,de,ee,"throw",ne)}de(void 0)})}}F.d(rt,{Z:()=>se})},9808:(Wt,rt,F)=>{"use strict";F.d(rt,{Do:()=>mt,EM:()=>ps,HT:()=>Ae,JF:()=>Gi,K0:()=>De,Mx:()=>Rr,O5:()=>Y,PM:()=>fi,S$:()=>xe,V_:()=>ee,Ye:()=>Dt,b0:()=>_e,bD:()=>hs,ez:()=>ji,lw:()=>ve,mr:()=>ut,q:()=>G,sg:()=>ri,tP:()=>gn,w_:()=>ue});var a=F(6435);let se=null;function G(){return se}function Ae(N){se||(se=N)}class ue{}const De=new a.OlP("DocumentToken");let ve=(()=>{class N{historyGo(k){throw new Error("Not implemented")}}return N.\u0275fac=function(k){return new(k||N)},N.\u0275prov=a.Yz7({token:N,factory:function(){return function de(){return(0,a.LFG)(ne)}()},providedIn:"platform"}),N})();const ee=new a.OlP("Location Initialized");let ne=(()=>{class N extends ve{constructor(k){super(),this._doc=k,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(k){const te=G().getGlobalEventTarget(this._doc,"window");return te.addEventListener("popstate",k,!1),()=>te.removeEventListener("popstate",k)}onHashChange(k){const te=G().getGlobalEventTarget(this._doc,"window");return te.addEventListener("hashchange",k,!1),()=>te.removeEventListener("hashchange",k)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(k){this.location.pathname=k}pushState(k,te,He){ge()?this._history.pushState(k,te,He):this.location.hash=He}replaceState(k,te,He){ge()?this._history.replaceState(k,te,He):this.location.hash=He}forward(){this._history.forward()}back(){this._history.back()}historyGo(k=0){this._history.go(k)}getState(){return this._history.state}}return N.\u0275fac=function(k){return new(k||N)(a.LFG(De))},N.\u0275prov=a.Yz7({token:N,factory:function(){return function Q(){return new ne((0,a.LFG)(De))}()},providedIn:"platform"}),N})();function ge(){return!!window.history.pushState}function fe(N,K){if(0==N.length)return K;if(0==K.length)return N;let k=0;return N.endsWith("/")&&k++,K.startsWith("/")&&k++,2==k?N+K.substring(1):1==k?N+K:N+"/"+K}function Be(N){const K=N.match(/#|\?|$/),k=K&&K.index||N.length;return N.slice(0,k-("/"===N[k-1]?1:0))+N.slice(k)}function oe(N){return N&&"?"!==N[0]?"?"+N:N}let xe=(()=>{class N{historyGo(k){throw new Error("Not implemented")}}return N.\u0275fac=function(k){return new(k||N)},N.\u0275prov=a.Yz7({token:N,factory:function(){return function ye(N){const K=(0,a.LFG)(De).location;return new _e((0,a.LFG)(ve),K&&K.origin||"")}()},providedIn:"root"}),N})();const ut=new a.OlP("appBaseHref");let _e=(()=>{class N extends xe{constructor(k,te){if(super(),this._platformLocation=k,this._removeListenerFns=[],null==te&&(te=this._platformLocation.getBaseHrefFromDOM()),null==te)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=te}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}prepareExternalUrl(k){return fe(this._baseHref,k)}path(k=!1){const te=this._platformLocation.pathname+oe(this._platformLocation.search),He=this._platformLocation.hash;return He&&k?`${te}${He}`:te}pushState(k,te,He,x){const A=this.prepareExternalUrl(He+oe(x));this._platformLocation.pushState(k,te,A)}replaceState(k,te,He,x){const A=this.prepareExternalUrl(He+oe(x));this._platformLocation.replaceState(k,te,A)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(k=0){var te,He;null===(He=(te=this._platformLocation).historyGo)||void 0===He||He.call(te,k)}}return N.\u0275fac=function(k){return new(k||N)(a.LFG(ve),a.LFG(ut,8))},N.\u0275prov=a.Yz7({token:N,factory:N.\u0275fac}),N})(),mt=(()=>{class N extends xe{constructor(k,te){super(),this._platformLocation=k,this._baseHref="",this._removeListenerFns=[],null!=te&&(this._baseHref=te)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(k){this._removeListenerFns.push(this._platformLocation.onPopState(k),this._platformLocation.onHashChange(k))}getBaseHref(){return this._baseHref}path(k=!1){let te=this._platformLocation.hash;return null==te&&(te="#"),te.length>0?te.substring(1):te}prepareExternalUrl(k){const te=fe(this._baseHref,k);return te.length>0?"#"+te:te}pushState(k,te,He,x){let A=this.prepareExternalUrl(He+oe(x));0==A.length&&(A=this._platformLocation.pathname),this._platformLocation.pushState(k,te,A)}replaceState(k,te,He,x){let A=this.prepareExternalUrl(He+oe(x));0==A.length&&(A=this._platformLocation.pathname),this._platformLocation.replaceState(k,te,A)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(k=0){var te,He;null===(He=(te=this._platformLocation).historyGo)||void 0===He||He.call(te,k)}}return N.\u0275fac=function(k){return new(k||N)(a.LFG(ve),a.LFG(ut,8))},N.\u0275prov=a.Yz7({token:N,factory:N.\u0275fac}),N})(),Dt=(()=>{class N{constructor(k,te){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=k;const He=this._platformStrategy.getBaseHref();this._platformLocation=te,this._baseHref=Be(lt(He)),this._platformStrategy.onPopState(x=>{this._subject.emit({url:this.path(!0),pop:!0,state:x.state,type:x.type})})}path(k=!1){return this.normalize(this._platformStrategy.path(k))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(k,te=""){return this.path()==this.normalize(k+oe(te))}normalize(k){return N.stripTrailingSlash(function Pe(N,K){return N&&K.startsWith(N)?K.substring(N.length):K}(this._baseHref,lt(k)))}prepareExternalUrl(k){return k&&"/"!==k[0]&&(k="/"+k),this._platformStrategy.prepareExternalUrl(k)}go(k,te="",He=null){this._platformStrategy.pushState(He,"",k,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+oe(te)),He)}replaceState(k,te="",He=null){this._platformStrategy.replaceState(He,"",k,te),this._notifyUrlChangeListeners(this.prepareExternalUrl(k+oe(te)),He)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(k=0){var te,He;null===(He=(te=this._platformStrategy).historyGo)||void 0===He||He.call(te,k)}onUrlChange(k){this._urlChangeListeners.push(k),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(te=>{this._notifyUrlChangeListeners(te.url,te.state)}))}_notifyUrlChangeListeners(k="",te){this._urlChangeListeners.forEach(He=>He(k,te))}subscribe(k,te,He){return this._subject.subscribe({next:k,error:te,complete:He})}}return N.normalizeQueryParams=oe,N.joinWithSlash=fe,N.stripTrailingSlash=Be,N.\u0275fac=function(k){return new(k||N)(a.LFG(xe),a.LFG(ve))},N.\u0275prov=a.Yz7({token:N,factory:function(){return function dt(){return new Dt((0,a.LFG)(xe),(0,a.LFG)(ve))}()},providedIn:"root"}),N})();function lt(N){return N.replace(/\/index.html$/,"")}var le=(()=>((le=le||{})[le.Zero=0]="Zero",le[le.One=1]="One",le[le.Two=2]="Two",le[le.Few=3]="Few",le[le.Many=4]="Many",le[le.Other=5]="Other",le))();const Dr=a.kL8;class Rn{}let ir=(()=>{class N extends Rn{constructor(k){super(),this.locale=k}getPluralCategory(k,te){switch(Dr(te||this.locale)(k)){case le.Zero:return"zero";case le.One:return"one";case le.Two:return"two";case le.Few:return"few";case le.Many:return"many";default:return"other"}}}return N.\u0275fac=function(k){return new(k||N)(a.LFG(a.soG))},N.\u0275prov=a.Yz7({token:N,factory:N.\u0275fac}),N})();function Rr(N,K){K=encodeURIComponent(K);for(const k of N.split(";")){const te=k.indexOf("="),[He,x]=-1==te?[k,""]:[k.slice(0,te),k.slice(te+1)];if(He.trim()===K)return decodeURIComponent(x)}return null}class qr{constructor(K,k,te,He){this.$implicit=K,this.ngForOf=k,this.index=te,this.count=He}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ri=(()=>{class N{constructor(k,te,He){this._viewContainer=k,this._template=te,this._differs=He,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(k){this._ngForOf=k,this._ngForOfDirty=!0}set ngForTrackBy(k){this._trackByFn=k}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(k){k&&(this._template=k)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const k=this._ngForOf;if(!this._differ&&k)try{this._differ=this._differs.find(k).create(this.ngForTrackBy)}catch(te){throw new Error(`Cannot find a differ supporting object '${k}' of type '${function ei(N){return N.name||typeof N}(k)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const k=this._differ.diff(this._ngForOf);k&&this._applyChanges(k)}}_applyChanges(k){const te=[];k.forEachOperation((He,x,A)=>{if(null==He.previousIndex){const S=this._viewContainer.createEmbeddedView(this._template,new qr(null,this._ngForOf,-1,-1),null===A?void 0:A),z=new Sn(He,S);te.push(z)}else if(null==A)this._viewContainer.remove(null===x?void 0:x);else if(null!==x){const S=this._viewContainer.get(x);this._viewContainer.move(S,A);const z=new Sn(He,S);te.push(z)}});for(let He=0;He<te.length;He++)this._perViewChange(te[He].view,te[He].record);for(let He=0,x=this._viewContainer.length;He<x;He++){const A=this._viewContainer.get(He);A.context.index=He,A.context.count=x,A.context.ngForOf=this._ngForOf}k.forEachIdentityChange(He=>{this._viewContainer.get(He.currentIndex).context.$implicit=He.item})}_perViewChange(k,te){k.context.$implicit=te.item}static ngTemplateContextGuard(k,te){return!0}}return N.\u0275fac=function(k){return new(k||N)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},N.\u0275dir=a.lG2({type:N,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),N})();class Sn{constructor(K,k){this.record=K,this.view=k}}let Y=(()=>{class N{constructor(k,te){this._viewContainer=k,this._context=new pe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=te}set ngIf(k){this._context.$implicit=this._context.ngIf=k,this._updateView()}set ngIfThen(k){Le("ngIfThen",k),this._thenTemplateRef=k,this._thenViewRef=null,this._updateView()}set ngIfElse(k){Le("ngIfElse",k),this._elseTemplateRef=k,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(k,te){return!0}}return N.\u0275fac=function(k){return new(k||N)(a.Y36(a.s_b),a.Y36(a.Rgc))},N.\u0275dir=a.lG2({type:N,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),N})();class pe{constructor(){this.$implicit=null,this.ngIf=null}}function Le(N,K){if(K&&!K.createEmbeddedView)throw new Error(`${N} must be a TemplateRef, but received '${(0,a.AaK)(K)}'.`)}let gn=(()=>{class N{constructor(k){this._viewContainerRef=k,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(k){if(k.ngTemplateOutlet){const te=this._viewContainerRef;this._viewRef&&te.remove(te.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?te.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&k.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return N.\u0275fac=function(k){return new(k||N)(a.Y36(a.s_b))},N.\u0275dir=a.lG2({type:N,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[a.TTD]}),N})(),ji=(()=>{class N{}return N.\u0275fac=function(k){return new(k||N)},N.\u0275mod=a.oAB({type:N}),N.\u0275inj=a.cJS({providers:[{provide:Rn,useClass:ir}]}),N})();const hs="browser";function fi(N){return"server"===N}let ps=(()=>{class N{}return N.\u0275prov=(0,a.Yz7)({token:N,providedIn:"root",factory:()=>new ii((0,a.LFG)(De),window)}),N})();class ii{constructor(K,k){this.document=K,this.window=k,this.offset=()=>[0,0]}setOffset(K){this.offset=Array.isArray(K)?()=>K:K}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(K){this.supportsScrolling()&&this.window.scrollTo(K[0],K[1])}scrollToAnchor(K){if(!this.supportsScrolling())return;const k=function $i(N,K){const k=N.getElementById(K)||N.getElementsByName(K)[0];if(k)return k;if("function"==typeof N.createTreeWalker&&N.body&&(N.body.createShadowRoot||N.body.attachShadow)){const te=N.createTreeWalker(N.body,NodeFilter.SHOW_ELEMENT);let He=te.currentNode;for(;He;){const x=He.shadowRoot;if(x){const A=x.getElementById(K)||x.querySelector(`[name="${K}"]`);if(A)return A}He=te.nextNode()}}return null}(this.document,K);k&&(this.scrollToElement(k),this.attemptFocus(k))}setHistoryScrollRestoration(K){if(this.supportScrollRestoration()){const k=this.window.history;k&&k.scrollRestoration&&(k.scrollRestoration=K)}}scrollToElement(K){const k=K.getBoundingClientRect(),te=k.left+this.window.pageXOffset,He=k.top+this.window.pageYOffset,x=this.offset();this.window.scrollTo(te-x[0],He-x[1])}attemptFocus(K){return K.focus(),this.document.activeElement===K}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const K=os(this.window.history)||os(Object.getPrototypeOf(this.window.history));return!(!K||!K.writable&&!K.set)}catch(K){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(K){return!1}}}function os(N){return Object.getOwnPropertyDescriptor(N,"scrollRestoration")}class Gi{}},6435:(Wt,rt,F)=>{"use strict";F.d(rt,{deG:()=>Ur,tb:()=>db,AFp:()=>ub,ip1:()=>b_,CZH:()=>Pf,hGG:()=>II,z2F:()=>Vg,sBO:()=>Qw,Sil:()=>w_,_Vd:()=>Og,EJc:()=>fb,SBq:()=>Pg,qLn:()=>du,vpe:()=>ul,tBr:()=>nu,XFs:()=>Lt,OlP:()=>Ii,zs3:()=>Yo,ZZ4:()=>Ay,aQg:()=>xy,soG:()=>Ty,YKP:()=>I0,h0i:()=>Mf,PXZ:()=>Gw,R0b:()=>Ta,FiY:()=>Ba,Lbi:()=>cb,g9A:()=>lb,Qsj:()=>CE,FYo:()=>v0,JOm:()=>ln,tp0:()=>ru,Rgc:()=>Lg,dDg:()=>mb,q4F:()=>b0,GfV:()=>_0,s_b:()=>wy,ifc:()=>Ar,eFA:()=>_b,G48:()=>Xw,Gpc:()=>oe,f3M:()=>oi,X6Q:()=>Zw,_c5:()=>mI,VLi:()=>Uw,c2e:()=>hb,zSh:()=>Od,wAp:()=>sr,vHH:()=>_e,cg1:()=>Wd,kL8:()=>ol,dqk:()=>ke,sIi:()=>Vl,CqO:()=>Fd,QGY:()=>ua,F4k:()=>Ju,RDi:()=>Gi,AaK:()=>Q,qOj:()=>Bp,TTD:()=>Ni,_Bn:()=>g0,xp6:()=>bc,uIk:()=>kd,ekj:()=>gg,Suo:()=>U0,Xpm:()=>dr,lG2:()=>wr,Yz7:()=>en,cJS:()=>bn,oAB:()=>hi,Yjl:()=>Wr,Y36:()=>$c,_UZ:()=>$m,GkF:()=>Ka,qZA:()=>ig,TgZ:()=>rg,EpF:()=>xv,n5z:()=>Cn,LFG:()=>ni,$8M:()=>jr,$Z:()=>Vm,NdJ:()=>og,CRH:()=>j0,oxw:()=>el,Hsn:()=>lg,F$t:()=>Uc,Q6J:()=>ng,s9C:()=>Bd,DdM:()=>S0,VKq:()=>A0,iGM:()=>V0,CHM:()=>ie,LSH:()=>sd,YNc:()=>Nd,_uU:()=>ny,Oqu:()=>_g,hij:()=>If,Gf:()=>$0});var a=F(8929),se=F(2654),G=F(2916),Fe=F(6787),Ae=F(1762);class De{constructor(r,s){this.subjectFactory=r,this.selector=s}call(r,s){const{selector:u}=this,c=this.subjectFactory(),f=u(c).subscribe(r);return f.add(s.subscribe(c)),f}}var ve=F(4327);function de(){return new a.xQ}function ne(n){for(let r in n)if(n[r]===ne)return r;throw Error("Could not find renamed property on target object.")}function ge(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Q(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Q).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function fe(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const Be=ne({__forward_ref__:ne});function oe(n){return n.__forward_ref__=oe,n.toString=function(){return Q(this())},n}function xe(n){return ye(n)?n():n}function ye(n){return"function"==typeof n&&n.hasOwnProperty(Be)&&n.__forward_ref__===oe}class _e extends Error{constructor(r,s){super(function Dt(n,r){return`${n?`NG0${n}: `:""}${r}`}(r,s)),this.code=r}}function dt(n){return"string"==typeof n?n:null==n?"":String(n)}function Pe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():dt(n)}function le(n,r){const s=r?` in ${r}`:"";throw new _e("201",`No provider for ${Pe(n)} found${s}`)}function It(n,r){null==n&&function Ge(n,r,s,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${s} ${u} ${r} <=Actual]`))}(r,n,null,"!=")}function en(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function bn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Dr(n){return Gn(n,On)||Gn(n,Bn)}function Gn(n,r){return n.hasOwnProperty(r)?n[r]:null}function or(n){return n&&(n.hasOwnProperty(Kn)||n.hasOwnProperty(Wn))?n[Kn]:null}const On=ne({\u0275prov:ne}),Kn=ne({\u0275inj:ne}),Bn=ne({ngInjectableDef:ne}),Wn=ne({ngInjectorDef:ne});var Lt=(()=>((Lt=Lt||{})[Lt.Default=0]="Default",Lt[Lt.Host=1]="Host",Lt[Lt.Self=2]="Self",Lt[Lt.SkipSelf=4]="SkipSelf",Lt[Lt.Optional=8]="Optional",Lt))();let Pr;function gr(n){const r=Pr;return Pr=n,r}function zn(n,r,s){const u=Dr(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&Lt.Optional?null:void 0!==r?r:void le(Q(n),"Injector")}function fn(n){return{toString:n}.toString()}var Qn=(()=>((Qn=Qn||{})[Qn.OnPush=0]="OnPush",Qn[Qn.Default=1]="Default",Qn))(),Ar=(()=>{return(n=Ar||(Ar={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Ar;var n})();const rn="undefined"!=typeof globalThis&&globalThis,kr="undefined"!=typeof window&&window,Ne="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ke=rn||"undefined"!=typeof global&&global||kr||Ne,ot={},Et=[],$t=ne({\u0275cmp:ne}),tn=ne({\u0275dir:ne}),yn=ne({\u0275pipe:ne}),Jn=ne({\u0275mod:ne}),qt=ne({\u0275fac:ne}),Pn=ne({__NG_ELEMENT_ID__:ne});let Er=0;function dr(n){return fn(()=>{const s={},u={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Qn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Et,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Ar.Emulated,id:"c",styles:n.styles||Et,_:null,setInput:null,schemas:n.schemas||null,tView:null},c=n.directives,f=n.features,E=n.pipes;return u.id+=Er++,u.inputs=zr(n.inputs,s),u.outputs=zr(n.outputs),f&&f.forEach(T=>T(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(Gr):null,u.pipeDefs=E?()=>("function"==typeof E?E():E).map(Vr):null,u})}function Gr(n){return vn(n)||function Mr(n){return n[tn]||null}(n)}function Vr(n){return function tt(n){return n[yn]||null}(n)}const ui={};function hi(n){return fn(()=>{const r={type:n.type,bootstrap:n.bootstrap||Et,declarations:n.declarations||Et,imports:n.imports||Et,exports:n.exports||Et,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(ui[n.id]=n.type),r})}function zr(n,r){if(null==n)return ot;const s={};for(const u in n)if(n.hasOwnProperty(u)){let c=n[u],f=c;Array.isArray(c)&&(f=c[1],c=c[0]),s[c]=u,r&&(r[c]=f)}return s}const wr=dr;function Wr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function vn(n){return n[$t]||null}function Me(n,r){const s=n[Jn]||null;if(!s&&!0===r)throw new Error(`Type ${Q(n)} does not have '\u0275mod' property.`);return s}function zt(n){return Array.isArray(n)&&"object"==typeof n[1]}function gn(n){return Array.isArray(n)&&!0===n[1]}function kn(n){return 0!=(8&n.flags)}function Fn(n){return 2==(2&n.flags)}function Cr(n){return 1==(1&n.flags)}function ar(n){return null!==n.template}function ze(n){return 0!=(512&n[2])}function ji(n,r){return n.hasOwnProperty(qt)?n[qt]:null}class hs{constructor(r,s,u){this.previousValue=r,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ni(){return Si}function Si(n){return n.type.prototype.ngOnChanges&&(n.setInput=_i),Xi}function Xi(){const n=pi(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===ot)n.previous=r;else for(let u in r)s[u]=r[u];n.current=null,this.ngOnChanges(r)}}function _i(n,r,s,u){const c=pi(n)||function fs(n,r){return n[fi]=r}(n,{previous:ot,current:null}),f=c.current||(c.current={}),E=c.previous,T=this.declaredInputs[s],R=E[T];f[T]=new hs(R&&R.currentValue,r,E===ot),n[u]=r}Ni.ngInherit=!0;const fi="__ngSimpleChanges__";function pi(n){return n[fi]||null}let gs;function Gi(n){gs=n}function k(n){return!!n.listen}const te={createRenderer:(n,r)=>function N(){return void 0!==gs?gs:"undefined"!=typeof document?document:void 0}()};function x(n){for(;Array.isArray(n);)n=n[0];return n}function z(n,r){return x(r[n])}function ht(n,r){return x(r[n.index])}function In(n,r){return n.data[r]}function qn(n,r){const s=r[n];return zt(s)?s:s[0]}function $r(n){return 4==(4&n[2])}function bi(n){return 128==(128&n[2])}function Yr(n,r){return null==r?null:n[r]}function si(n){n[18]=0}function Ps(n,r){n[5]+=r;let s=n,u=n[3];for(;null!==u&&(1===r&&1===s[5]||-1===r&&0===s[5]);)u[5]+=r,s=u,u=u[3]}const xn={lFrame:Aa(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function L(){return xn.bindingsEnabled}function m(){return xn.lFrame.lView}function V(){return xn.lFrame.tView}function ie(n){return xn.lFrame.contextLView=n,n[8]}function Ie(){let n=nt();for(;null!==n&&64===n.type;)n=n.parent;return n}function nt(){return xn.lFrame.currentTNode}function Jt(n,r){const s=xn.lFrame;s.currentTNode=n,s.isParent=r}function Kt(){return xn.lFrame.isParent}function Un(){xn.lFrame.isParent=!1}function fr(){return xn.isInCheckNoChangesMode}function Or(n){xn.isInCheckNoChangesMode=n}function yr(){const n=xn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Qi(){return xn.lFrame.bindingIndex++}function io(n,r){const s=xn.lFrame;s.bindingIndex=s.bindingRootIndex=n,oo(r)}function oo(n){xn.lFrame.currentDirectiveIndex=n}function vo(){return xn.lFrame.currentQueryIndex}function Xo(n){xn.lFrame.currentQueryIndex=n}function $o(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function Za(n,r,s){if(s&Lt.SkipSelf){let c=r,f=n;for(;!(c=c.parent,null!==c||s&Lt.Host||(c=$o(f),null===c||(f=f[15],10&c.type))););if(null===c)return!1;r=c,n=f}const u=xn.lFrame=Xa();return u.currentTNode=r,u.lView=n,!0}function Ji(n){const r=Xa(),s=n[1];xn.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Xa(){const n=xn.lFrame,r=null===n?null:n.child;return null===r?Aa(n):r}function Aa(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Uo(){const n=xn.lFrame;return xn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const jo=Uo;function Mo(){const n=Uo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ss(){return xn.lFrame.selectedIndex}function Xs(n){xn.lFrame.selectedIndex=n}function Ei(){const n=xn.lFrame;return In(n.tView,n.selectedIndex)}function _o(n,r){for(let s=r.directiveStart,u=r.directiveEnd;s<u;s++){const f=n.data[s].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:T,ngAfterViewInit:R,ngAfterViewChecked:j,ngOnDestroy:q}=f;E&&(n.contentHooks||(n.contentHooks=[])).push(-s,E),T&&((n.contentHooks||(n.contentHooks=[])).push(s,T),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,T)),R&&(n.viewHooks||(n.viewHooks=[])).push(-s,R),j&&((n.viewHooks||(n.viewHooks=[])).push(s,j),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,j)),null!=q&&(n.destroyHooks||(n.destroyHooks=[])).push(s,q)}}function Fi(n,r,s){Ra(n,r,3,s)}function Ro(n,r,s,u){(3&n[2])===s&&Ra(n,r,s,u)}function Ma(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function Ra(n,r,s,u){const f=null!=u?u:-1,E=r.length-1;let T=0;for(let R=void 0!==u?65535&n[18]:0;R<E;R++)if("number"==typeof r[R+1]){if(T=r[R],null!=u&&T>=u)break}else r[R]<0&&(n[18]+=65536),(T<f||-1==f)&&(bo(n,s,r,R),n[18]=(4294901760&n[18])+R+2),R++}function bo(n,r,s,u){const c=s[u]<0,f=s[u+1],T=n[c?-s[u]:s[u]];if(c){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{f.call(T)}finally{}}}else try{f.call(T)}finally{}}class zi{constructor(r,s,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function js(n,r,s){const u=k(n);let c=0;for(;c<s.length;){const f=s[c];if("number"==typeof f){if(0!==f)break;c++;const E=s[c++],T=s[c++],R=s[c++];u?n.setAttribute(r,T,R,E):r.setAttributeNS(E,T,R)}else{const E=f,T=s[++c];Oa(E)?u&&n.setProperty(r,E,T):u?n.setAttribute(r,E,T):r.setAttribute(E,T),c++}}return c}function ea(n){return 3===n||4===n||6===n}function Oa(n){return 64===n.charCodeAt(0)}function lo(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let u=0;u<r.length;u++){const c=r[u];"number"==typeof c?s=c:0===s||Pa(n,s,c,null,-1===s||2===s?r[++u]:null)}}return n}function Pa(n,r,s,u,c){let f=0,E=n.length;if(-1===r)E=-1;else for(;f<n.length;){const T=n[f++];if("number"==typeof T){if(T===r){E=-1;break}if(T>r){E=f-1;break}}}for(;f<n.length;){const T=n[f];if("number"==typeof T)break;if(T===s){if(null===u)return void(null!==c&&(n[f+1]=c));if(u===n[f+1])return void(n[f+2]=c)}f++,null!==u&&f++,null!==c&&f++}-1!==E&&(n.splice(E,0,r),f=E+1),n.splice(f++,0,s),null!==u&&n.splice(f++,0,u),null!==c&&n.splice(f++,0,c)}function di(n){return-1!==n}function Hs(n){return 32767&n}function Eo(n,r){let s=function ka(n){return n>>16}(n),u=r;for(;s>0;)u=u[15],s--;return u}let Li=!0;function wo(n){const r=Li;return Li=n,r}let Qt=0;function Fs(n,r){const s=Dn(n,r);if(-1!==s)return s;const u=r[1];u.firstCreatePass&&(n.injectorIndex=r.length,es(u.data,n),es(r,null),es(u.blueprint,null));const c=jn(n,r),f=n.injectorIndex;if(di(c)){const E=Hs(c),T=Eo(c,r),R=T[1].data;for(let j=0;j<8;j++)r[f+j]=T[E+j]|R[E+j]}return r[f+8]=c,f}function es(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Dn(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function jn(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,u=null,c=r;for(;null!==c;){const f=c[1],E=f.type;if(u=2===E?f.declTNode:1===E?c[6]:null,null===u)return-1;if(s++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return-1}function Io(n,r,s){!function wi(n,r,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(Pn)&&(u=s[Pn]),null==u&&(u=s[Pn]=Qt++);const c=255&u;r.data[n+(c>>5)]|=1<<c}(n,r,s)}function Tt(n,r,s){if(s&Lt.Optional)return n;le(r,"NodeInjector")}function C(n,r,s,u){if(s&Lt.Optional&&void 0===u&&(u=null),0==(s&(Lt.Self|Lt.Host))){const c=n[9],f=gr(void 0);try{return c?c.get(r,u,s&Lt.Optional):zn(r,u,s&Lt.Optional)}finally{gr(f)}}return Tt(u,r,s)}function I(n,r,s,u=Lt.Default,c){if(null!==n){const f=function We(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Pn)?n[Pn]:void 0;return"number"==typeof r?r>=0?255&r:P:r}(s);if("function"==typeof f){if(!Za(r,n,u))return u&Lt.Host?Tt(c,s,u):C(r,s,u,c);try{const E=f(u);if(null!=E||u&Lt.Optional)return E;le(s)}finally{jo()}}else if("number"==typeof f){let E=null,T=Dn(n,r),R=-1,j=u&Lt.Host?r[16][6]:null;for((-1===T||u&Lt.SkipSelf)&&(R=-1===T?jn(n,r):r[T+8],-1!==R&&En(u,!1)?(E=r[1],T=Hs(R),r=Eo(R,r)):T=-1);-1!==T;){const q=r[1];if(Ot(f,T,q.data)){const be=$(T,r,s,E,u,j);if(be!==w)return be}R=r[T+8],-1!==R&&En(u,r[1].data[T+8]===j)&&Ot(f,T,r)?(E=q,T=Hs(R),r=Eo(R,r)):T=-1}}}return C(r,s,u,c)}const w={};function P(){return new _r(Ie(),m())}function $(n,r,s,u,c,f){const E=r[1],T=E.data[n+8],q=Z(T,E,s,null==u?Fn(T)&&Li:u!=E&&0!=(3&T.type),c&Lt.Host&&f===T);return null!==q?Ce(r,E,q,T):w}function Z(n,r,s,u,c){const f=n.providerIndexes,E=r.data,T=1048575&f,R=n.directiveStart,q=f>>20,Ke=c?T+q:n.directiveEnd;for(let yt=u?T:T+q;yt<Ke;yt++){const Nt=E[yt];if(yt<R&&s===Nt||yt>=R&&Nt.type===s)return yt}if(c){const yt=E[R];if(yt&&ar(yt)&&yt.type===s)return R}return null}function Ce(n,r,s,u){let c=n[s];const f=r.data;if(function Ho(n){return n instanceof zi}(c)){const E=c;E.resolving&&function lt(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new _e("200",`Circular dependency in DI detected for ${n}${s}`)}(Pe(f[s]));const T=wo(E.canSeeViewProviders);E.resolving=!0;const R=E.injectImpl?gr(E.injectImpl):null;Za(n,u,Lt.Default);try{c=n[s]=E.factory(void 0,f,n,u),r.firstCreatePass&&s>=u.directiveStart&&function uo(n,r,s){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:f}=r.type.prototype;if(u){const E=Si(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,E),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,E)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,c),f&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,f),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,f))}(s,f[s],r)}finally{null!==R&&gr(R),wo(T),E.resolving=!1,jo()}}return c}function Ot(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function En(n,r){return!(n&Lt.Self||n&Lt.Host&&r)}class _r{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,u){return I(this._tNode,this._lView,r,u,s)}}function Cn(n){return fn(()=>{const r=n.prototype.constructor,s=r[qt]||Nr(r),u=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==u;){const f=c[qt]||Nr(c);if(f&&f!==s)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function Nr(n){return ye(n)?()=>{const r=Nr(xe(n));return r&&r()}:ji(n)}function jr(n){return function hn(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const u=s.length;let c=0;for(;c<u;){const f=s[c];if(ea(f))break;if(0===f)c+=2;else if("number"==typeof f)for(c++;c<u&&"string"==typeof s[c];)c++;else{if(f===r)return s[c+1];c+=2}}}return null}(Ie(),n)}const Bi="__parameters__";function ys(n,r,s){return fn(()=>{const u=function Vn(n){return function(...s){if(n){const u=n(...s);for(const c in u)this[c]=u[c]}}}(r);function c(...f){if(this instanceof c)return u.apply(this,f),this;const E=new c(...f);return T.annotation=E,T;function T(R,j,q){const be=R.hasOwnProperty(Bi)?R[Bi]:Object.defineProperty(R,Bi,{value:[]})[Bi];for(;be.length<=q;)be.push(null);return(be[q]=be[q]||[]).push(E),R}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class Ii{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=en({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ur=new Ii("AnalyzeForEntryComponents");function Mi(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let u=n[s];Array.isArray(u)?(r===n&&(r=n.slice(0,s)),Mi(u,r)):r!==n&&r.push(u)}return r}function As(n,r){n.forEach(s=>Array.isArray(s)?As(s,r):r(s))}function Po(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function ra(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function sn(n,r){const s=[];for(let u=0;u<n;u++)s.push(r);return s}function zs(n,r,s){let u=Fo(n,r);return u>=0?n[1|u]=s:(u=~u,function ha(n,r,s,u){let c=n.length;if(c==r)n.push(s,u);else if(1===c)n.push(u,n[0]),n[0]=s;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=s,n[r+1]=u}}(n,u,r,s)),u}function Ws(n,r){const s=Fo(n,r);if(s>=0)return n[1|s]}function Fo(n,r){return function Fa(n,r,s){let u=0,c=n.length>>s;for(;c!==u;){const f=u+(c-u>>1),E=n[f<<s];if(r===E)return f<<s;E>r?c=f:u=f+1}return~(c<<s)}(n,r,1)}const ct={},vt="__NG_DI_FLAG__",Zt="ngTempTokenPath",nr=/\n/gm,xr="__source",cr=ne({provide:String,useValue:ne});let ns;function us(n){const r=ns;return ns=n,r}function La(n,r=Lt.Default){if(void 0===ns)throw new Error("inject() must be called from an injection context");return null===ns?zn(n,void 0,r):ns.get(n,r&Lt.Optional?null:void 0,r)}function ni(n,r=Lt.Default){return(function Bt(){return Pr}()||La)(xe(n),r)}const oi=ni;function Do(n){const r=[];for(let s=0;s<n.length;s++){const u=xe(n[s]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let c,f=Lt.Default;for(let E=0;E<u.length;E++){const T=u[E],R=gi(T);"number"==typeof R?-1===R?c=T.token:f|=R:c=T}r.push(ni(c,f))}else r.push(ni(u))}return r}function Ri(n,r){return n[vt]=r,n.prototype[vt]=r,n}function gi(n){return n[vt]}const nu=Ri(ys("Inject",n=>({token:n})),-1),Ba=Ri(ys("Optional"),8),ru=Ri(ys("SkipSelf"),4);class Zc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function qo(n){return n instanceof Zc?n.changingThisBreaksApplicationSecurity:n}const Co=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ku=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Ci=(()=>((Ci=Ci||{})[Ci.NONE=0]="NONE",Ci[Ci.HTML=1]="HTML",Ci[Ci.STYLE=2]="STYLE",Ci[Ci.SCRIPT=3]="SCRIPT",Ci[Ci.URL=4]="URL",Ci[Ci.RESOURCE_URL=5]="RESOURCE_URL",Ci))();function sd(n){const r=function ma(){const n=m();return n&&n[12]}();return r?r.sanitize(Ci.URL,n)||"":function vl(n,r){const s=function Qc(n){return n instanceof Zc&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?qo(n):function uu(n){return(n=String(n)).match(Co)||n.match(ku)?n:"unsafe:"+n}(dt(n))}const oc="__ngContext__";function Ys(n,r){n[oc]=r}function ac(n){const r=function ja(n){return n[oc]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function Al(n){return n.ngOriginalError}function cc(n,...r){n.error(...r)}class du{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),u=function eo(n){return n&&n.ngErrorLogger||cc}(r);u(this._console,"ERROR",r),s&&u(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Al(r);for(;s&&Al(s);)s=Al(s);return s||null}}const yh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ke))();function U(n){return n instanceof Function?n():n}var ln=(()=>((ln=ln||{})[ln.Important=1]="Important",ln[ln.DashCase=2]="DashCase",ln))();function $n(n,r){return undefined(n,r)}function Ha(n){const r=n[3];return gn(r)?r[3]:r}function fc(n){return gc(n[13])}function pc(n){return gc(n[4])}function gc(n){for(;null!==n&&!gn(n);)n=n[4];return n}function fu(n,r,s,u,c){if(null!=u){let f,E=!1;gn(u)?f=u:zt(u)&&(E=!0,u=u[0]);const T=x(u);0===n&&null!==s?null==c?Lu(r,s,T):Rl(r,s,T,c||null,!0):1===n&&null!==s?Rl(r,s,T,c||null,!0):2===n?function Bu(n,r,s){const u=pd(n,r);u&&function Qf(n,r,s,u){k(n)?n.removeChild(r,s,u):r.removeChild(s)}(n,u,r,s)}(r,T,E):3===n&&r.destroyNode(T),null!=f&&function ep(n,r,s,u,c){const f=s[7];f!==x(s)&&fu(r,n,u,f,c);for(let T=10;T<s.length;T++){const R=s[T];gu(R[1],R,n,r,u,f)}}(r,n,f,s,c)}}function Ml(n,r,s){return k(n)?n.createElement(r,s):null===s?n.createElement(r):n.createElementNS(s,r)}function Zf(n,r){const s=n[9],u=s.indexOf(r),c=r[3];1024&r[2]&&(r[2]&=-1025,Ps(c,-1)),s.splice(u,1)}function vh(n,r){if(n.length<=10)return;const s=10+r,u=n[s];if(u){const c=u[17];null!==c&&c!==n&&Zf(c,u),r>0&&(n[s-1][4]=u[4]);const f=ra(n,10+r);!function Kf(n,r){gu(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(u[1],u);const E=f[19];null!==E&&E.detachView(f[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Mt(n,r){if(!(256&r[2])){const s=r[11];k(s)&&s.destroyNode&&gu(n,r,s,3,null,null),function Ry(n){let r=n[13];if(!r)return mc(n[1],n);for(;r;){let s=null;if(zt(r))s=r[13];else{const u=r[10];u&&(s=u)}if(!s){for(;r&&!r[4]&&r!==n;)zt(r)&&mc(r[1],r),r=r[3];null===r&&(r=n),zt(r)&&mc(r[1],r),s=r&&r[4]}r=s}}(r)}}function mc(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Py(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let u=0;u<s.length;u+=2){const c=r[s[u]];if(!(c instanceof zi)){const f=s[u+1];if(Array.isArray(f))for(let E=0;E<f.length;E+=2){const T=c[f[E]],R=f[E+1];try{R.call(T)}finally{}}else try{f.call(c)}finally{}}}}(n,r),function ya(n,r){const s=n.cleanup,u=r[7];let c=-1;if(null!==s)for(let f=0;f<s.length-1;f+=2)if("string"==typeof s[f]){const E=s[f+1],T="function"==typeof E?E(r):x(r[E]),R=u[c=s[f+2]],j=s[f+3];"boolean"==typeof j?T.removeEventListener(s[f],R,j):j>=0?u[c=j]():u[c=-j].unsubscribe(),f+=2}else{const E=u[c=s[f+1]];s[f].call(E)}if(null!==u){for(let f=c+1;f<u.length;f++)u[f]();r[7]=null}}(n,r),1===r[1].type&&k(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&gn(r[3])){s!==r[3]&&Zf(s,r);const u=r[19];null!==u&&u.detachView(n)}}}function yc(n,r,s){return function Fu(n,r,s){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return s[0];if(2&u.flags){const c=n.data[u.directiveStart].encapsulation;if(c===Ar.None||c===Ar.Emulated)return null}return ht(u,s)}(n,r.parent,s)}function Rl(n,r,s,u,c){k(n)?n.insertBefore(r,s,u,c):r.insertBefore(s,u,c)}function Lu(n,r,s){k(n)?n.appendChild(r,s):r.appendChild(s)}function Xf(n,r,s,u,c){null!==u?Rl(n,r,s,u,c):Lu(n,r,s)}function pd(n,r){return k(n)?n.parentNode(r):r.parentNode}function _h(n,r,s){return Eh(n,r,s)}let Eh=function bh(n,r,s){return 40&n.type?ht(n,s):null};function wh(n,r,s,u){const c=yc(n,u,r),f=r[11],T=_h(u.parent||r[6],u,r);if(null!=c)if(Array.isArray(s))for(let R=0;R<s.length;R++)Xf(f,c,s[R],T,!1);else Xf(f,c,s,T,!1)}function gd(n,r){if(null!==r){const s=r.type;if(3&s)return ht(r,n);if(4&s)return pu(-1,n[r.index]);if(8&s){const u=r.child;if(null!==u)return gd(n,u);{const c=n[r.index];return gn(c)?pu(-1,c):x(c)}}if(32&s)return $n(r,n)()||x(n[r.index]);{const u=md(n,r);return null!==u?Array.isArray(u)?u[0]:gd(Ha(n[16]),u):gd(n,r.next)}}return null}function md(n,r){return null!==r?n[16][6].projection[r.projection]:null}function pu(n,r){const s=10+n+1;if(s<r.length){const u=r[s],c=u[1].firstChild;if(null!==c)return gd(u,c)}return r[7]}function Vu(n,r,s,u,c,f,E){for(;null!=s;){const T=u[s.index],R=s.type;if(E&&0===r&&(T&&Ys(x(T),u),s.flags|=4),64!=(64&s.flags))if(8&R)Vu(n,r,s.child,u,c,f,!1),fu(r,n,c,T,f);else if(32&R){const j=$n(s,u);let q;for(;q=j();)fu(r,n,c,q,f);fu(r,n,c,T,f)}else 16&R?Ih(n,r,u,s,c,f):fu(r,n,c,T,f);s=E?s.projectionNext:s.next}}function gu(n,r,s,u,c,f){Vu(s,u,n.firstChild,r,c,f,!1)}function Ih(n,r,s,u,c,f){const E=s[16],R=E[6].projection[u.projection];if(Array.isArray(R))for(let j=0;j<R.length;j++)fu(r,n,c,R[j],f);else Vu(n,r,R,E[3],c,f,!0)}function Wg(n,r,s){k(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function Dh(n,r,s){k(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function tp(n,r,s){let u=n.length;for(;;){const c=n.indexOf(r,s);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const f=r.length;if(c+f===u||n.charCodeAt(c+f)<=32)return c}s=c+1}}const vc="ng-template";function Ol(n,r,s){let u=0;for(;u<n.length;){let c=n[u++];if(s&&"class"===c){if(c=n[u],-1!==tp(c.toLowerCase(),r,0))return!0}else if(1===c){for(;u<n.length&&"string"==typeof(c=n[u++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function Yg(n){return 4===n.type&&n.value!==vc}function Kg(n,r,s){return r===(4!==n.type||s?n.value:vc)}function ky(n,r,s){let u=4;const c=n.attrs||[],f=function kl(n){for(let r=0;r<n.length;r++)if(ea(n[r]))return r;return n.length}(c);let E=!1;for(let T=0;T<r.length;T++){const R=r[T];if("number"!=typeof R){if(!E)if(4&u){if(u=2|1&u,""!==R&&!Kg(n,R,s)||""===R&&1===r.length){if(va(u))return!1;E=!0}}else{const j=8&u?R:r[++T];if(8&u&&null!==n.attrs){if(!Ol(n.attrs,j,s)){if(va(u))return!1;E=!0}continue}const be=Ny(8&u?"class":R,c,Yg(n),s);if(-1===be){if(va(u))return!1;E=!0;continue}if(""!==j){let Ke;Ke=be>f?"":c[be+1].toLowerCase();const yt=8&u?Ke:null;if(yt&&-1!==tp(yt,j,0)||2&u&&j!==Ke){if(va(u))return!1;E=!0}}}}else{if(!E&&!va(u)&&!va(R))return!1;if(E&&va(R))continue;E=!1,u=R|1&u}}return va(u)||E}function va(n){return 0==(1&n)}function Ny(n,r,s,u){if(null===r)return-1;let c=0;if(u||!s){let f=!1;for(;c<r.length;){const E=r[c];if(E===n)return c;if(3===E||6===E)f=!0;else{if(1===E||2===E){let T=r[++c];for(;"string"==typeof T;)T=r[++c];continue}if(4===E)break;if(0===E){c+=4;continue}}c+=f?1:2}return-1}return function Zg(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const u=n[s];if("number"==typeof u)return-1;if(u===r)return s;s++}return-1}(r,n)}function _c(n,r,s=!1){for(let u=0;u<r.length;u++)if(ky(n,r[u],s))return!0;return!1}function Fy(n,r){e:for(let s=0;s<r.length;s++){const u=r[s];if(n.length===u.length){for(let c=0;c<n.length;c++)if(n[c]!==u[c])continue e;return!0}}return!1}function Xg(n,r){return n?":not("+r.trim()+")":r}function np(n){let r=n[0],s=1,u=2,c="",f=!1;for(;s<n.length;){let E=n[s];if("string"==typeof E)if(2&u){const T=n[++s];c+="["+E+(T.length>0?'="'+T+'"':"")+"]"}else 8&u?c+="."+E:4&u&&(c+=" "+E);else""!==c&&!va(E)&&(r+=Xg(f,c),c=""),u=E,f=f||!va(u);s++}return""!==c&&(r+=Xg(f,c)),r}const Ir={};function bc(n){yd(V(),m(),Ss()+n,fr())}function yd(n,r,s,u){if(!u)if(3==(3&r[2])){const f=n.preOrderCheckHooks;null!==f&&Fi(r,f,s)}else{const f=n.preOrderHooks;null!==f&&Ro(r,f,0,s)}Xs(s)}function _d(n,r){return n<<17|r<<2}function rs(n){return n>>17&32767}function bd(n){return 2|n}function za(n){return(131068&n)>>2}function Wa(n,r){return-131069&n|r<<2}function Sh(n){return 1|n}function lp(n,r){const s=n.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const c=s[u],f=s[u+1];if(-1!==f){const E=n.data[f];Xo(c),E.contentQueries(2,r[f],f)}}}function Cd(n,r,s,u,c,f,E,T,R,j){const q=r.blueprint.slice();return q[0]=c,q[2]=140|u,si(q),q[3]=q[15]=n,q[8]=s,q[10]=E||n&&n[10],q[11]=T||n&&n[11],q[12]=R||n&&n[12]||null,q[9]=j||n&&n[9]||null,q[6]=f,q[16]=2==r.type?n[16]:q,q}function Hu(n,r,s,u,c){let f=n.data[r];if(null===f)f=function cp(n,r,s,u,c){const f=nt(),E=Kt(),R=n.data[r]=function Bh(n,r,s,u,c,f){return{type:s,index:u,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?f:f&&f.parent,s,r,u,c);return null===n.firstChild&&(n.firstChild=R),null!==f&&(E?null==f.child&&null!==R.parent&&(f.child=R):null===f.next&&(f.next=R)),R}(n,r,s,u,c),function Ai(){return xn.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=s,f.value=u,f.attrs=c;const E=function xt(){const n=xn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();f.injectorIndex=null===E?-1:E.injectorIndex}return Jt(f,!0),f}function Gu(n,r,s,u){if(0===s)return-1;const c=r.length;for(let f=0;f<s;f++)r.push(u),n.blueprint.push(u),n.data.push(null);return c}function Td(n,r,s){Ji(r);try{const u=n.viewQuery;null!==u&&Tp(1,u,s);const c=n.template;null!==c&&Bs(n,r,c,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&lp(n,r),n.staticViewQueries&&Tp(2,n.viewQuery,s);const f=n.components;null!==f&&function am(n,r){for(let s=0;s<r.length;s++)Ep(n,r[s])}(r,f)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{r[2]&=-5,Mo()}}function Dc(n,r,s,u){const c=r[2];if(256==(256&c))return;Ji(r);const f=fr();try{si(r),function Kr(n){return xn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Bs(n,r,s,2,u);const E=3==(3&c);if(!f)if(E){const j=n.preOrderCheckHooks;null!==j&&Fi(r,j,null)}else{const j=n.preOrderHooks;null!==j&&Ro(r,j,0,null),Ma(r,0)}if(function zu(n){for(let r=fc(n);null!==r;r=pc(r)){if(!r[2])continue;const s=r[9];for(let u=0;u<s.length;u++){const c=s[u],f=c[3];0==(1024&c[2])&&Ps(f,1),c[2]|=1024}}}(r),function _p(n){for(let r=fc(n);null!==r;r=pc(r))for(let s=10;s<r.length;s++){const u=r[s],c=u[1];bi(u)&&Dc(c,u,c.template,u[8])}}(r),null!==n.contentQueries&&lp(n,r),!f)if(E){const j=n.contentCheckHooks;null!==j&&Fi(r,j)}else{const j=n.contentHooks;null!==j&&Ro(r,j,1),Ma(r,1)}!function kh(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let u=0;u<s.length;u++){const c=s[u];if(c<0)Xs(~c);else{const f=c,E=s[++u],T=s[++u];io(E,f),T(2,r[f])}}}finally{Xs(-1)}}(n,r);const T=n.components;null!==T&&function om(n,r){for(let s=0;s<r.length;s++)gm(n,r[s])}(r,T);const R=n.viewQuery;if(null!==R&&Tp(2,R,u),!f)if(E){const j=n.viewCheckHooks;null!==j&&Fi(r,j)}else{const j=n.viewHooks;null!==j&&Ro(r,j,2),Ma(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),f||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,Ps(r[3],-1))}finally{Mo()}}function dp(n,r,s,u){const c=r[10],f=!fr(),E=$r(r);try{f&&!E&&c.begin&&c.begin(),E&&Td(n,r,u),Dc(n,r,s,u)}finally{f&&!E&&c.end&&c.end()}}function Bs(n,r,s,u,c){const f=Ss(),E=2&u;try{Xs(-1),E&&r.length>20&&yd(n,r,20,fr()),s(u,c)}finally{Xs(f)}}function um(n,r,s){if(kn(r)){const c=r.directiveEnd;for(let f=r.directiveStart;f<c;f++){const E=n.data[f];E.contentQueries&&E.contentQueries(1,s[f],f)}}}function hp(n,r,s){!L()||(function yp(n,r,s,u){const c=s.directiveStart,f=s.directiveEnd;n.firstCreatePass||Fs(s,r),Ys(u,r);const E=s.initialInputs;for(let T=c;T<f;T++){const R=n.data[T],j=ar(R);j&&Sc(r,s,R);const q=Ce(r,n,T,s);Ys(q,r),null!==E&&xd(0,T-c,q,R,0,E),j&&(qn(s.index,r)[8]=q)}}(n,r,s,ht(s,r)),128==(128&s.flags)&&function hm(n,r,s){const u=s.directiveStart,c=s.directiveEnd,E=s.index,T=function so(){return xn.lFrame.currentDirectiveIndex}();try{Xs(E);for(let R=u;R<c;R++){const j=n.data[R],q=r[R];oo(R),(null!==j.hostBindings||0!==j.hostVars||null!==j.hostAttrs)&&fm(j,q)}}finally{Xs(-1),oo(T)}}(n,r,s))}function fp(n,r,s=ht){const u=r.localNames;if(null!==u){let c=r.index+1;for(let f=0;f<u.length;f+=2){const E=u[f+1],T=-1===E?s(r,n):n[E];n[c++]=T}}}function lm(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Nh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Nh(n,r,s,u,c,f,E,T,R,j){const q=20+u,be=q+c,Ke=function zy(n,r){const s=[];for(let u=0;u<r;u++)s.push(u<n?null:Ir);return s}(q,be),yt="function"==typeof j?j():j;return Ke[1]={type:n,blueprint:Ke,template:s,queries:null,viewQuery:T,declTNode:r,data:Ke.slice().fill(null,q),bindingStartIndex:q,expandoStartIndex:be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:R,consts:yt,incompleteFirstPass:!1}}function Lh(n,r,s,u){const c=Sp(r);null===s?c.push(u):(c.push(s),n.firstCreatePass&&ym(n).push(u,c.length-1))}function Cc(n,r,s){for(let u in n)if(n.hasOwnProperty(u)){const c=n[u];(s=null===s?{}:s).hasOwnProperty(u)?s[u].push(r,c):s[u]=[r,c]}return s}function xo(n,r,s,u,c,f,E,T){const R=ht(r,s);let q,j=r.inputs;!T&&null!=j&&(q=j[u])?(Gh(n,s,q,u,c),Fn(r)&&function mp(n,r){const s=qn(r,n);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(u=function gp(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),c=null!=E?E(c,r.value||"",u):c,k(f)?f.setProperty(R,u,c):Oa(u)||(R.setProperty?R.setProperty(u,c):R[u]=c))}function $h(n,r,s,u){let c=!1;if(L()){const f=function Ky(n,r,s){const u=n.directiveRegistry;let c=null;if(u)for(let f=0;f<u.length;f++){const E=u[f];_c(s,E.selectors,!1)&&(c||(c=[]),Io(Fs(s,r),n,E.type),ar(E)?(pm(n,s),c.unshift(E)):c.push(E))}return c}(n,r,s),E=null===u?null:{"":-1};if(null!==f){c=!0,Tc(s,n.data.length,f.length);for(let q=0;q<f.length;q++){const be=f[q];be.providersResolver&&be.providersResolver(be)}let T=!1,R=!1,j=Gu(n,r,f.length,null);for(let q=0;q<f.length;q++){const be=f[q];s.mergedAttrs=lo(s.mergedAttrs,be.hostAttrs),Uh(n,s,r,j,be),Xy(j,be,E),null!==be.contentQueries&&(s.flags|=8),(null!==be.hostBindings||null!==be.hostAttrs||0!==be.hostVars)&&(s.flags|=128);const Ke=be.type.prototype;!T&&(Ke.ngOnChanges||Ke.ngOnInit||Ke.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),T=!0),!R&&(Ke.ngOnChanges||Ke.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),R=!0),j++}!function Vh(n,r){const u=r.directiveEnd,c=n.data,f=r.attrs,E=[];let T=null,R=null;for(let j=r.directiveStart;j<u;j++){const q=c[j],be=q.inputs,Ke=null===f||Yg(r)?null:vp(be,f);E.push(Ke),T=Cc(be,j,T),R=Cc(q.outputs,j,R)}null!==T&&(T.hasOwnProperty("class")&&(r.flags|=16),T.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=E,r.inputs=T,r.outputs=R}(n,s)}E&&function Zy(n,r,s){if(r){const u=n.localNames=[];for(let c=0;c<r.length;c+=2){const f=s[r[c+1]];if(null==f)throw new _e("301",`Export of name '${r[c+1]}' not found!`);u.push(r[c],f)}}}(s,u,E)}return s.mergedAttrs=lo(s.mergedAttrs,s.attrs),c}function Sd(n,r,s,u,c,f){const E=f.hostBindings;if(E){let T=n.hostBindingOpCodes;null===T&&(T=n.hostBindingOpCodes=[]);const R=~r.index;(function Ad(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(T)!=R&&T.push(R),T.push(u,c,E)}}function fm(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function pm(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Xy(n,r,s){if(s){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)s[r.exportAs[u]]=n;ar(r)&&(s[""]=n)}}function Tc(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function Uh(n,r,s,u,c){n.data[u]=c;const f=c.factory||(c.factory=ji(c.type)),E=new zi(f,ar(c),null);n.blueprint[u]=E,s[u]=E,Sd(n,r,0,u,Gu(n,s,c.hostVars,Ir),c)}function Sc(n,r,s){const u=ht(r,n),c=lm(s),f=n[10],E=xc(n,Cd(n,c,null,s.onPush?64:16,u,r,f,f.createRenderer(u,s),null,null));n[r.index]=E}function sa(n,r,s,u,c,f){const E=ht(n,r);!function Ac(n,r,s,u,c,f,E){if(null==f)k(n)?n.removeAttribute(r,c,s):r.removeAttribute(c);else{const T=null==E?dt(f):E(f,u||"",c);k(n)?n.setAttribute(r,c,T,s):s?r.setAttributeNS(s,c,T):r.setAttribute(c,T)}}(r[11],E,f,n.value,s,u,c)}function xd(n,r,s,u,c,f){const E=f[r];if(null!==E){const T=u.setInput;for(let R=0;R<E.length;){const j=E[R++],q=E[R++],be=E[R++];null!==T?u.setInput(s,be,j,q):s[q]=be}}}function vp(n,r){let s=null,u=0;for(;u<r.length;){const c=r[u];if(0!==c)if(5!==c){if("number"==typeof c)break;n.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,n[c],r[u+1])),u+=2}else u+=2;else u+=4}return s}function jh(n,r,s,u){return new Array(n,!0,!1,r,null,0,u,s,null,null)}function gm(n,r){const s=qn(r,n);if(bi(s)){const u=s[1];80&s[2]?Dc(u,s,u.template,s[8]):s[5]>0&&bp(s)}}function bp(n){for(let u=fc(n);null!==u;u=pc(u))for(let c=10;c<u.length;c++){const f=u[c];if(1024&f[2]){const E=f[1];Dc(E,f,E.template,f[8])}else f[5]>0&&bp(f)}const s=n[1].components;if(null!==s)for(let u=0;u<s.length;u++){const c=qn(s[u],n);bi(c)&&c[5]>0&&bp(c)}}function Ep(n,r){const s=qn(r,n),u=s[1];(function Jy(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(u,s),Td(u,s,s[8])}function xc(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function wp(n){for(;n;){n[2]|=64;const r=Ha(n);if(ze(n)&&!r)return n;n=r}return null}function Md(n,r,s){const u=r[10];u.begin&&u.begin();try{Dc(n,r,n.template,s)}catch(c){throw vm(r,c),c}finally{u.end&&u.end()}}function Dp(n){!function Mc(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],u=ac(s),c=u[1];dp(c,u,c.template,s)}}(n[8])}function Tp(n,r,s){Xo(0),r(n,s)}const mm=(()=>Promise.resolve(null))();function Sp(n){return n[7]||(n[7]=[])}function ym(n){return n.cleanup||(n.cleanup=[])}function vm(n,r){const s=n[9],u=s?s.get(du,null):null;u&&u.handleError(r)}function Gh(n,r,s,u,c){for(let f=0;f<s.length;){const E=s[f++],T=s[f++],R=r[E],j=n.data[E];null!==j.setInput?j.setInput(R,c,u,T):R[T]=c}}function yu(n,r,s){const u=z(r,n);!function fd(n,r,s){k(n)?n.setValue(r,s):r.textContent=s}(n[11],u,s)}function Oc(n,r,s){let u=s?n.styles:null,c=s?n.classes:null,f=0;if(null!==r)for(let E=0;E<r.length;E++){const T=r[E];"number"==typeof T?f=T:1==f?c=fe(c,T):2==f&&(u=fe(u,T+": "+r[++E]+";"))}s?n.styles=u:n.stylesWithoutHost=u,s?n.classes=c:n.classesWithoutHost=c}const Rd=new Ii("INJECTOR",-1);class zh{get(r,s=ct){if(s===ct){const u=new Error(`NullInjectorError: No provider for ${Q(r)}!`);throw u.name="NullInjectorError",u}return s}}const Od=new Ii("Set Injector scope."),qa={},Wu={};let Pd;function Ll(){return void 0===Pd&&(Pd=new zh),Pd}function Bl(n,r=null,s=null,u){const c=xp(n,r,s,u);return c._resolveInjectorDefTypes(),c}function xp(n,r=null,s=null,u){return new Pc(n,s,r||Ll(),u)}class Pc{constructor(r,s,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];s&&As(s,T=>this.processProvider(T,r,s)),As([r],T=>this.processInjectorType(T,[],f)),this.records.set(Rd,qu(void 0,this));const E=this.records.get(Od);this.scope=null!=E?E.value:null,this.source=c||("object"==typeof r?null:Q(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=ct,u=Lt.Default){this.assertNotDestroyed();const c=us(this),f=gr(void 0);try{if(!(u&Lt.SkipSelf)){let T=this.records.get(r);if(void 0===T){const R=function ov(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ii}(r)&&Dr(r);T=R&&this.injectableDefInScope(R)?qu(Mp(r),qa):null,this.records.set(r,T)}if(null!=T)return this.hydrate(r,T)}return(u&Lt.Self?Ll():this.parent).get(r,s=u&Lt.Optional&&s===ct?null:s)}catch(E){if("NullInjectorError"===E.name){if((E[Zt]=E[Zt]||[]).unshift(Q(r)),c)throw E;return function Kl(n,r,s,u){const c=n[Zt];throw r[xr]&&c.unshift(r[xr]),n.message=function tu(n,r,s,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let c=Q(r);if(Array.isArray(r))c=r.map(Q).join(" -> ");else if("object"==typeof r){let f=[];for(let E in r)if(r.hasOwnProperty(E)){let T=r[E];f.push(E+":"+("string"==typeof T?JSON.stringify(T):Q(T)))}c=`{${f.join(", ")}}`}return`${s}${u?"("+u+")":""}[${c}]: ${n.replace(nr,"\n  ")}`}("\n"+n.message,c,s,u),n.ngTokenPath=c,n[Zt]=null,n}(E,r,"R3InjectorError",this.source)}throw E}finally{gr(f),us(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((u,c)=>r.push(Q(c))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(r,s,u){if(!(r=xe(r)))return!1;let c=or(r);const f=null==c&&r.ngModule||void 0,E=void 0===f?r:f,T=-1!==u.indexOf(E);if(void 0!==f&&(c=or(f)),null==c)return!1;if(null!=c.imports&&!T){let q;u.push(E);try{As(c.imports,be=>{this.processInjectorType(be,s,u)&&(void 0===q&&(q=[]),q.push(be))})}finally{}if(void 0!==q)for(let be=0;be<q.length;be++){const{ngModule:Ke,providers:yt}=q[be];As(yt,Nt=>this.processProvider(Nt,Ke,yt||Et))}}this.injectorDefTypes.add(E);const R=ji(E)||(()=>new E);this.records.set(E,qu(R,qa));const j=c.providers;if(null!=j&&!T){const q=r;As(j,be=>this.processProvider(be,q,j))}return void 0!==f&&void 0!==r.providers}processProvider(r,s,u){let c=Yu(r=xe(r))?r:xe(r&&r.provide);const f=function Rp(n,r,s){return qh(n)?qu(void 0,n.useValue):qu(Wh(n),qa)}(r);if(Yu(r)||!0!==r.multi)this.records.get(c);else{let E=this.records.get(c);E||(E=qu(void 0,qa,!0),E.factory=()=>Do(E.multi),this.records.set(c,E)),c=r,E.multi.push(r)}this.records.set(c,f)}hydrate(r,s){return s.value===qa&&(s.value=Wu,s.value=s.factory()),"object"==typeof s.value&&s.value&&function _m(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=xe(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Mp(n){const r=Dr(n),s=null!==r?r.factory:ji(n);if(null!==s)return s;if(n instanceof Ii)throw new Error(`Token ${Q(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function nv(n){const r=n.length;if(r>0){const u=sn(r,"?");throw new Error(`Can't resolve all parameters for ${Q(n)}: (${u.join(", ")}).`)}const s=function An(n){const r=n&&(n[On]||n[Bn]);if(r){const s=function wn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Error("unreachable")}function Wh(n,r,s){let u;if(Yu(n)){const c=xe(n);return ji(c)||Mp(c)}if(qh(n))u=()=>xe(n.useValue);else if(function iv(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...Do(n.deps||[]));else if(function rv(n){return!(!n||!n.useExisting)}(n))u=()=>ni(xe(n.useExisting));else{const c=xe(n&&(n.useClass||n.provide));if(!function sv(n){return!!n.deps}(n))return ji(c)||Mp(c);u=()=>new c(...Do(n.deps))}return u}function qu(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function qh(n){return null!==n&&"object"==typeof n&&cr in n}function Yu(n){return"function"==typeof n}let Yo=(()=>{class n{static create(s,u){var c;if(Array.isArray(s))return Bl({name:""},u,s,"");{const f=null!==(c=s.name)&&void 0!==c?c:"";return Bl({name:f},s.parent,s.providers,f)}}}return n.THROW_IF_NOT_FOUND=ct,n.NULL=new zh,n.\u0275prov=en({token:n,providedIn:"any",factory:()=>ni(Rd)}),n.__NG_ELEMENT_ID__=-1,n})();function kc(n,r){_o(ac(n)[1],Ie())}function Bp(n){let r=function nf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const u=[n];for(;r;){let c;if(ar(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Error("Directives cannot inherit Components");c=r.\u0275dir}if(c){if(s){u.push(c);const E=n;E.inputs=Ea(n.inputs),E.declaredInputs=Ea(n.declaredInputs),E.outputs=Ea(n.outputs);const T=c.hostBindings;T&&Up(n,T);const R=c.viewQuery,j=c.contentQueries;if(R&&$p(n,R),j&&fv(n,j),ge(n.inputs,c.inputs),ge(n.declaredInputs,c.declaredInputs),ge(n.outputs,c.outputs),ar(c)&&c.data.animation){const q=n.data;q.animation=(q.animation||[]).concat(c.data.animation)}}const f=c.features;if(f)for(let E=0;E<f.length;E++){const T=f[E];T&&T.ngInherit&&T(n),T===Bp&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Vp(n){let r=0,s=null;for(let u=n.length-1;u>=0;u--){const c=n[u];c.hostVars=r+=c.hostVars,c.hostAttrs=lo(c.hostAttrs,s=lo(s,c.hostAttrs))}}(u)}function Ea(n){return n===ot?{}:n===Et?[]:n}function $p(n,r){const s=n.viewQuery;n.viewQuery=s?(u,c)=>{r(u,c),s(u,c)}:r}function fv(n,r){const s=n.contentQueries;n.contentQueries=s?(u,c,f)=>{r(u,c,f),s(u,c,f)}:r}function Up(n,r){const s=n.hostBindings;n.hostBindings=s?(u,c)=>{r(u,c),s(u,c)}:r}let rf=null;function Ku(){if(!rf){const n=ke.Symbol;if(n&&n.iterator)rf=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const u=r[s];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(rf=u)}}}return rf}function Vl(n){return!!sf(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ku()in n)}function sf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function oa(n,r,s){return n[r]=s}function go(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function kd(n,r,s,u){const c=m();return go(c,Qi(),r)&&(V(),sa(Ei(),c,n,r,s,u)),kd}function Xu(n,r,s,u){return go(n,Qi(),s)?r+dt(s)+u:Ir}function Nd(n,r,s,u,c,f,E,T){const R=m(),j=V(),q=n+20,be=j.firstCreatePass?function Wp(n,r,s,u,c,f,E,T,R){const j=r.consts,q=Hu(r,n,4,E||null,Yr(j,T));$h(r,s,q,Yr(j,R)),_o(r,q);const be=q.tViews=Nh(2,q,u,c,f,r.directiveRegistry,r.pipeRegistry,null,r.schemas,j);return null!==r.queries&&(r.queries.template(r,q),be.queries=r.queries.embeddedTView(q)),q}(q,j,R,r,s,u,c,f,E):j.data[q];Jt(be,!1);const Ke=R[11].createComment("");wh(j,R,Ke,be),Ys(Ke,R),xc(R,R[q]=jh(Ke,R,Ke,be)),Cr(be)&&hp(j,R,be),null!=E&&fp(R,be,T)}function $c(n,r=Lt.Default){const s=m();return null===s?ni(n,r):I(Ie(),s,xe(n),r)}function Vm(){throw new Error("invalid")}function ng(n,r,s){const u=m();return go(u,Qi(),r)&&xo(V(),Ei(),u,n,r,u[11],s,!1),ng}function gf(n,r,s,u,c){const E=c?"class":"style";Gh(n,s,r.inputs[E],E,u)}function rg(n,r,s,u){const c=m(),f=V(),E=20+n,T=c[11],R=c[E]=Ml(T,r,function Qo(){return xn.lFrame.currentNamespace}()),j=f.firstCreatePass?function Sv(n,r,s,u,c,f,E){const T=r.consts,j=Hu(r,n,2,c,Yr(T,f));return $h(r,s,j,Yr(T,E)),null!==j.attrs&&Oc(j,j.attrs,!1),null!==j.mergedAttrs&&Oc(j,j.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,j),j}(E,f,c,0,r,s,u):f.data[E];Jt(j,!0);const q=j.mergedAttrs;null!==q&&js(T,R,q);const be=j.classes;null!==be&&Dh(T,R,be);const Ke=j.styles;null!==Ke&&Wg(T,R,Ke),64!=(64&j.flags)&&wh(f,c,R,j),0===function Es(){return xn.lFrame.elementDepthCount}()&&Ys(R,c),function yo(){xn.lFrame.elementDepthCount++}(),Cr(j)&&(hp(f,c,j),um(f,j,c)),null!==u&&fp(c,j)}function ig(){let n=Ie();Kt()?Un():(n=n.parent,Jt(n,!1));const r=n;!function v(){xn.lFrame.elementDepthCount--}();const s=V();s.firstCreatePass&&(_o(s,n),kn(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Go(n){return 0!=(16&n.flags)}(r)&&gf(s,r,m(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Ns(n){return 0!=(32&n.flags)}(r)&&gf(s,r,m(),r.stylesWithoutHost,!1)}function $m(n,r,s,u){rg(n,r,s,u),ig()}function Ka(n,r,s){(function Um(n,r,s){const u=m(),c=V(),f=n+20,E=c.firstCreatePass?function Av(n,r,s,u,c){const f=r.consts,E=Yr(f,u),T=Hu(r,n,8,"ng-container",E);return null!==E&&Oc(T,E,!0),$h(r,s,T,Yr(f,c)),null!==r.queries&&r.queries.elementStart(r,T),T}(f,c,u,r,s):c.data[f];Jt(E,!0);const T=u[f]=u[11].createComment("");wh(c,u,T,E),Ys(T,u),Cr(E)&&(hp(c,u,E),um(c,E,u)),null!=s&&fp(u,E)})(n,r,s),function sg(){let n=Ie();const r=V();Kt()?Un():(n=n.parent,Jt(n,!1)),r.firstCreatePass&&(_o(r,n),kn(n)&&r.queries.elementEnd(n))}()}function xv(){return m()}function ua(n){return!!n&&"function"==typeof n.then}function Ju(n){return!!n&&"function"==typeof n.subscribe}const Fd=Ju;function og(n,r,s,u){const c=m(),f=V(),E=Ie();return function ag(n,r,s,u,c,f,E,T){const R=Cr(u),q=n.firstCreatePass&&ym(n),be=r[8],Ke=Sp(r);let yt=!0;if(3&u.type||T){const _n=ht(u,r),Ln=T?T(_n):_n,Ut=Ke.length,rr=T?Qr=>T(x(Qr[u.index])):u.index;if(k(s)){let Qr=null;if(!T&&R&&(Qr=function Hm(n,r,s,u){const c=n.cleanup;if(null!=c)for(let f=0;f<c.length-1;f+=2){const E=c[f];if(E===s&&c[f+1]===u){const T=r[7],R=c[f+2];return T.length>R?T[R]:null}"string"==typeof E&&(f+=2)}return null}(n,r,c,u.index)),null!==Qr)(Qr.__ngLastListenerFn__||Qr).__ngNextListenerFn__=f,Qr.__ngLastListenerFn__=f,yt=!1;else{f=ug(u,r,be,f,!1);const Oi=s.listen(Ln,c,f);Ke.push(f,Oi),q&&q.push(c,rr,Ut,Ut+1)}}else f=ug(u,r,be,f,!0),Ln.addEventListener(c,f,E),Ke.push(f),q&&q.push(c,rr,Ut,E)}else f=ug(u,r,be,f,!1);const Nt=u.outputs;let un;if(yt&&null!==Nt&&(un=Nt[c])){const _n=un.length;if(_n)for(let Ln=0;Ln<_n;Ln+=2){const Sa=r[un[Ln]][un[Ln+1]].subscribe(f),Qd=Ke.length;Ke.push(f,Sa),q&&q.push(c,u.index,Qd,-(Qd+1))}}}(f,c,c[11],E,n,r,!!s,u),og}function Ld(n,r,s,u){try{return!1!==s(u)}catch(c){return vm(n,c),!1}}function ug(n,r,s,u,c){return function f(E){if(E===Function)return u;const T=2&n.flags?qn(n.index,r):r;0==(32&r[2])&&wp(T);let R=Ld(r,0,u,E),j=f.__ngNextListenerFn__;for(;j;)R=Ld(r,0,j,E)&&R,j=j.__ngNextListenerFn__;return c&&!1===R&&(E.preventDefault(),E.returnValue=!1),R}}function el(n=1){return function Qa(n){return(xn.lFrame.contextLView=function Cu(n,r){for(;n>0;)r=r[15],n--;return r}(n,xn.lFrame.contextLView))[8]}(n)}function mf(n,r){let s=null;const u=function Pl(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let c=0;c<r.length;c++){const f=r[c];if("*"!==f){if(null===u?_c(n,f,!0):Fy(u,f))return c}else s=c}return s}function Uc(n){const r=m()[16][6];if(!r.projection){const u=r.projection=sn(n?n.length:1,null),c=u.slice();let f=r.child;for(;null!==f;){const E=n?mf(f,n):0;null!==E&&(c[E]?c[E].projectionNext=f:u[E]=f,c[E]=f),f=f.next}}}function lg(n,r=0,s){const u=m(),c=V(),f=Hu(c,20+n,16,null,s||null);null===f.projection&&(f.projection=r),Un(),64!=(64&f.flags)&&function Gg(n,r,s){Ih(r[11],0,r,s,yc(n,s,r),_h(s.parent||r[6],s,r))}(c,u,f)}function Bd(n,r,s){return cg(n,"",r,"",s),Bd}function cg(n,r,s,u,c){const f=m(),E=Xu(f,r,s,u);return E!==Ir&&xo(V(),Ei(),f,n,E,f[11],c,!1),cg}function Vd(n,r,s,u,c){const f=n[s+1],E=null===r;let T=u?rs(f):za(f),R=!1;for(;0!==T&&(!1===R||E);){const q=n[T+1];_f(n[T],r)&&(R=!0,n[T+1]=u?Sh(q):bd(q)),T=u?rs(q):za(q)}R&&(n[s+1]=u?bd(f):Sh(f))}function _f(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&Fo(n,r)>=0}function gg(n,r){return function Da(n,r,s,u){const c=m(),f=V(),E=function vr(n){const r=xn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}(2);f.firstUpdatePass&&function Xm(n,r,s,u){const c=n.data;if(null===c[s+1]){const f=c[Ss()],E=function mg(n,r){return r>=n.expandoStartIndex}(n,s);(function ty(n,r){return 0!=(n.flags&(r?16:32))})(f,u)&&null===r&&!E&&(r=!1),r=function kv(n,r,s,u){const c=function ao(n){const r=xn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let f=u?r.residualClasses:r.residualStyles;if(null===c)0===(u?r.classBindings:r.styleBindings)&&(s=$d(s=Ef(null,n,r,s,u),r.attrs,u),f=null);else{const E=r.directiveStylingLast;if(-1===E||n[E]!==c)if(s=Ef(c,n,r,s,u),null===f){let R=function Qm(n,r,s){const u=s?r.classBindings:r.styleBindings;if(0!==za(u))return n[rs(u)]}(n,r,u);void 0!==R&&Array.isArray(R)&&(R=Ef(null,n,r,R[1],u),R=$d(R,r.attrs,u),function Jm(n,r,s,u){n[rs(s?r.classBindings:r.styleBindings)]=u}(n,r,u,R))}else f=function ey(n,r,s){let u;const c=r.directiveEnd;for(let f=1+r.directiveStylingLast;f<c;f++)u=$d(u,n[f].hostAttrs,s);return $d(u,r.attrs,s)}(n,r,u)}return void 0!==f&&(u?r.residualClasses=f:r.residualStyles=f),s}(c,f,r,u),function pg(n,r,s,u,c,f){let E=f?r.classBindings:r.styleBindings,T=rs(E),R=za(E);n[u]=s;let q,j=!1;if(Array.isArray(s)){const be=s;q=be[1],(null===q||Fo(be,q)>0)&&(j=!0)}else q=s;if(c)if(0!==R){const Ke=rs(n[T+1]);n[u+1]=_d(Ke,T),0!==Ke&&(n[Ke+1]=Wa(n[Ke+1],u)),n[T+1]=function Th(n,r){return 131071&n|r<<17}(n[T+1],u)}else n[u+1]=_d(T,0),0!==T&&(n[T+1]=Wa(n[T+1],u)),T=u;else n[u+1]=_d(R,0),0===T?T=u:n[R+1]=Wa(n[R+1],u),R=u;j&&(n[u+1]=bd(n[u+1])),Vd(n,q,u,!0),Vd(n,q,u,!1),function Mv(n,r,s,u,c){const f=c?n.residualClasses:n.residualStyles;null!=f&&"string"==typeof r&&Fo(f,r)>=0&&(s[u+1]=Sh(s[u+1]))}(r,q,n,u,f),E=_d(T,R),f?r.classBindings=E:r.styleBindings=E}(c,f,r,s,E,u)}}(f,n,E,u),r!==Ir&&go(c,E,r)&&function vg(n,r,s,u,c,f,E,T){if(!(3&r.type))return;const R=n.data,j=R[T+1];wf(function Nl(n){return 1==(1&n)}(j)?wu(R,r,s,c,za(j),E):void 0)||(wf(f)||function rp(n){return 2==(2&n)}(j)&&(f=wu(R,null,s,c,T,E)),function zg(n,r,s,u,c){const f=k(n);if(r)c?f?n.addClass(s,u):s.classList.add(u):f?n.removeClass(s,u):s.classList.remove(u);else{let E=-1===u.indexOf("-")?void 0:ln.DashCase;if(null==c)f?n.removeStyle(s,u,E):s.style.removeProperty(u);else{const T="string"==typeof c&&c.endsWith("!important");T&&(c=c.slice(0,-10),E|=ln.Important),f?n.setStyle(s,u,c,E):s.style.setProperty(u,c,T?"important":"")}}}(u,E,z(Ss(),s),c,f))}(f,f.data[Ss()],c,c[11],n,c[E+1]=function zl(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Q(qo(n)))),n}(r,s),u,E)}(n,r,null,!0),gg}function Ef(n,r,s,u,c){let f=null;const E=s.directiveEnd;let T=s.directiveStylingLast;for(-1===T?T=s.directiveStart:T++;T<E&&(f=r[T],u=$d(u,f.hostAttrs,c),f!==n);)T++;return null!==n&&(s.directiveStylingLast=T),u}function $d(n,r,s){const u=s?1:2;let c=-1;if(null!==r)for(let f=0;f<r.length;f++){const E=r[f];"number"==typeof E?c=E:c===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),zs(n,E,!!s||r[++f]))}return void 0===n?null:n}function wu(n,r,s,u,c,f){const E=null===r;let T;for(;c>0;){const R=n[c],j=Array.isArray(R),q=j?R[1]:R,be=null===q;let Ke=s[c+1];Ke===Ir&&(Ke=be?Et:void 0);let yt=be?Ws(Ke,u):q===u?Ke:void 0;if(j&&!wf(yt)&&(yt=Ws(R,u)),wf(yt)&&(T=yt,E))return T;const Nt=n[c+1];c=E?rs(Nt):za(Nt)}if(null!==r){let R=f?r.residualClasses:r.residualStyles;null!=R&&(T=Ws(R,u))}return T}function wf(n){return void 0!==n}function ny(n,r=""){const s=m(),u=V(),c=n+20,f=u.firstCreatePass?Hu(u,c,1,r,null):u.data[c],E=s[c]=function xl(n,r){return k(n)?n.createText(r):n.createTextNode(r)}(s[11],r);wh(u,s,E,f),Jt(f,!1)}function _g(n){return If("",n,""),_g}function If(n,r,s){const u=m(),c=Xu(u,n,r,s);return c!==Ir&&yu(u,Ss(),c),If}const sl=void 0;var zd=["en",[["a","p"],["AM","PM"],sl],[["AM","PM"],sl,sl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sl,"{1} 'at' {0}",sl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Gd(n){const s=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let Ms={};function Wd(n){const r=function zv(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Df(r);if(s)return s;const u=r.split("-")[0];if(s=Df(u),s)return s;if("en"===u)return zd;throw new Error(`Missing locale data for the locale "${n}".`)}function ol(n){return Wd(n)[sr.PluralCase]}function Df(n){return n in Ms||(Ms[n]=ke.ng&&ke.ng.common&&ke.ng.common.locales&&ke.ng.common.locales[n]),Ms[n]}var sr=(()=>((sr=sr||{})[sr.LocaleId=0]="LocaleId",sr[sr.DayPeriodsFormat=1]="DayPeriodsFormat",sr[sr.DayPeriodsStandalone=2]="DayPeriodsStandalone",sr[sr.DaysFormat=3]="DaysFormat",sr[sr.DaysStandalone=4]="DaysStandalone",sr[sr.MonthsFormat=5]="MonthsFormat",sr[sr.MonthsStandalone=6]="MonthsStandalone",sr[sr.Eras=7]="Eras",sr[sr.FirstDayOfWeek=8]="FirstDayOfWeek",sr[sr.WeekendRange=9]="WeekendRange",sr[sr.DateFormat=10]="DateFormat",sr[sr.TimeFormat=11]="TimeFormat",sr[sr.DateTimeFormat=12]="DateTimeFormat",sr[sr.NumberSymbols=13]="NumberSymbols",sr[sr.NumberFormats=14]="NumberFormats",sr[sr.CurrencyCode=15]="CurrencyCode",sr[sr.CurrencySymbol=16]="CurrencySymbol",sr[sr.CurrencyName=17]="CurrencyName",sr[sr.Currencies=18]="Currencies",sr[sr.Directionality=19]="Directionality",sr[sr.PluralCase=20]="PluralCase",sr[sr.ExtraData=21]="ExtraData",sr))();const Cf="en-US";let Kd=Cf;function e_(n,r,s,u,c){if(n=xe(n),Array.isArray(n))for(let f=0;f<n.length;f++)e_(n[f],r,s,u,c);else{const f=V(),E=m();let T=Yu(n)?n:xe(n.provide),R=Wh(n);const j=Ie(),q=1048575&j.providerIndexes,be=j.directiveStart,Ke=j.providerIndexes>>20;if(Yu(n)||!n.multi){const yt=new zi(R,c,$c),Nt=n_(T,r,c?q:q+Ke,be);-1===Nt?(Io(Fs(j,E),f,T),t_(f,n,r.length),r.push(T),j.directiveStart++,j.directiveEnd++,c&&(j.providerIndexes+=1048576),s.push(yt),E.push(yt)):(s[Nt]=yt,E[Nt]=yt)}else{const yt=n_(T,r,q+Ke,be),Nt=n_(T,r,q,q+Ke),un=yt>=0&&s[yt],_n=Nt>=0&&s[Nt];if(c&&!_n||!c&&!un){Io(Fs(j,E),f,T);const Ln=function _E(n,r,s,u,c){const f=new zi(n,s,$c);return f.multi=[],f.index=r,f.componentProviders=0,p0(f,c,u&&!s),f}(c?vE:yE,s.length,c,u,R);!c&&_n&&(s[Nt].providerFactory=Ln),t_(f,n,r.length,0),r.push(T),j.directiveStart++,j.directiveEnd++,c&&(j.providerIndexes+=1048576),s.push(Ln),E.push(Ln)}else t_(f,n,yt>-1?yt:Nt,p0(s[c?Nt:yt],R,!c&&u));!c&&u&&_n&&s[Nt].componentProviders++}}}function t_(n,r,s,u){const c=Yu(r),f=function Op(n){return!!n.useClass}(r);if(c||f){const R=(f?xe(r.useClass):r).prototype.ngOnDestroy;if(R){const j=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const q=j.indexOf(s);-1===q?j.push(s,[u,R]):j[q+1].push(u,R)}else j.push(s,R)}}}function p0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function n_(n,r,s,u){for(let c=s;c<u;c++)if(r[c]===n)return c;return-1}function yE(n,r,s,u){return r_(this.multi,[])}function vE(n,r,s,u){const c=this.multi;let f;if(this.providerFactory){const E=this.providerFactory.componentProviders,T=Ce(s,s[1],this.providerFactory.index,u);f=T.slice(0,E),r_(c,f);for(let R=E;R<T.length;R++)f.push(T[R])}else f=[],r_(c,f);return f}function r_(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function g0(n,r=[]){return s=>{s.providersResolver=(u,c)=>function mE(n,r,s){const u=V();if(u.firstCreatePass){const c=ar(n);e_(s,u.data,u.blueprint,c,!0),e_(r,u.data,u.blueprint,c,!1)}}(u,c?c(n):n,r)}}class m0{}class wE{resolveComponentFactory(r){throw function EE(n){const r=Error(`No component factory found for ${Q(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Og=(()=>{class n{}return n.NULL=new wE,n})();function IE(){return xf(Ie(),m())}function xf(n,r){return new Pg(ht(n,r))}let Pg=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=IE,n})();function DE(n){return n instanceof Pg?n.nativeElement:n}class v0{}let CE=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function SE(){const n=m(),s=qn(Ie().index,n);return function TE(n){return n[11]}(zt(s)?s:n)}(),n})(),AE=(()=>{class n{}return n.\u0275prov=en({token:n,providedIn:"root",factory:()=>null}),n})();class _0{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const b0=new _0("13.0.3"),i_={};function by(n,r,s,u,c=!1){for(;null!==s;){const f=r[s.index];if(null!==f&&u.push(x(f)),gn(f))for(let T=10;T<f.length;T++){const R=f[T],j=R[1].firstChild;null!==j&&by(R[1],R,j,u)}const E=s.type;if(8&E)by(n,r,s.child,u);else if(32&E){const T=$n(s,r);let R;for(;R=T();)u.push(R)}else if(16&E){const T=md(r,s);if(Array.isArray(T))u.push(...T);else{const R=Ha(r[16]);by(R[1],R,T,u,!0)}}s=c?s.projectionNext:s.next}return u}class kg{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return by(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(gn(r)){const s=r[8],u=s?s.indexOf(this):-1;u>-1&&(vh(r,u),ra(s,u))}this._attachedToViewContainer=!1}Mt(this._lView[1],this._lView)}onDestroy(r){Lh(this._lView[1],this._lView,null,r)}markForCheck(){wp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Md(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Rc(n,r,s){Or(!0);try{Md(n,r,s)}finally{Or(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jg(n,r){gu(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=r}}class xE extends kg{constructor(r){super(r),this._view=r}detectChanges(){Dp(this._view)}checkNoChanges(){!function Cp(n){Or(!0);try{Dp(n)}finally{Or(!1)}}(this._view)}get context(){return null}}class E0 extends Og{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=vn(r);return new s_(s,this.ngModule)}}function w0(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}const RE=new Ii("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>yh});class s_ extends m0{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Ch(n){return n.map(np).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return w0(this.componentDef.inputs)}get outputs(){return w0(this.componentDef.outputs)}create(r,s,u,c){const f=(c=c||this.ngModule)?function OE(n,r){return{get:(s,u,c)=>{const f=n.get(s,i_,c);return f!==i_||u===i_?f:r.get(s,u,c)}}}(r,c.injector):r,E=f.get(v0,te),T=f.get(AE,null),R=E.createRenderer(null,this.componentDef),j=this.componentDef.selectors[0][0]||"div",q=u?function pp(n,r,s){if(k(n))return n.selectRootElement(r,s===Ar.ShadowDom);let u="string"==typeof r?n.querySelector(r):r;return u.textContent="",u}(R,u,this.componentDef.encapsulation):Ml(E.createRenderer(null,this.componentDef),j,function ME(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(j)),be=this.componentDef.onPush?576:528,Ke=function tf(n,r){return{components:[],scheduler:n||yh,clean:mm,playerHandler:r||null,flags:0}}(),yt=Nh(0,null,null,1,0,null,null,null,null,null),Nt=Cd(null,yt,Ke,be,null,null,E,R,T,f);let un,_n;Ji(Nt);try{const Ln=function Jh(n,r,s,u,c,f){const E=s[1];s[20]=n;const R=Hu(E,20,2,"#host",null),j=R.mergedAttrs=r.hostAttrs;null!==j&&(Oc(R,j,!0),null!==n&&(js(c,n,j),null!==R.classes&&Dh(c,n,R.classes),null!==R.styles&&Wg(c,n,R.styles)));const q=u.createRenderer(n,r),be=Cd(s,lm(r),null,r.onPush?64:16,s[20],R,u,q,f||null,null);return E.firstCreatePass&&(Io(Fs(R,s),E,r.type),pm(E,R),Tc(R,s.length,1)),xc(s,be),s[20]=be}(q,this.componentDef,Nt,E,R);if(q)if(u)js(R,q,["ng-version",b0.full]);else{const{attrs:Ut,classes:rr}=function Ly(n){const r=[],s=[];let u=1,c=2;for(;u<n.length;){let f=n[u];if("string"==typeof f)2===c?""!==f&&r.push(f,n[++u]):8===c&&s.push(f);else{if(!va(c))break;c=f}u++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Ut&&js(R,q,Ut),rr&&rr.length>0&&Dh(R,q,rr.join(" "))}if(_n=In(yt,20),void 0!==s){const Ut=_n.projection=[];for(let rr=0;rr<this.ngContentSelectors.length;rr++){const Qr=s[rr];Ut.push(null!=Qr?Array.from(Qr):null)}}un=function ef(n,r,s,u,c){const f=s[1],E=function Yy(n,r,s){const u=Ie();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Uh(n,u,r,Gu(n,r,1,null),s));const c=Ce(r,n,u.directiveStart,u);Ys(c,r);const f=ht(u,r);return f&&Ys(f,r),c}(f,s,r);if(u.components.push(E),n[8]=E,c&&c.forEach(R=>R(E,r)),r.contentQueries){const R=Ie();r.contentQueries(1,E,R.directiveStart)}const T=Ie();return!f.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Xs(T.index),Sd(s[1],T,0,T.directiveStart,T.directiveEnd,r),fm(r,E)),E}(Ln,this.componentDef,Nt,Ke,[kc]),Td(yt,Nt,null)}finally{Mo()}return new kE(this.componentType,un,xf(_n,Nt),Nt,_n)}}class kE extends class bE{}{constructor(r,s,u,c,f){super(),this.location=u,this._rootLView=c,this._tNode=f,this.instance=s,this.hostView=this.changeDetectorRef=new xE(c),this.componentType=r}get injector(){return new _r(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class Mf{}class I0{}const Rf=new Map;class T0 extends Mf{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new E0(this);const u=Me(r);this._bootstrapComponents=U(u.bootstrap),this._r3Injector=xp(r,s,[{provide:Mf,useValue:this},{provide:Og,useValue:this.componentFactoryResolver}],Q(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=Yo.THROW_IF_NOT_FOUND,u=Lt.Default){return r===Yo||r===Mf||r===Rd?this:this._r3Injector.get(r,s,u)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class o_ extends I0{constructor(r){super(),this.moduleType=r,null!==Me(r)&&function FE(n){const r=new Set;!function s(u){const c=Me(u,!0),f=c.id;null!==f&&(function D0(n,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${n} - ${Q(r)} vs ${Q(r.name)}`)}(f,Rf.get(f),u),Rf.set(f,u));const E=U(c.imports);for(const T of E)r.has(T)||(r.add(T),s(T))}(n)}(r)}create(r){return new T0(this.moduleType,r)}}function S0(n,r,s){const u=yr()+n,c=m();return c[u]===Ir?oa(c,u,s?r.call(s):r()):function Nc(n,r){return n[r]}(c,u)}function A0(n,r,s,u){return function x0(n,r,s,u,c,f){const E=r+s;return go(n,E,c)?oa(n,E+1,f?u.call(f,c):u(c)):function Ng(n,r){const s=n[r];return s===Ir?void 0:s}(n,E+1)}(m(),yr(),n,r,s,u)}function a_(n){return r=>{setTimeout(n,void 0,r)}}const ul=class QE extends a.xQ{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,u){var c,f,E;let T=r,R=s||(()=>null),j=u;if(r&&"object"==typeof r){const be=r;T=null===(c=be.next)||void 0===c?void 0:c.bind(be),R=null===(f=be.error)||void 0===f?void 0:f.bind(be),j=null===(E=be.complete)||void 0===E?void 0:E.bind(be)}this.__isAsync&&(R=a_(R),T&&(T=a_(T)),j&&(j=a_(j)));const q=super.subscribe({next:T,error:R,complete:j});return r instanceof se.w&&r.add(q),q}};function JE(){return this._results[Ku()]()}class u_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Ku(),u=u_.prototype;u[s]||(u[s]=JE)}get changes(){return this._changes||(this._changes=new ul)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const u=this;u.dirty=!1;const c=Mi(r);(this._changesDetected=!function Na(n,r,s){if(n.length!==r.length)return!1;for(let u=0;u<n.length;u++){let c=n[u],f=r[u];if(s&&(c=s(c),f=s(f)),f!==c)return!1}return!0}(u._results,c,s))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Lg=(()=>{class n{}return n.__NG_ELEMENT_ID__=nw,n})();const ew=Lg,tw=class extends ew{constructor(r,s,u){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=u}createEmbeddedView(r){const s=this._declarationTContainer.tViews,u=Cd(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(u[19]=f.createEmbeddedView(s)),Td(s,u,r),new kg(u)}};function nw(){return Ey(Ie(),m())}function Ey(n,r){return 4&n.type?new tw(r,n,xf(n,r)):null}let wy=(()=>{class n{}return n.__NG_ELEMENT_ID__=rw,n})();function rw(){return F0(Ie(),m())}const iw=wy,k0=class extends iw{constructor(r,s,u){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=u}get element(){return xf(this._hostTNode,this._hostLView)}get injector(){return new _r(this._hostTNode,this._hostLView)}get parentInjector(){const r=jn(this._hostTNode,this._hostLView);if(di(r)){const s=Eo(r,this._hostLView),u=Hs(r);return new _r(s[1].data[u+8],s)}return new _r(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=N0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,u){const c=r.createEmbeddedView(s||{});return this.insert(c,u),c}createComponent(r,s,u,c,f){const E=r&&!function ta(n){return"function"==typeof n}(r);let T;if(E)T=s;else{const be=s||{};T=be.index,u=be.injector,c=be.projectableNodes,f=be.ngModuleRef}const R=E?r:new s_(vn(r)),j=u||this.parentInjector;if(!f&&null==R.ngModule&&j){const be=j.get(Mf,null);be&&(f=be)}const q=R.create(j,c,void 0,f);return this.insert(q.hostView,T),q}insert(r,s){const u=r._lView,c=u[1];if(function ms(n){return gn(n[3])}(u)){const q=this.indexOf(r);if(-1!==q)this.detach(q);else{const be=u[3],Ke=new k0(be,be[6],be[3]);Ke.detach(Ke.indexOf(r))}}const f=this._adjustIndex(s),E=this._lContainer;!function Hg(n,r,s,u){const c=10+u,f=s.length;u>0&&(s[c-1][4]=r),u<f-10?(r[4]=s[c],Po(s,10+u,r)):(s.push(r),r[4]=null),r[3]=s;const E=r[17];null!==E&&s!==E&&function Oy(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(E,r);const T=r[19];null!==T&&T.insertView(n),r[2]|=128}(c,u,E,f);const T=pu(f,E),R=u[11],j=pd(R,E[7]);return null!==j&&function My(n,r,s,u,c,f){u[0]=c,u[6]=r,gu(n,u,s,1,c,f)}(c,E[6],R,u,j,T),r.attachToViewContainerRef(),Po(l_(E),f,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=N0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),u=vh(this._lContainer,s);u&&(ra(l_(this._lContainer),s),Mt(u[1],u))}detach(r){const s=this._adjustIndex(r,-1),u=vh(this._lContainer,s);return u&&null!=ra(l_(this._lContainer),s)?new kg(u):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function N0(n){return n[8]}function l_(n){return n[8]||(n[8]=[])}function F0(n,r){let s;const u=r[n.index];if(gn(u))s=u;else{let c;if(8&n.type)c=x(u);else{const f=r[11];c=f.createComment("");const E=ht(n,r);Rl(f,pd(f,E),c,function Ks(n,r){return k(n)?n.nextSibling(r):r.nextSibling}(f,E),!1)}r[n.index]=s=jh(u,r,c,n),xc(r,s)}return new k0(s,n,r)}class c_{constructor(r){this.queryList=r,this.matches=null}clone(){return new c_(this.queryList)}setDirty(){this.queryList.setDirty()}}class d_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const u=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let f=0;f<u;f++){const E=s.getByIndex(f);c.push(this.queries[E.indexInDeclarationView].clone())}return new d_(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==z0(r,s).matches&&this.queries[s].setDirty()}}class L0{constructor(r,s,u=null){this.predicate=r,this.flags=s,this.read=u}}class h_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let u=0;u<this.length;u++){const c=null!==s?s.length:0,f=this.getByIndex(u).embeddedTView(r,c);f&&(f.indexInDeclarationView=u,null!==s?s.push(f):s=[f])}return null!==s?new h_(s):null}template(r,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class f_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new f_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const f=u[c];this.matchTNodeWithReadOption(r,s,aw(s,f)),this.matchTNodeWithReadOption(r,s,Z(s,r,f,!1,!1))}else u===Lg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Z(s,r,u,!1,!1))}matchTNodeWithReadOption(r,s,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===Pg||c===wy||c===Lg&&4&s.type)this.addMatch(s.index,-2);else{const f=Z(s,r,c,!1,!1);null!==f&&this.addMatch(s.index,f)}else this.addMatch(s.index,u)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function aw(n,r){const s=n.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===r)return s[u+1];return null}function lw(n,r,s,u){return-1===s?function uw(n,r){return 11&n.type?xf(n,r):4&n.type?Ey(n,r):null}(r,n):-2===s?function cw(n,r,s){return s===Pg?xf(r,n):s===Lg?Ey(r,n):s===wy?F0(r,n):void 0}(n,r,u):Ce(n,n[1],s,r)}function B0(n,r,s,u){const c=r[19].queries[u];if(null===c.matches){const f=n.data,E=s.matches,T=[];for(let R=0;R<E.length;R+=2){const j=E[R];T.push(j<0?null:lw(r,f[j],E[R+1],s.metadata.read))}c.matches=T}return c.matches}function p_(n,r,s,u){const c=n.queries.getByIndex(s),f=c.matches;if(null!==f){const E=B0(n,r,c,s);for(let T=0;T<f.length;T+=2){const R=f[T];if(R>0)u.push(E[T/2]);else{const j=f[T+1],q=r[-R];for(let be=10;be<q.length;be++){const Ke=q[be];Ke[17]===Ke[3]&&p_(Ke[1],Ke,j,u)}if(null!==q[9]){const be=q[9];for(let Ke=0;Ke<be.length;Ke++){const yt=be[Ke];p_(yt[1],yt,j,u)}}}}}return u}function V0(n){const r=m(),s=V(),u=vo();Xo(u+1);const c=z0(s,u);if(n.dirty&&$r(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const f=c.crossesNgTemplate?p_(s,r,u,[]):B0(s,r,c,u);n.reset(f,DE),n.notifyOnChanges()}return!0}return!1}function $0(n,r,s){const u=V();u.firstCreatePass&&(G0(u,new L0(n,r,s),-1),2==(2&r)&&(u.staticViewQueries=!0)),H0(u,m(),r)}function U0(n,r,s,u){const c=V();if(c.firstCreatePass){const f=Ie();G0(c,new L0(r,s,u),f.index),function hw(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(c,n),2==(2&s)&&(c.staticContentQueries=!0)}H0(c,m(),s)}function j0(){return function dw(n,r){return n[19].queries[r].queryList}(m(),vo())}function H0(n,r,s){const u=new u_(4==(4&s));Lh(n,r,u,u.destroy),null===r[19]&&(r[19]=new d_),r[19].queries.push(new c_(u))}function G0(n,r,s){null===n.queries&&(n.queries=new h_),n.queries.track(new f_(r,s))}function z0(n,r){return n.queries.getByIndex(r)}function Cy(...n){}const b_=new Ii("Application Initializer");let Pf=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Cy,this.reject=Cy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const f=this.appInits[c]();if(ua(f))s.push(f);else if(Fd(f)){const E=new Promise((T,R)=>{f.subscribe({complete:T,error:R})});s.push(E)}}Promise.all(s).then(()=>{u()}).catch(c=>{this.reject(c)}),0===s.length&&u(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(ni(b_,8))},n.\u0275prov=en({token:n,factory:n.\u0275fac}),n})();const ub=new Ii("AppId"),Rw={provide:ub,useFactory:function Mw(){return`${E_()}${E_()}${E_()}`},deps:[]};function E_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const lb=new Ii("Platform Initializer"),cb=new Ii("Platform ID"),db=new Ii("appBootstrapListener");let hb=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=en({token:n,factory:n.\u0275fac}),n})();const Ty=new Ii("LocaleId"),fb=new Ii("DefaultCurrencyCode");class Ow{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let w_=(()=>{class n{compileModuleSync(s){return new o_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),f=U(Me(s).declarations).reduce((E,T)=>{const R=vn(T);return R&&E.push(new s_(R)),E},[]);return new Ow(u,f)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=en({token:n,factory:n.\u0275fac}),n})();const kw=(()=>Promise.resolve(0))();function I_(n){"undefined"==typeof Zone?kw.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ta{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ul(!1),this.onMicrotaskEmpty=new ul(!1),this.onStable=new ul(!1),this.onError=new ul(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&s,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Nw(){let n=ke.requestAnimationFrame,r=ke.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Bw(n){const r=()=>{!function Lw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ke,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,C_(n),n.isCheckStableRunning=!0,D_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),C_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,c,f,E,T)=>{try{return pb(n),s.invokeTask(c,f,E,T)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||n.shouldCoalesceRunChangeDetection)&&r(),gb(n)}},onInvoke:(s,u,c,f,E,T,R)=>{try{return pb(n),s.invoke(c,f,E,T,R)}finally{n.shouldCoalesceRunChangeDetection&&r(),gb(n)}},onHasTask:(s,u,c,f)=>{s.hasTask(c,f),u===c&&("microTask"==f.change?(n._hasPendingMicrotasks=f.microTask,C_(n),D_(n)):"macroTask"==f.change&&(n.hasPendingMacrotasks=f.macroTask))},onHandleError:(s,u,c,f)=>(s.handleError(c,f),n.runOutsideAngular(()=>n.onError.emit(f)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ta.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ta.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,u){return this._inner.run(r,s,u)}runTask(r,s,u,c){const f=this._inner,E=f.scheduleEventTask("NgZoneEvent: "+c,r,Fw,Cy,Cy);try{return f.runTask(E,s,u)}finally{f.cancelTask(E)}}runGuarded(r,s,u){return this._inner.runGuarded(r,s,u)}runOutsideAngular(r){return this._outer.run(r)}}const Fw={};function D_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function C_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function pb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function gb(n){n._nesting--,D_(n)}class Vw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ul,this.onMicrotaskEmpty=new ul,this.onStable=new ul,this.onError=new ul}run(r,s,u){return r.apply(s,u)}runGuarded(r,s,u){return r.apply(s,u)}runOutsideAngular(r){return r()}runTask(r,s,u,c){return r.apply(s,u)}}let mb=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ta.assertNotInAngularZone(),I_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())I_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,c){let f=-1;u&&u>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==f),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:f,updateCb:c})}whenStable(s,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,u,c){return[]}}return n.\u0275fac=function(s){return new(s||n)(ni(Ta))},n.\u0275prov=en({token:n,factory:n.\u0275fac}),n})(),yb=(()=>{class n{constructor(){this._applications=new Map,T_.addToWindow(this)}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return T_.findTestabilityInTree(this,s,u)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=en({token:n,factory:n.\u0275fac}),n})();class $w{addToWindow(r){}findTestabilityInTree(r,s,u){return null}}function Uw(n){T_=n}let Du,T_=new $w;const vb=new Ii("AllowMultipleToken");class Gw{constructor(r,s){this.name=r,this.token=s}}function _b(n,r,s=[]){const u=`Platform: ${r}`,c=new Ii(u);return(f=[])=>{let E=bb();if(!E||E.injector.get(vb,!1))if(n)n(s.concat(f).concat({provide:c,useValue:!0}));else{const T=s.concat(f).concat({provide:c,useValue:!0},{provide:Od,useValue:"platform"});!function zw(n){if(Du&&!Du.destroyed&&!Du.injector.get(vb,!1))throw new _e("400","");Du=n.get(Eb);const r=n.get(lb,null);r&&r.forEach(s=>s())}(Yo.create({providers:T,name:u}))}return function Ww(n){const r=bb();if(!r)throw new _e("401","");return r}()}}function bb(){return Du&&!Du.destroyed?Du:null}let Eb=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const T=function qw(n,r){let s;return s="noop"===n?new Vw:("zone.js"===n?void 0:n)||new Ta({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),R=[{provide:Ta,useValue:T}];return T.run(()=>{const j=Yo.create({providers:R,parent:this.injector,name:s.moduleType.name}),q=s.create(j),be=q.injector.get(du,null);if(!be)throw new _e("402","");return T.runOutsideAngular(()=>{const Ke=T.onError.subscribe({next:yt=>{be.handleError(yt)}});q.onDestroy(()=>{S_(this._modules,q),Ke.unsubscribe()})}),function Yw(n,r,s){try{const u=s();return ua(u)?u.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):u}catch(u){throw r.runOutsideAngular(()=>n.handleError(u)),u}}(be,T,()=>{const Ke=q.injector.get(Pf);return Ke.runInitializers(),Ke.donePromise.then(()=>(function py(n){It(n,"Expected localeId to be defined"),"string"==typeof n&&(Kd=n.toLowerCase().replace(/_/g,"-"))}(q.injector.get(Ty,Cf)||Cf),this._moduleDoBootstrap(q),q))})})}bootstrapModule(s,u=[]){const c=wb({},u);return function jw(n,r,s){const u=new o_(s);return Promise.resolve(u)}(0,0,s).then(f=>this.bootstrapModuleFactory(f,c))}_moduleDoBootstrap(s){const u=s.injector.get(Vg);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new _e("403","");s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e("404","");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(ni(Yo))},n.\u0275prov=en({token:n,factory:n.\u0275fac}),n})();function wb(n,r){return Array.isArray(r)?r.reduce(wb,n):Object.assign(Object.assign({},n),r)}let Vg=(()=>{class n{constructor(s,u,c,f,E){this._zone=s,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=f,this._initStatus=E,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const T=new G.y(j=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{j.next(this._stable),j.complete()})}),R=new G.y(j=>{let q;this._zone.runOutsideAngular(()=>{q=this._zone.onStable.subscribe(()=>{Ta.assertNotInAngularZone(),I_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,j.next(!0))})})});const be=this._zone.onUnstable.subscribe(()=>{Ta.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{j.next(!1)}))});return()=>{q.unsubscribe(),be.unsubscribe()}});this.isStable=(0,Fe.T)(T,R.pipe(function ee(){return n=>(0,ve.x)()(function ue(n,r){return function(u){let c;if(c="function"==typeof n?n:function(){return n},"function"==typeof r)return u.lift(new De(c,r));const f=Object.create(u,Ae.N);return f.source=u,f.subjectFactory=c,f}}(de)(n))}()))}bootstrap(s,u){if(!this._initStatus.done)throw new _e("405","");let c;c=s instanceof m0?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(c.componentType);const f=function Hw(n){return n.isBoundToModule}(c)?void 0:this._injector.get(Mf),T=c.create(Yo.NULL,[],u||c.selector,f),R=T.location.nativeElement,j=T.injector.get(mb,null),q=j&&T.injector.get(yb);return j&&q&&q.registerApplication(R,j),T.onDestroy(()=>{this.detachView(T.hostView),S_(this.components,T),q&&q.unregisterApplication(R)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new _e("101","");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;S_(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(db,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(ni(Ta),ni(Yo),ni(du),ni(Og),ni(Pf))},n.\u0275prov=en({token:n,factory:n.\u0275fac}),n})();function S_(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let Db=!0,Cb=!1;function Zw(){return Cb=!0,Db}function Xw(){if(Cb)throw new Error("Cannot enable prod mode after platform setup.");Db=!1}let Qw=(()=>{class n{}return n.__NG_ELEMENT_ID__=Jw,n})();function Jw(n){return function eI(n,r,s){if(Fn(n)&&!s){const u=qn(n.index,r);return new kg(u,u)}return 47&n.type?new kg(r[16],r):null}(Ie(),m(),16==(16&n))}class Rb{constructor(){}supports(r){return Vl(r)}create(r){return new oI(r)}}const sI=(n,r)=>r;class oI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||sI}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,u=this._removalsHead,c=0,f=null;for(;s||u;){const E=!u||s&&s.currentIndex<Pb(u,c,f)?s:u,T=Pb(E,c,f),R=E.currentIndex;if(E===u)c--,u=u._nextRemoved;else if(s=s._next,null==E.previousIndex)c++;else{f||(f=[]);const j=T-c,q=R-c;if(j!=q){for(let Ke=0;Ke<j;Ke++){const yt=Ke<f.length?f[Ke]:f[Ke]=0,Nt=yt+Ke;q<=Nt&&Nt<j&&(f[Ke]=yt+1)}f[E.previousIndex]=q-j}}T!==R&&r(E,T,R)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Vl(r))throw new Error(`Error trying to diff '${Q(r)}'. Only arrays and iterables are allowed`);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,f,E,s=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let T=0;T<this.length;T++)f=r[T],E=this._trackByFn(T,f),null!==s&&Object.is(s.trackById,E)?(u&&(s=this._verifyReinsertion(s,f,E,T)),Object.is(s.item,f)||this._addIdentityChange(s,f)):(s=this._mismatch(s,f,E,T),u=!0),s=s._next}else c=0,function Hp(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Ku()]();let u;for(;!(u=s.next()).done;)r(u.value)}}(r,T=>{E=this._trackByFn(c,T),null!==s&&Object.is(s.trackById,E)?(u&&(s=this._verifyReinsertion(s,T,E,c)),Object.is(s.item,T)||this._addIdentityChange(s,T)):(s=this._mismatch(s,T,E,c),u=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,u,c){let f;return null===r?f=this._itTail:(f=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,f,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,f,c)):r=this._addAfter(new aI(s,u),f,c),r}_verifyReinsertion(r,s,u,c){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?r=this._reinsertAfter(f,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,f=r._nextRemoved;return null===c?this._removalsHead=f:c._nextRemoved=f,null===f?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(r,s,u),this._addToMoves(r,u),r}_moveAfter(r,s,u){return this._unlink(r),this._insertAfter(r,s,u),this._addToMoves(r,u),r}_addAfter(r,s,u){return this._insertAfter(r,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,u){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new Ob),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,u=r._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ob),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class aI{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const s=r._prevDup,u=r._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class Ob{constructor(){this.map=new Map}put(r){const s=r.trackById;let u=this.map.get(s);u||(u=new uI,this.map.set(s,u)),u.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Pb(n,r,s){const u=n.previousIndex;if(null===u)return u;let c=0;return s&&u<s.length&&(c=s[u]),u+r+c}class kb{constructor(){}supports(r){return r instanceof Map||sf(r)}create(){return new lI}}class lI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||sf(r)))throw new Error(`Error trying to diff '${Q(r)}'. Only maps and objects are allowed`)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const f=this._getOrCreateRecordForKey(c,u);s=this._insertBeforeOrAppend(s,f)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const u=r._prev;return s._next=r,s._prev=u,r._prev=s,u&&(u._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const f=c._prev,E=c._next;return f&&(f._next=E),E&&(E._prev=f),c._next=null,c._prev=null,c}const u=new cI(r);return this._records.set(r,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(u=>s(r[u],u))}}class cI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Nb(){return new Ay([new Rb])}let Ay=(()=>{class n{constructor(s){this.factories=s}static create(s,u){if(null!=u){const c=u.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:u=>n.create(s,u||Nb()),deps:[[n,new ru,new Ba]]}}find(s){const u=this.factories.find(c=>c.supports(s));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function dI(n){return n.name||typeof n}(s)}'`)}}return n.\u0275prov=en({token:n,providedIn:"root",factory:Nb}),n})();function Fb(){return new xy([new kb])}let xy=(()=>{class n{constructor(s){this.factories=s}static create(s,u){if(u){const c=u.factories.slice();s=s.concat(c)}return new n(s)}static extend(s){return{provide:n,useFactory:u=>n.create(s,u||Fb()),deps:[[n,new ru,new Ba]]}}find(s){const u=this.factories.find(c=>c.supports(s));if(u)return u;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return n.\u0275prov=en({token:n,providedIn:"root",factory:Fb}),n})();const hI=[new kb],pI=new Ay([new Rb]),gI=new xy(hI),mI=_b(null,"core",[{provide:cb,useValue:"unknown"},{provide:Eb,deps:[Yo]},{provide:yb,deps:[]},{provide:hb,deps:[]}]),EI=[{provide:Vg,useClass:Vg,deps:[Ta,Yo,du,Og,Pf]},{provide:RE,deps:[Ta],useFactory:function wI(n){let r=[];return n.onStable.subscribe(()=>{for(;r.length;)r.pop()()}),function(s){r.push(s)}}},{provide:Pf,useClass:Pf,deps:[[new Ba,b_]]},{provide:w_,useClass:w_,deps:[]},Rw,{provide:Ay,useFactory:function yI(){return pI},deps:[]},{provide:xy,useFactory:function vI(){return gI},deps:[]},{provide:Ty,useFactory:function _I(n){return n||function bI(){return"undefined"!=typeof $localize&&$localize.locale||Cf}()},deps:[[new nu(Ty),new Ba,new ru]]},{provide:fb,useValue:"USD"}];let II=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(ni(Vg))},n.\u0275mod=hi({type:n}),n.\u0275inj=bn({providers:EI}),n})()},4182:(Wt,rt,F)=>{"use strict";F.d(rt,{qu:()=>te,u:()=>Ht,sg:()=>Fn,u5:()=>N,JU:()=>ge,a5:()=>An,JJ:()=>Bn,JL:()=>Wn,UX:()=>K,kI:()=>Pe,_Y:()=>ei});var a=F(6435),se=F(9808),G=F(2916),Fe=F(6688),Ae=F(4850),ue=F(7830),De=F(5254);function de(x,A){return new G.y(S=>{const z=x.length;if(0===z)return void S.complete();const ht=new Array(z);let Yt=0,In=0;for(let er=0;er<z;er++){const qn=(0,De.D)(x[er]);let $r=!1;S.add(qn.subscribe({next:bi=>{$r||($r=!0,In++),ht[er]=bi},error:bi=>S.error(bi),complete:()=>{Yt++,(Yt===z||!$r)&&(In===z&&S.next(A?A.reduce((bi,ms,Yr)=>(bi[ms]=ht[Yr],bi),{}):ht),S.complete())}}))}})}let ee=(()=>{class x{constructor(S,z){this._renderer=S,this._elementRef=z,this.onChange=ht=>{},this.onTouched=()=>{}}setProperty(S,z){this._renderer.setProperty(this._elementRef.nativeElement,S,z)}registerOnTouched(S){this.onTouched=S}registerOnChange(S){this.onChange=S}setDisabledState(S){this.setProperty("disabled",S)}}return x.\u0275fac=function(S){return new(S||x)(a.Y36(a.Qsj),a.Y36(a.SBq))},x.\u0275dir=a.lG2({type:x}),x})(),ne=(()=>{class x extends ee{}return x.\u0275fac=function(){let A;return function(z){return(A||(A=a.n5z(x)))(z||x)}}(),x.\u0275dir=a.lG2({type:x,features:[a.qOj]}),x})();const ge=new a.OlP("NgValueAccessor"),Be={provide:ge,useExisting:(0,a.Gpc)(()=>ye),multi:!0},xe=new a.OlP("CompositionEventMode");let ye=(()=>{class x extends ee{constructor(S,z,ht){super(S,z),this._compositionMode=ht,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function oe(){const x=(0,se.q)()?(0,se.q)().getUserAgent():"";return/android (\d+)/.test(x.toLowerCase())}())}writeValue(S){this.setProperty("value",null==S?"":S)}_handleInput(S){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(S)}_compositionStart(){this._composing=!0}_compositionEnd(S){this._composing=!1,this._compositionMode&&this.onChange(S)}}return x.\u0275fac=function(S){return new(S||x)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(xe,8))},x.\u0275dir=a.lG2({type:x,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(S,z){1&S&&a.NdJ("input",function(Yt){return z._handleInput(Yt.target.value)})("blur",function(){return z.onTouched()})("compositionstart",function(){return z._compositionStart()})("compositionend",function(Yt){return z._compositionEnd(Yt.target.value)})},features:[a._Bn([Be]),a.qOj]}),x})();function ut(x){return null==x||0===x.length}function _e(x){return null!=x&&"number"==typeof x.length}const mt=new a.OlP("NgValidators"),Dt=new a.OlP("NgAsyncValidators"),dt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pe{static min(A){return function lt(x){return A=>{if(ut(A.value)||ut(x))return null;const S=parseFloat(A.value);return!isNaN(S)&&S<x?{min:{min:x,actual:A.value}}:null}}(A)}static max(A){return function he(x){return A=>{if(ut(A.value)||ut(x))return null;const S=parseFloat(A.value);return!isNaN(S)&&S>x?{max:{max:x,actual:A.value}}:null}}(A)}static required(A){return function Se(x){return ut(x.value)?{required:!0}:null}(A)}static requiredTrue(A){return function le(x){return!0===x.value?null:{required:!0}}(A)}static email(A){return function X(x){return ut(x.value)||dt.test(x.value)?null:{email:!0}}(A)}static minLength(A){return function ae(x){return A=>ut(A.value)||!_e(A.value)?null:A.value.length<x?{minlength:{requiredLength:x,actualLength:A.value.length}}:null}(A)}static maxLength(A){return function Re(x){return A=>_e(A.value)&&A.value.length>x?{maxlength:{requiredLength:x,actualLength:A.value.length}}:null}(A)}static pattern(A){return function $e(x){if(!x)return pt;let A,S;return"string"==typeof x?(S="","^"!==x.charAt(0)&&(S+="^"),S+=x,"$"!==x.charAt(x.length-1)&&(S+="$"),A=new RegExp(S)):(S=x.toString(),A=x),z=>{if(ut(z.value))return null;const ht=z.value;return A.test(ht)?null:{pattern:{requiredPattern:S,actualValue:ht}}}}(A)}static nullValidator(A){return null}static compose(A){return Ee(A)}static composeAsync(A){return It(A)}}function pt(x){return null}function kt(x){return null!=x}function it(x){const A=(0,a.QGY)(x)?(0,De.D)(x):x;return(0,a.CqO)(A),A}function gt(x){let A={};return x.forEach(S=>{A=null!=S?Object.assign(Object.assign({},A),S):A}),0===Object.keys(A).length?null:A}function qe(x,A){return A.map(S=>S(x))}function st(x){return x.map(A=>function Xe(x){return!x.validate}(A)?A:S=>A.validate(S))}function Ee(x){if(!x)return null;const A=x.filter(kt);return 0==A.length?null:function(S){return gt(qe(S,A))}}function et(x){return null!=x?Ee(st(x)):null}function It(x){if(!x)return null;const A=x.filter(kt);return 0==A.length?null:function(S){return function ve(...x){if(1===x.length){const A=x[0];if((0,Fe.k)(A))return de(A,null);if((0,ue.K)(A)&&Object.getPrototypeOf(A)===Object.prototype){const S=Object.keys(A);return de(S.map(z=>A[z]),S)}}if("function"==typeof x[x.length-1]){const A=x.pop();return de(x=1===x.length&&(0,Fe.k)(x[0])?x[0]:x,null).pipe((0,Ae.U)(S=>A(...S)))}return de(x,null)}(qe(S,A).map(it)).pipe((0,Ae.U)(gt))}}function Ge(x){return null!=x?It(st(x)):null}function Ft(x,A){return null===x?[A]:Array.isArray(x)?[...x,A]:[x,A]}function an(x){return x._rawValidators}function Tn(x){return x._rawAsyncValidators}function en(x){return x?Array.isArray(x)?x:[x]:[]}function on(x,A){return Array.isArray(x)?x.includes(A):x===A}function bn(x,A){const S=en(A);return en(x).forEach(ht=>{on(S,ht)||S.push(ht)}),S}function Dr(x,A){return en(A).filter(S=>!on(x,S))}class Gn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(A){this._rawValidators=A||[],this._composedValidatorFn=et(this._rawValidators)}_setAsyncValidators(A){this._rawAsyncValidators=A||[],this._composedAsyncValidatorFn=Ge(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(A){this._onDestroyCallbacks.push(A)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(A=>A()),this._onDestroyCallbacks=[]}reset(A){this.control&&this.control.reset(A)}hasError(A,S){return!!this.control&&this.control.hasError(A,S)}getError(A,S){return this.control?this.control.getError(A,S):null}}class An extends Gn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wn extends Gn{get formDirective(){return null}get path(){return null}}class or{constructor(A){this._cd=A}is(A){var S,z,ht;return"submitted"===A?!!(null===(S=this._cd)||void 0===S?void 0:S.submitted):!!(null===(ht=null===(z=this._cd)||void 0===z?void 0:z.control)||void 0===ht?void 0:ht[A])}}let Bn=(()=>{class x extends or{constructor(S){super(S)}}return x.\u0275fac=function(S){return new(S||x)(a.Y36(An,2))},x.\u0275dir=a.lG2({type:x,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(S,z){2&S&&a.ekj("ng-untouched",z.is("untouched"))("ng-touched",z.is("touched"))("ng-pristine",z.is("pristine"))("ng-dirty",z.is("dirty"))("ng-valid",z.is("valid"))("ng-invalid",z.is("invalid"))("ng-pending",z.is("pending"))},features:[a.qOj]}),x})(),Wn=(()=>{class x extends or{constructor(S){super(S)}}return x.\u0275fac=function(S){return new(S||x)(a.Y36(wn,10))},x.\u0275dir=a.lG2({type:x,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(S,z){2&S&&a.ekj("ng-untouched",z.is("untouched"))("ng-touched",z.is("touched"))("ng-pristine",z.is("pristine"))("ng-dirty",z.is("dirty"))("ng-valid",z.is("valid"))("ng-invalid",z.is("invalid"))("ng-pending",z.is("pending"))("ng-submitted",z.is("submitted"))},features:[a.qOj]}),x})();function Ne(x,A){Ve(x,A),A.valueAccessor.writeValue(x.value),function Et(x,A){A.valueAccessor.registerOnChange(S=>{x._pendingValue=S,x._pendingChange=!0,x._pendingDirty=!0,"change"===x.updateOn&&tn(x,A)})}(x,A),function yn(x,A){const S=(z,ht)=>{A.valueAccessor.writeValue(z),ht&&A.viewToModelUpdate(z)};x.registerOnChange(S),A._registerOnDestroy(()=>{x._unregisterOnChange(S)})}(x,A),function $t(x,A){A.valueAccessor.registerOnTouched(()=>{x._pendingTouched=!0,"blur"===x.updateOn&&x._pendingChange&&tn(x,A),"submit"!==x.updateOn&&x.markAsTouched()})}(x,A),function At(x,A){if(A.valueAccessor.setDisabledState){const S=z=>{A.valueAccessor.setDisabledState(z)};x.registerOnDisabledChange(S),A._registerOnDestroy(()=>{x._unregisterOnDisabledChange(S)})}}(x,A)}function Ue(x,A,S=!0){const z=()=>{};A.valueAccessor&&(A.valueAccessor.registerOnChange(z),A.valueAccessor.registerOnTouched(z)),ot(x,A),x&&(A._invokeOnDestroyCallbacks(),x._registerOnCollectionChange(()=>{}))}function ke(x,A){x.forEach(S=>{S.registerOnValidatorChange&&S.registerOnValidatorChange(A)})}function Ve(x,A){const S=an(x);null!==A.validator?x.setValidators(Ft(S,A.validator)):"function"==typeof S&&x.setValidators([S]);const z=Tn(x);null!==A.asyncValidator?x.setAsyncValidators(Ft(z,A.asyncValidator)):"function"==typeof z&&x.setAsyncValidators([z]);const ht=()=>x.updateValueAndValidity();ke(A._rawValidators,ht),ke(A._rawAsyncValidators,ht)}function ot(x,A){let S=!1;if(null!==x){if(null!==A.validator){const ht=an(x);if(Array.isArray(ht)&&ht.length>0){const Yt=ht.filter(In=>In!==A.validator);Yt.length!==ht.length&&(S=!0,x.setValidators(Yt))}}if(null!==A.asyncValidator){const ht=Tn(x);if(Array.isArray(ht)&&ht.length>0){const Yt=ht.filter(In=>In!==A.asyncValidator);Yt.length!==ht.length&&(S=!0,x.setAsyncValidators(Yt))}}}const z=()=>{};return ke(A._rawValidators,z),ke(A._rawAsyncValidators,z),S}function tn(x,A){x._pendingDirty&&x.markAsDirty(),x.setValue(x._pendingValue,{emitModelToViewChange:!1}),A.viewToModelUpdate(x._pendingValue),x._pendingChange=!1}function ui(x,A){const S=x.indexOf(A);S>-1&&x.splice(S,1)}const li="VALID",zr="INVALID",wr="PENDING",Wr="DISABLED";function Mr(x){return(ft(x)?x.validators:x)||null}function tt(x){return Array.isArray(x)?et(x):x||null}function Me(x,A){return(ft(A)?A.asyncValidators:x)||null}function me(x){return Array.isArray(x)?Ge(x):x||null}function ft(x){return null!=x&&!Array.isArray(x)&&"object"==typeof x}class bt{constructor(A,S){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=A,this._rawAsyncValidators=S,this._composedValidatorFn=tt(this._rawValidators),this._composedAsyncValidatorFn=me(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(A){this._rawValidators=this._composedValidatorFn=A}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(A){this._rawAsyncValidators=this._composedAsyncValidatorFn=A}get parent(){return this._parent}get valid(){return this.status===li}get invalid(){return this.status===zr}get pending(){return this.status==wr}get disabled(){return this.status===Wr}get enabled(){return this.status!==Wr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(A){this._rawValidators=A,this._composedValidatorFn=tt(A)}setAsyncValidators(A){this._rawAsyncValidators=A,this._composedAsyncValidatorFn=me(A)}addValidators(A){this.setValidators(bn(A,this._rawValidators))}addAsyncValidators(A){this.setAsyncValidators(bn(A,this._rawAsyncValidators))}removeValidators(A){this.setValidators(Dr(A,this._rawValidators))}removeAsyncValidators(A){this.setAsyncValidators(Dr(A,this._rawAsyncValidators))}hasValidator(A){return on(this._rawValidators,A)}hasAsyncValidator(A){return on(this._rawAsyncValidators,A)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(A={}){this.touched=!0,this._parent&&!A.onlySelf&&this._parent.markAsTouched(A)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(A=>A.markAllAsTouched())}markAsUntouched(A={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(S=>{S.markAsUntouched({onlySelf:!0})}),this._parent&&!A.onlySelf&&this._parent._updateTouched(A)}markAsDirty(A={}){this.pristine=!1,this._parent&&!A.onlySelf&&this._parent.markAsDirty(A)}markAsPristine(A={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(S=>{S.markAsPristine({onlySelf:!0})}),this._parent&&!A.onlySelf&&this._parent._updatePristine(A)}markAsPending(A={}){this.status=wr,!1!==A.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!A.onlySelf&&this._parent.markAsPending(A)}disable(A={}){const S=this._parentMarkedDirty(A.onlySelf);this.status=Wr,this.errors=null,this._forEachChild(z=>{z.disable(Object.assign(Object.assign({},A),{onlySelf:!0}))}),this._updateValue(),!1!==A.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},A),{skipPristineCheck:S})),this._onDisabledChange.forEach(z=>z(!0))}enable(A={}){const S=this._parentMarkedDirty(A.onlySelf);this.status=li,this._forEachChild(z=>{z.enable(Object.assign(Object.assign({},A),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},A),{skipPristineCheck:S})),this._onDisabledChange.forEach(z=>z(!1))}_updateAncestors(A){this._parent&&!A.onlySelf&&(this._parent.updateValueAndValidity(A),A.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(A){this._parent=A}updateValueAndValidity(A={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===li||this.status===wr)&&this._runAsyncValidator(A.emitEvent)),!1!==A.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!A.onlySelf&&this._parent.updateValueAndValidity(A)}_updateTreeValidity(A={emitEvent:!0}){this._forEachChild(S=>S._updateTreeValidity(A)),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wr:li}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(A){if(this.asyncValidator){this.status=wr,this._hasOwnPendingAsyncValidator=!0;const S=it(this.asyncValidator(this));this._asyncValidationSubscription=S.subscribe(z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(z,{emitEvent:A})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(A,S={}){this.errors=A,this._updateControlsErrors(!1!==S.emitEvent)}get(A){return function vn(x,A,S){if(null==A||(Array.isArray(A)||(A=A.split(S)),Array.isArray(A)&&0===A.length))return null;let z=x;return A.forEach(ht=>{z=z instanceof mn?z.controls.hasOwnProperty(ht)?z.controls[ht]:null:z instanceof Nn&&z.at(ht)||null}),z}(this,A,".")}getError(A,S){const z=S?this.get(S):this;return z&&z.errors?z.errors[A]:null}hasError(A,S){return!!this.getError(A,S)}get root(){let A=this;for(;A._parent;)A=A._parent;return A}_updateControlsErrors(A){this.status=this._calculateStatus(),A&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(A)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?Wr:this.errors?zr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wr)?wr:this._anyControlsHaveStatus(zr)?zr:li}_anyControlsHaveStatus(A){return this._anyControls(S=>S.status===A)}_anyControlsDirty(){return this._anyControls(A=>A.dirty)}_anyControlsTouched(){return this._anyControls(A=>A.touched)}_updatePristine(A={}){this.pristine=!this._anyControlsDirty(),this._parent&&!A.onlySelf&&this._parent._updatePristine(A)}_updateTouched(A={}){this.touched=this._anyControlsTouched(),this._parent&&!A.onlySelf&&this._parent._updateTouched(A)}_isBoxedValue(A){return"object"==typeof A&&null!==A&&2===Object.keys(A).length&&"value"in A&&"disabled"in A}_registerOnCollectionChange(A){this._onCollectionChange=A}_setUpdateStrategy(A){ft(A)&&null!=A.updateOn&&(this._updateOn=A.updateOn)}_parentMarkedDirty(A){return!A&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class jt extends bt{constructor(A=null,S,z){super(Mr(S),Me(z,S)),this._onChange=[],this._applyFormState(A),this._setUpdateStrategy(S),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(A,S={}){this.value=this._pendingValue=A,this._onChange.length&&!1!==S.emitModelToViewChange&&this._onChange.forEach(z=>z(this.value,!1!==S.emitViewToModelChange)),this.updateValueAndValidity(S)}patchValue(A,S={}){this.setValue(A,S)}reset(A=null,S={}){this._applyFormState(A),this.markAsPristine(S),this.markAsUntouched(S),this.setValue(this.value,S),this._pendingChange=!1}_updateValue(){}_anyControls(A){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(A){this._onChange.push(A)}_unregisterOnChange(A){ui(this._onChange,A)}registerOnDisabledChange(A){this._onDisabledChange.push(A)}_unregisterOnDisabledChange(A){ui(this._onDisabledChange,A)}_forEachChild(A){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(A){this._isBoxedValue(A)?(this.value=this._pendingValue=A.value,A.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=A}}class mn extends bt{constructor(A,S,z){super(Mr(S),Me(z,S)),this.controls=A,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(A,S){return this.controls[A]?this.controls[A]:(this.controls[A]=S,S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange),S)}addControl(A,S,z={}){this.registerControl(A,S),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}removeControl(A,S={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),delete this.controls[A],this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}setControl(A,S,z={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),delete this.controls[A],S&&this.registerControl(A,S),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}contains(A){return this.controls.hasOwnProperty(A)&&this.controls[A].enabled}setValue(A,S={}){this._checkAllValuesPresent(A),Object.keys(A).forEach(z=>{this._throwIfControlMissing(z),this.controls[z].setValue(A[z],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(A,S={}){null!=A&&(Object.keys(A).forEach(z=>{this.controls[z]&&this.controls[z].patchValue(A[z],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(A={},S={}){this._forEachChild((z,ht)=>{z.reset(A[ht],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this._reduceChildren({},(A,S,z)=>(A[z]=S instanceof jt?S.value:S.getRawValue(),A))}_syncPendingControls(){let A=this._reduceChildren(!1,(S,z)=>!!z._syncPendingControls()||S);return A&&this.updateValueAndValidity({onlySelf:!0}),A}_throwIfControlMissing(A){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[A])throw new Error(`Cannot find form control with name: ${A}.`)}_forEachChild(A){Object.keys(this.controls).forEach(S=>{const z=this.controls[S];z&&A(z,S)})}_setUpControls(){this._forEachChild(A=>{A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(A){for(const S of Object.keys(this.controls)){const z=this.controls[S];if(this.contains(S)&&A(z))return!0}return!1}_reduceValue(){return this._reduceChildren({},(A,S,z)=>((S.enabled||this.disabled)&&(A[z]=S.value),A))}_reduceChildren(A,S){let z=A;return this._forEachChild((ht,Yt)=>{z=S(z,ht,Yt)}),z}_allControlsDisabled(){for(const A of Object.keys(this.controls))if(this.controls[A].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(A){this._forEachChild((S,z)=>{if(void 0===A[z])throw new Error(`Must supply a value for form control with name: '${z}'.`)})}}class Nn extends bt{constructor(A,S,z){super(Mr(S),Me(z,S)),this.controls=A,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(A){return this.controls[A]}push(A,S={}){this.controls.push(A),this._registerControl(A),this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}insert(A,S,z={}){this.controls.splice(A,0,S),this._registerControl(S),this.updateValueAndValidity({emitEvent:z.emitEvent})}removeAt(A,S={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),this.controls.splice(A,1),this.updateValueAndValidity({emitEvent:S.emitEvent})}setControl(A,S,z={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),this.controls.splice(A,1),S&&(this.controls.splice(A,0,S),this._registerControl(S)),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(A,S={}){this._checkAllValuesPresent(A),A.forEach((z,ht)=>{this._throwIfControlMissing(ht),this.at(ht).setValue(z,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(A,S={}){null!=A&&(A.forEach((z,ht)=>{this.at(ht)&&this.at(ht).patchValue(z,{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(A=[],S={}){this._forEachChild((z,ht)=>{z.reset(A[ht],{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S),this._updateTouched(S),this.updateValueAndValidity(S)}getRawValue(){return this.controls.map(A=>A instanceof jt?A.value:A.getRawValue())}clear(A={}){this.controls.length<1||(this._forEachChild(S=>S._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:A.emitEvent}))}_syncPendingControls(){let A=this.controls.reduce((S,z)=>!!z._syncPendingControls()||S,!1);return A&&this.updateValueAndValidity({onlySelf:!0}),A}_throwIfControlMissing(A){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(A))throw new Error(`Cannot find form control at index ${A}`)}_forEachChild(A){this.controls.forEach((S,z)=>{A(S,z)})}_updateValue(){this.value=this.controls.filter(A=>A.enabled||this.disabled).map(A=>A.value)}_anyControls(A){return this.controls.some(S=>S.enabled&&A(S))}_setUpControls(){this._forEachChild(A=>this._registerControl(A))}_checkAllValuesPresent(A){this._forEachChild((S,z)=>{if(void 0===A[z])throw new Error(`Must supply a value for form control at index: ${z}.`)})}_allControlsDisabled(){for(const A of this.controls)if(A.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(A){A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange)}}let ei=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275dir=a.lG2({type:x,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),x})(),ce=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275mod=a.oAB({type:x}),x.\u0275inj=a.cJS({}),x})();const St=new a.OlP("NgModelWithFormControlWarning"),kn={provide:wn,useExisting:(0,a.Gpc)(()=>Fn)};let Fn=(()=>{class x extends wn{constructor(S,z){super(),this.validators=S,this.asyncValidators=z,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(S),this._setAsyncValidators(z)}ngOnChanges(S){this._checkFormPresent(),S.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ot(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(S){const z=this.form.get(S.path);return Ne(z,S),z.updateValueAndValidity({emitEvent:!1}),this.directives.push(S),z}getControl(S){return this.form.get(S.path)}removeControl(S){Ue(S.control||null,S,!1),ui(this.directives,S)}addFormGroup(S){this._setUpFormContainer(S)}removeFormGroup(S){this._cleanUpFormContainer(S)}getFormGroup(S){return this.form.get(S.path)}addFormArray(S){this._setUpFormContainer(S)}removeFormArray(S){this._cleanUpFormContainer(S)}getFormArray(S){return this.form.get(S.path)}updateModel(S,z){this.form.get(S.path).setValue(z)}onSubmit(S){return this.submitted=!0,function Gr(x,A){x._syncPendingControls(),A.forEach(S=>{const z=S.control;"submit"===z.updateOn&&z._pendingChange&&(S.viewToModelUpdate(z._pendingValue),z._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(S),!1}onReset(){this.resetForm()}resetForm(S){this.form.reset(S),this.submitted=!1}_updateDomValue(){this.directives.forEach(S=>{const z=S.control,ht=this.form.get(S.path);z!==ht&&(Ue(z||null,S),ht instanceof jt&&(Ne(ht,S),S.control=ht))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(S){const z=this.form.get(S.path);(function Jn(x,A){Ve(x,A)})(z,S),z.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(S){if(this.form){const z=this.form.get(S.path);z&&function qt(x,A){return ot(x,A)}(z,S)&&z.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ve(this.form,this),this._oldForm&&ot(this._oldForm,this)}_checkFormPresent(){}}return x.\u0275fac=function(S){return new(S||x)(a.Y36(mt,10),a.Y36(Dt,10))},x.\u0275dir=a.lG2({type:x,selectors:[["","formGroup",""]],hostBindings:function(S,z){1&S&&a.NdJ("submit",function(Yt){return z.onSubmit(Yt)})("reset",function(){return z.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([kn]),a.qOj,a.TTD]}),x})();const Pt={provide:An,useExisting:(0,a.Gpc)(()=>Ht)};let Ht=(()=>{class x extends An{constructor(S,z,ht,Yt,In){super(),this._ngModelWarningConfig=In,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=S,this._setValidators(z),this._setAsyncValidators(ht),this.valueAccessor=function Vr(x,A){if(!A)return null;let S,z,ht;return Array.isArray(A),A.forEach(Yt=>{Yt.constructor===ye?S=Yt:function Hr(x){return Object.getPrototypeOf(x.constructor)===ne}(Yt)?z=Yt:ht=Yt}),ht||z||S||null}(0,Yt)}set isDisabled(S){}ngOnChanges(S){this._added||this._setUpControl(),function dr(x,A){if(!x.hasOwnProperty("model"))return!1;const S=x.model;return!!S.isFirstChange()||!Object.is(A,S.currentValue)}(S,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}get path(){return function kr(x,A){return[...A.path,x]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return x._ngModelWarningSentOnce=!1,x.\u0275fac=function(S){return new(S||x)(a.Y36(wn,13),a.Y36(mt,10),a.Y36(Dt,10),a.Y36(ge,10),a.Y36(St,8))},x.\u0275dir=a.lG2({type:x,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([Pt]),a.qOj,a.TTD]}),x})(),Gi=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275mod=a.oAB({type:x}),x.\u0275inj=a.cJS({imports:[[ce]]}),x})(),N=(()=>{class x{}return x.\u0275fac=function(S){return new(S||x)},x.\u0275mod=a.oAB({type:x}),x.\u0275inj=a.cJS({imports:[Gi]}),x})(),K=(()=>{class x{static withConfig(S){return{ngModule:x,providers:[{provide:St,useValue:S.warnOnNgModelWithFormControl}]}}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275mod=a.oAB({type:x}),x.\u0275inj=a.cJS({imports:[Gi]}),x})(),te=(()=>{class x{group(S,z=null){const ht=this._reduceControls(S);let er,Yt=null,In=null;return null!=z&&(function k(x){return void 0!==x.asyncValidators||void 0!==x.validators||void 0!==x.updateOn}(z)?(Yt=null!=z.validators?z.validators:null,In=null!=z.asyncValidators?z.asyncValidators:null,er=null!=z.updateOn?z.updateOn:void 0):(Yt=null!=z.validator?z.validator:null,In=null!=z.asyncValidator?z.asyncValidator:null)),new mn(ht,{asyncValidators:In,updateOn:er,validators:Yt})}control(S,z,ht){return new jt(S,z,ht)}array(S,z,ht){const Yt=S.map(In=>this._createControl(In));return new Nn(Yt,z,ht)}_reduceControls(S){const z={};return Object.keys(S).forEach(ht=>{z[ht]=this._createControl(S[ht])}),z}_createControl(S){return S instanceof jt||S instanceof mn||S instanceof Nn?S:Array.isArray(S)?this.control(S[0],S.length>1?S[1]:null,S.length>2?S[2]:null):this.control(S)}}return x.\u0275fac=function(S){return new(S||x)},x.\u0275prov=a.Yz7({token:x,factory:x.\u0275fac,providedIn:K}),x})()},3151:(Wt,rt,F)=>{"use strict";F.d(rt,{gz:()=>zt,y6:()=>N,OD:()=>or,eC:()=>rn,wm:()=>js,wN:()=>la,F0:()=>zi,rH:()=>Qs,Bz:()=>Li,Hx:()=>ft});var a=F(6435),se=F(2866),G=F(6688),Fe=F(3489);class Ae extends Fe.L{notifyNext(I,w,P,$,Z){this.destination.next(w)}notifyError(I,w){this.destination.error(I)}notifyComplete(I){this.destination.complete()}}class ue extends Fe.L{constructor(I,w,P){super(),this.parent=I,this.outerValue=w,this.outerIndex=P,this.index=0}_next(I){this.parent.notifyNext(this.outerValue,I,this.outerIndex,this.index++,this)}_error(I){this.parent.notifyError(I,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var De=F(9249),ve=F(2916);function de(C,I,w,P,$=new ue(C,w,P)){if(!$.closed)return I instanceof ve.y?I.subscribe($):(0,De.s)(I)($)}var ee=F(3009);const ne={};class Q{constructor(I){this.resultSelector=I}call(I,w){return w.subscribe(new fe(I,this.resultSelector))}}class fe extends Ae{constructor(I,w){super(I),this.resultSelector=w,this.active=0,this.values=[],this.observables=[]}_next(I){this.values.push(ne),this.observables.push(I)}_complete(){const I=this.observables,w=I.length;if(0===w)this.destination.complete();else{this.active=w,this.toRespond=w;for(let P=0;P<w;P++)this.add(de(this,I[P],void 0,P))}}notifyComplete(I){0==(this.active-=1)&&this.destination.complete()}notifyNext(I,w,P){const $=this.values,Ce=this.toRespond?$[P]===ne?--this.toRespond:this.toRespond:0;$[P]=w,0===Ce&&(this.resultSelector?this._tryResultSelector($):this.destination.next($.slice()))}_tryResultSelector(I){let w;try{w=this.resultSelector.apply(this,I)}catch(P){return void this.destination.error(P)}this.destination.next(w)}}var Be=F(5254),oe=F(8896);function xe(C){return new ve.y(I=>{let w;try{w=C()}catch($){return void I.error($)}return(w?(0,Be.D)(w):(0,oe.c)()).subscribe(I)})}var ye=F(1086),ut=F(591),_e=F(4450),mt=F(1221),Dt=F(1762),dt=F(8929),Pe=F(1177);function lt(C){return function(w){const P=new he(C),$=w.lift(P);return P.caught=$}}class he{constructor(I){this.selector=I}call(I,w){return w.subscribe(new Se(I,this.selector,this.caught))}}class Se extends Pe.Ds{constructor(I,w,P){super(I),this.selector=w,this.caught=P}error(I){if(!this.isStopped){let w;try{w=this.selector(I,this.caught)}catch(Z){return void super.error(Z)}this._unsubscribeAndRecycle();const P=new Pe.IY(this);this.add(P);const $=(0,Pe.ft)(w,P);$!==P&&this.add($)}}}var le=F(1709);function X(C,I){return(0,le.zg)(C,I,1)}var ae=F(2198),Re=F(4231);function $e(C){return function(w){return 0===C?(0,oe.c)():w.lift(new pt(C))}}class pt{constructor(I){if(this.total=I,this.total<0)throw new Re.W}call(I,w){return w.subscribe(new kt(I,this.total))}}class kt extends Fe.L{constructor(I,w){super(I),this.total=w,this.ring=new Array,this.count=0}_next(I){const w=this.ring,P=this.total,$=this.count++;w.length<P?w.push(I):w[$%P]=I}_complete(){const I=this.destination;let w=this.count;if(w>0){const P=this.count>=this.total?this.total:this.count,$=this.ring;for(let Z=0;Z<P;Z++){const Ce=w++%P;I.next($[Ce])}}I.complete()}}var it=F(4907),gt=F(7314),qe=F(5379),st=F(2654);class et{constructor(I){this.callback=I}call(I,w){return w.subscribe(new It(I,this.callback))}}class It extends Fe.L{constructor(I,w){super(I),this.add(new st.w(w))}}var Ge=F(4850),Ft=F(7545),an=F(2986),Tn=F(1059),en=F(2014),on=F(7224),bn=F(2868),Dr=F(4327),Gn=F(9146),An=F(9808);class wn{constructor(I,w){this.id=I,this.url=w}}class or extends wn{constructor(I,w,P="imperative",$=null){super(I,w),this.navigationTrigger=P,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class On extends wn{constructor(I,w,P){super(I,w),this.urlAfterRedirects=P}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kn extends wn{constructor(I,w,P){super(I,w),this.reason=P}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bn extends wn{constructor(I,w,P){super(I,w),this.error=P}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wn extends wn{constructor(I,w,P,$){super(I,w),this.urlAfterRedirects=P,this.state=$}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lt extends wn{constructor(I,w,P,$){super(I,w),this.urlAfterRedirects=P,this.state=$}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pr extends wn{constructor(I,w,P,$,Z){super(I,w),this.urlAfterRedirects=P,this.state=$,this.shouldActivate=Z}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Bt extends wn{constructor(I,w,P,$){super(I,w),this.urlAfterRedirects=P,this.state=$}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gr extends wn{constructor(I,w,P,$){super(I,w),this.urlAfterRedirects=P,this.state=$}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zn{constructor(I){this.route=I}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class cn{constructor(I){this.route=I}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fn{constructor(I){this.snapshot=I}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qn{constructor(I){this.snapshot=I}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Br{constructor(I){this.snapshot=I}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class br{constructor(I){this.snapshot=I}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ar{constructor(I,w,P){this.routerEvent=I,this.position=w,this.anchor=P}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const rn="primary";class kr{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const w=this.params[I];return Array.isArray(w)?w[0]:w}return null}getAll(I){if(this.has(I)){const w=this.params[I];return Array.isArray(w)?w:[w]}return[]}get keys(){return Object.keys(this.params)}}function Ne(C){return new kr(C)}const Ue="ngNavigationCancelingError";function ke(C){const I=Error("NavigationCancelingError: "+C);return I[Ue]=!0,I}function Ve(C,I,w){const P=w.path.split("/");if(P.length>C.length||"full"===w.pathMatch&&(I.hasChildren()||P.length<C.length))return null;const $={};for(let Z=0;Z<P.length;Z++){const Ce=P[Z],We=C[Z];if(Ce.startsWith(":"))$[Ce.substring(1)]=We;else if(Ce!==We.path)return null}return{consumed:C.slice(0,P.length),posParams:$}}function Et(C,I){const w=C?Object.keys(C):void 0,P=I?Object.keys(I):void 0;if(!w||!P||w.length!=P.length)return!1;let $;for(let Z=0;Z<w.length;Z++)if($=w[Z],!$t(C[$],I[$]))return!1;return!0}function $t(C,I){if(Array.isArray(C)&&Array.isArray(I)){if(C.length!==I.length)return!1;const w=[...C].sort(),P=[...I].sort();return w.every(($,Z)=>P[Z]===$)}return C===I}function tn(C){return Array.prototype.concat.apply([],C)}function yn(C){return C.length>0?C[C.length-1]:null}function qt(C,I){for(const w in C)C.hasOwnProperty(w)&&I(C[w],w)}function Pn(C){return(0,a.CqO)(C)?C:(0,a.QGY)(C)?(0,Be.D)(Promise.resolve(C)):(0,ye.of)(C)}const dr={exact:function ui(C,I,w){if(!Me(C.segments,I.segments)||!wr(C.segments,I.segments,w)||C.numberOfChildren!==I.numberOfChildren)return!1;for(const P in I.children)if(!C.children[P]||!ui(C.children[P],I.children[P],w))return!1;return!0},subset:li},Hr={exact:function Vr(C,I){return Et(C,I)},subset:function hi(C,I){return Object.keys(I).length<=Object.keys(C).length&&Object.keys(I).every(w=>$t(C[w],I[w]))},ignored:()=>!0};function Gr(C,I,w){return dr[w.paths](C.root,I.root,w.matrixParams)&&Hr[w.queryParams](C.queryParams,I.queryParams)&&!("exact"===w.fragment&&C.fragment!==I.fragment)}function li(C,I,w){return zr(C,I,I.segments,w)}function zr(C,I,w,P){if(C.segments.length>w.length){const $=C.segments.slice(0,w.length);return!(!Me($,w)||I.hasChildren()||!wr($,w,P))}if(C.segments.length===w.length){if(!Me(C.segments,w)||!wr(C.segments,w,P))return!1;for(const $ in I.children)if(!C.children[$]||!li(C.children[$],I.children[$],P))return!1;return!0}{const $=w.slice(0,C.segments.length),Z=w.slice(C.segments.length);return!!(Me(C.segments,$)&&wr(C.segments,$,P)&&C.children[rn])&&zr(C.children[rn],I,Z,P)}}function wr(C,I,w){return I.every((P,$)=>Hr[w](C[$].parameters,P.parameters))}class Wr{constructor(I,w,P){this.root=I,this.queryParams=w,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ne(this.queryParams)),this._queryParamMap}toString(){return jt.serialize(this)}}class vn{constructor(I,w){this.segments=I,this.children=w,this.parent=null,qt(w,(P,$)=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mn(this)}}class Mr{constructor(I,w){this.path=I,this.parameters=w}get parameterMap(){return this._parameterMap||(this._parameterMap=Ne(this.parameters)),this._parameterMap}toString(){return mi(this)}}function Me(C,I){return C.length===I.length&&C.every((w,P)=>w.path===I[P].path)}class ft{}class bt{parse(I){const w=new pe(I);return new Wr(w.parseRootSegment(),w.parseQueryParams(),w.parseFragment())}serialize(I){const w=`/${Nn(I.root,!0)}`,P=function Jr(C){const I=Object.keys(C).map(w=>{const P=C[w];return Array.isArray(P)?P.map($=>`${Zn(w)}=${Zn($)}`).join("&"):`${Zn(w)}=${Zn(P)}`}).filter(w=>!!w);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${w}${P}${"string"==typeof I.fragment?`#${function Xt(C){return encodeURI(C)}(I.fragment)}`:""}`}}const jt=new bt;function mn(C){return C.segments.map(I=>mi(I)).join("/")}function Nn(C,I){if(!C.hasChildren())return mn(C);if(I){const w=C.children[rn]?Nn(C.children[rn],!1):"",P=[];return qt(C.children,($,Z)=>{Z!==rn&&P.push(`${Z}:${Nn($,!1)}`)}),P.length>0?`${w}(${P.join("//")})`:w}{const w=function me(C,I){let w=[];return qt(C.children,(P,$)=>{$===rn&&(w=w.concat(I(P,$)))}),qt(C.children,(P,$)=>{$!==rn&&(w=w.concat(I(P,$)))}),w}(C,(P,$)=>$===rn?[Nn(C.children[rn],!1)]:[`${$}:${Nn(P,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[rn]?`${mn(C)}/${w[0]}`:`${mn(C)}/(${w.join("//")})`}}function mr(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zn(C){return mr(C).replace(/%3B/gi,";")}function Rn(C){return mr(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tr(C){return decodeURIComponent(C)}function ir(C){return tr(C.replace(/\+/g,"%20"))}function mi(C){return`${Rn(C.path)}${function Rr(C){return Object.keys(C).map(I=>`;${Rn(I)}=${Rn(C[I])}`).join("")}(C.parameters)}`}const hr=/^[^\/()?;=#]+/;function qr(C){const I=C.match(hr);return I?I[0]:""}const ri=/^[^=?&#]+/,ei=/^[^&#]+/;class pe{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vn([],{}):new vn([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let w={};this.peekStartsWith("/(")&&(this.capture("/"),w=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(I.length>0||Object.keys(w).length>0)&&(P[rn]=new vn(I,w)),P}parseSegment(){const I=qr(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(I),new Mr(tr(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const w=qr(this.remaining);if(!w)return;this.capture(w);let P="";if(this.consumeOptional("=")){const $=qr(this.remaining);$&&(P=$,this.capture(P))}I[tr(w)]=tr(P)}parseQueryParam(I){const w=function Sn(C){const I=C.match(ri);return I?I[0]:""}(this.remaining);if(!w)return;this.capture(w);let P="";if(this.consumeOptional("=")){const Ce=function Y(C){const I=C.match(ei);return I?I[0]:""}(this.remaining);Ce&&(P=Ce,this.capture(P))}const $=ir(w),Z=ir(P);if(I.hasOwnProperty($)){let Ce=I[$];Array.isArray(Ce)||(Ce=[Ce],I[$]=Ce),Ce.push(Z)}else I[$]=Z}parseParens(I){const w={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=qr(this.remaining),$=this.remaining[P.length];if("/"!==$&&")"!==$&&";"!==$)throw new Error(`Cannot parse url '${this.url}'`);let Z;P.indexOf(":")>-1?(Z=P.substr(0,P.indexOf(":")),this.capture(Z),this.capture(":")):I&&(Z=rn);const Ce=this.parseChildren();w[Z]=1===Object.keys(Ce).length?Ce[rn]:new vn([],Ce),this.consumeOptional("//")}return w}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new Error(`Expected "${I}".`)}}class Le{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const w=this.pathFromRoot(I);return w.length>1?w[w.length-2]:null}children(I){const w=Qe(I,this._root);return w?w.children.map(P=>P.value):[]}firstChild(I){const w=Qe(I,this._root);return w&&w.children.length>0?w.children[0].value:null}siblings(I){const w=ce(I,this._root);return w.length<2?[]:w[w.length-2].children.map($=>$.value).filter($=>$!==I)}pathFromRoot(I){return ce(I,this._root).map(w=>w.value)}}function Qe(C,I){if(C===I.value)return I;for(const w of I.children){const P=Qe(C,w);if(P)return P}return null}function ce(C,I){if(C===I.value)return[I];for(const w of I.children){const P=ce(C,w);if(P.length)return P.unshift(I),P}return[]}class we{constructor(I,w){this.value=I,this.children=w}toString(){return`TreeNode(${this.value})`}}function Ze(C){const I={};return C&&C.children.forEach(w=>I[w.value.outlet]=w),I}class _t extends Le{constructor(I,w){super(I),this.snapshot=w,ar(this,I)}toString(){return this.snapshot.toString()}}function Ct(C,I){const w=function St(C,I){const Ce=new Fn([],{},{},"",{},rn,I,null,C.root,-1,{});return new Cr("",new we(Ce,[]))}(C,I),P=new ut.X([new Mr("",{})]),$=new ut.X({}),Z=new ut.X({}),Ce=new ut.X({}),We=new ut.X(""),Ot=new zt(P,$,Ce,We,Z,rn,I,w.root);return Ot.snapshot=w.root,new _t(new we(Ot,[]),w)}class zt{constructor(I,w,P,$,Z,Ce,We,Ot){this.url=I,this.params=w,this.queryParams=P,this.fragment=$,this.data=Z,this.outlet=Ce,this.component=We,this._futureSnapshot=Ot}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ge.U)(I=>Ne(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ge.U)(I=>Ne(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gn(C,I="emptyOnly"){const w=C.pathFromRoot;let P=0;if("always"!==I)for(P=w.length-1;P>=1;){const $=w[P],Z=w[P-1];if($.routeConfig&&""===$.routeConfig.path)P--;else{if(Z.component)break;P--}}return function kn(C){return C.reduce((I,w)=>({params:Object.assign(Object.assign({},I.params),w.params),data:Object.assign(Object.assign({},I.data),w.data),resolve:Object.assign(Object.assign({},I.resolve),w._resolvedData)}),{params:{},data:{},resolve:{}})}(w.slice(P))}class Fn{constructor(I,w,P,$,Z,Ce,We,Ot,En,_r,Cn){this.url=I,this.params=w,this.queryParams=P,this.fragment=$,this.data=Z,this.outlet=Ce,this.component=We,this.routeConfig=Ot,this._urlSegment=En,this._lastPathIndex=_r,this._resolve=Cn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ne(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ne(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cr extends Le{constructor(I,w){super(w),this.url=I,ar(this,w)}toString(){return ze(this._root)}}function ar(C,I){I.value._routerState=C,I.children.forEach(w=>ar(C,w))}function ze(C){const I=C.children.length>0?` { ${C.children.map(ze).join(", ")} } `:"";return`${C.value}${I}`}function je(C){if(C.snapshot){const I=C.snapshot,w=C._futureSnapshot;C.snapshot=w,Et(I.queryParams,w.queryParams)||C.queryParams.next(w.queryParams),I.fragment!==w.fragment&&C.fragment.next(w.fragment),Et(I.params,w.params)||C.params.next(w.params),function ot(C,I){if(C.length!==I.length)return!1;for(let w=0;w<C.length;++w)if(!Et(C[w],I[w]))return!1;return!0}(I.url,w.url)||C.url.next(w.url),Et(I.data,w.data)||C.data.next(w.data)}else C.snapshot=C._futureSnapshot,C.data.next(C._futureSnapshot.data)}function at(C,I){const w=Et(C.params,I.params)&&function tt(C,I){return Me(C,I)&&C.every((w,P)=>Et(w.parameters,I[P].parameters))}(C.url,I.url);return w&&!(!C.parent!=!I.parent)&&(!C.parent||at(C.parent,I.parent))}function Ht(C,I,w){if(w&&C.shouldReuseRoute(I.value,w.value.snapshot)){const P=w.value;P._futureSnapshot=I.value;const $=function pn(C,I,w){return I.children.map(P=>{for(const $ of w.children)if(C.shouldReuseRoute(P.value,$.value.snapshot))return Ht(C,P,$);return Ht(C,P)})}(C,I,w);return new we(P,$)}{if(C.shouldAttach(I.value)){const Z=C.retrieve(I.value);if(null!==Z){const Ce=Z.route;return Ce.value._futureSnapshot=I.value,Ce.children=I.children.map(We=>Ht(C,We)),Ce}}const P=function Tr(C){return new zt(new ut.X(C.url),new ut.X(C.params),new ut.X(C.queryParams),new ut.X(C.fragment),new ut.X(C.data),C.outlet,C.component,C)}(I.value),$=I.children.map(Z=>Ht(C,Z));return new we(P,$)}}function ur(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function Pi(C){return"object"==typeof C&&null!=C&&C.outlets}function Ui(C,I,w,P,$){let Z={};return P&&qt(P,(Ce,We)=>{Z[We]=Array.isArray(Ce)?Ce.map(Ot=>`${Ot}`):`${Ce}`}),new Wr(w.root===C?I:ci(w.root,C,I),Z,$)}function ci(C,I,w){const P={};return qt(C.children,($,Z)=>{P[Z]=$===I?w:ci($,I,w)}),new vn(C.segments,P)}class ro{constructor(I,w,P){if(this.isAbsolute=I,this.numberOfDoubleDots=w,this.commands=P,I&&P.length>0&&ur(P[0]))throw new Error("Root segment cannot have matrix parameters");const $=P.find(Pi);if($&&$!==yn(P))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ki{constructor(I,w,P){this.segmentGroup=I,this.processChildren=w,this.index=P}}function yi(C,I,w){if(C||(C=new vn([],{})),0===C.segments.length&&C.hasChildren())return vi(C,I,w);const P=function ss(C,I,w){let P=0,$=I;const Z={match:!1,pathIndex:0,commandIndex:0};for(;$<C.segments.length;){if(P>=w.length)return Z;const Ce=C.segments[$],We=w[P];if(Pi(We))break;const Ot=`${We}`,En=P<w.length-1?w[P+1]:null;if($>0&&void 0===Ot)break;if(Ot&&En&&"object"==typeof En&&void 0===En.outlets){if(!hs(Ot,En,Ce))return Z;P+=2}else{if(!hs(Ot,{},Ce))return Z;P++}$++}return{match:!0,pathIndex:$,commandIndex:P}}(C,I,w),$=w.slice(P.commandIndex);if(P.match&&P.pathIndex<C.segments.length){const Z=new vn(C.segments.slice(0,P.pathIndex),{});return Z.children[rn]=new vn(C.segments.slice(P.pathIndex),C.children),vi(Z,0,$)}return P.match&&0===$.length?new vn(C.segments,{}):P.match&&!C.hasChildren()?Ts(C,I,w):P.match?vi(C,0,$):Ts(C,I,w)}function vi(C,I,w){if(0===w.length)return new vn(C.segments,{});{const P=function Zi(C){return Pi(C[0])?C[0].outlets:{[rn]:C}}(w),$={};return qt(P,(Z,Ce)=>{"string"==typeof Z&&(Z=[Z]),null!==Z&&($[Ce]=yi(C.children[Ce],I,Z))}),qt(C.children,(Z,Ce)=>{void 0===P[Ce]&&($[Ce]=Z)}),new vn(C.segments,$)}}function Ts(C,I,w){const P=C.segments.slice(0,I);let $=0;for(;$<w.length;){const Z=w[$];if(Pi(Z)){const Ot=Us(Z.outlets);return new vn(P,Ot)}if(0===$&&ur(w[0])){P.push(new Mr(C.segments[I].path,ji(w[0]))),$++;continue}const Ce=Pi(Z)?Z.outlets[rn]:`${Z}`,We=$<w.length-1?w[$+1]:null;Ce&&We&&ur(We)?(P.push(new Mr(Ce,ji(We))),$+=2):(P.push(new Mr(Ce,{})),$++)}return new vn(P,{})}function Us(C){const I={};return qt(C,(w,P)=>{"string"==typeof w&&(w=[w]),null!==w&&(I[P]=Ts(new vn([],{}),0,w))}),I}function ji(C){const I={};return qt(C,(w,P)=>I[P]=`${w}`),I}function hs(C,I,w){return C==w.path&&Et(I,w.parameters)}class Si{constructor(I,w,P,$){this.routeReuseStrategy=I,this.futureState=w,this.currState=P,this.forwardEvent=$}activate(I){const w=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(w,P,I),je(this.futureState.root),this.activateChildRoutes(w,P,I)}deactivateChildRoutes(I,w,P){const $=Ze(w);I.children.forEach(Z=>{const Ce=Z.value.outlet;this.deactivateRoutes(Z,$[Ce],P),delete $[Ce]}),qt($,(Z,Ce)=>{this.deactivateRouteAndItsChildren(Z,P)})}deactivateRoutes(I,w,P){const $=I.value,Z=w?w.value:null;if($===Z)if($.component){const Ce=P.getContext($.outlet);Ce&&this.deactivateChildRoutes(I,w,Ce.children)}else this.deactivateChildRoutes(I,w,P);else Z&&this.deactivateRouteAndItsChildren(w,P)}deactivateRouteAndItsChildren(I,w){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,w):this.deactivateRouteAndOutlet(I,w)}detachAndStoreRouteSubtree(I,w){const P=w.getContext(I.value.outlet),$=P&&I.value.component?P.children:w,Z=Ze(I);for(const Ce of Object.keys(Z))this.deactivateRouteAndItsChildren(Z[Ce],$);if(P&&P.outlet){const Ce=P.outlet.detach(),We=P.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:Ce,route:I,contexts:We})}}deactivateRouteAndOutlet(I,w){const P=w.getContext(I.value.outlet),$=P&&I.value.component?P.children:w,Z=Ze(I);for(const Ce of Object.keys(Z))this.deactivateRouteAndItsChildren(Z[Ce],$);P&&P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated(),P.attachRef=null,P.resolver=null,P.route=null)}activateChildRoutes(I,w,P){const $=Ze(w);I.children.forEach(Z=>{this.activateRoutes(Z,$[Z.value.outlet],P),this.forwardEvent(new br(Z.value.snapshot))}),I.children.length&&this.forwardEvent(new Qn(I.value.snapshot))}activateRoutes(I,w,P){const $=I.value,Z=w?w.value:null;if(je($),$===Z)if($.component){const Ce=P.getOrCreateContext($.outlet);this.activateChildRoutes(I,w,Ce.children)}else this.activateChildRoutes(I,w,P);else if($.component){const Ce=P.getOrCreateContext($.outlet);if(this.routeReuseStrategy.shouldAttach($.snapshot)){const We=this.routeReuseStrategy.retrieve($.snapshot);this.routeReuseStrategy.store($.snapshot,null),Ce.children.onOutletReAttached(We.contexts),Ce.attachRef=We.componentRef,Ce.route=We.route.value,Ce.outlet&&Ce.outlet.attach(We.componentRef,We.route.value),je(We.route.value),this.activateChildRoutes(I,null,Ce.children)}else{const We=function Xi(C){for(let I=C.parent;I;I=I.parent){const w=I.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig;if(w&&w.component)return null}return null}($.snapshot),Ot=We?We.module.componentFactoryResolver:null;Ce.attachRef=null,Ce.route=$,Ce.resolver=Ot,Ce.outlet&&Ce.outlet.activateWith($,Ot),this.activateChildRoutes(I,null,Ce.children)}}else this.activateChildRoutes(I,null,P)}}class _i{constructor(I,w){this.routes=I,this.module=w}}function fi(C){return"function"==typeof C}function fs(C){return C instanceof Wr}const $i=Symbol("INITIAL_VALUE");function gs(){return(0,Ft.w)(C=>function ge(...C){let I,w;return(0,se.K)(C[C.length-1])&&(w=C.pop()),"function"==typeof C[C.length-1]&&(I=C.pop()),1===C.length&&(0,G.k)(C[0])&&(C=C[0]),(0,ee.n)(C,w).lift(new Q(I))}(C.map(I=>I.pipe((0,an.q)(1),(0,Tn.O)($i)))).pipe((0,en.R)((I,w)=>{let P=!1;return w.reduce(($,Z,Ce)=>$!==$i?$:(Z===$i&&(P=!0),P||!1!==Z&&Ce!==w.length-1&&!fs(Z)?$:Z),I)},$i),(0,ae.h)(I=>I!==$i),(0,Ge.U)(I=>fs(I)?I:!0===I),(0,an.q)(1)))}class Gi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new N,this.attachRef=null}}class N{constructor(){this.contexts=new Map}onChildOutletCreated(I,w){const P=this.getOrCreateContext(I);P.outlet=w,this.contexts.set(I,P)}onChildOutletDestroyed(I){const w=this.getContext(I);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let w=this.getContext(I);return w||(w=new Gi,this.contexts.set(I,w)),w}getContext(I){return this.contexts.get(I)||null}}let K=(()=>{class C{constructor(w,P,$,Z,Ce){this.parentContexts=w,this.location=P,this.resolver=$,this.changeDetector=Ce,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=Z||rn,w.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const w=this.parentContexts.getContext(this.name);w&&w.route&&(w.attachRef?this.attach(w.attachRef,w.route):this.activateWith(w.route,w.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const w=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(w.instance),w}attach(w,P){this.activated=w,this._activatedRoute=P,this.location.insert(w.hostView),this.attachEvents.emit(w.instance)}deactivate(){if(this.activated){const w=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(w)}}activateWith(w,P){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=w;const Ce=(P=P||this.resolver).resolveComponentFactory(w._futureSnapshot.routeConfig.component),We=this.parentContexts.getOrCreateContext(this.name).children,Ot=new k(w,We,this.location.injector);this.activated=this.location.createComponent(Ce,this.location.length,Ot),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return C.\u0275fac=function(w){return new(w||C)(a.Y36(N),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},C.\u0275dir=a.lG2({type:C,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),C})();class k{constructor(I,w,P){this.route=I,this.childContexts=w,this.parent=P}get(I,w){return I===zt?this.route:I===N?this.childContexts:this.parent.get(I,w)}}let te=(()=>{class C{}return C.\u0275fac=function(w){return new(w||C)},C.\u0275cmp=a.Xpm({type:C,selectors:[["ng-component"]],decls:1,vars:0,template:function(w,P){1&w&&a._UZ(0,"router-outlet")},directives:[K],encapsulation:2}),C})();function He(C,I=""){for(let w=0;w<C.length;w++){const P=C[w];x(P,A(I,P))}}function x(C,I){C.children&&He(C.children,I)}function A(C,I){return I?C||I.path?C&&!I.path?`${C}/`:!C&&I.path?I.path:`${C}/${I.path}`:"":C}function S(C){const I=C.children&&C.children.map(S),w=I?Object.assign(Object.assign({},C),{children:I}):Object.assign({},C);return!w.component&&(I||w.loadChildren)&&w.outlet&&w.outlet!==rn&&(w.component=te),w}function z(C){return C.outlet||rn}function ht(C,I){const w=C.filter(P=>z(P)===I);return w.push(...C.filter(P=>z(P)!==I)),w}const Yt={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function In(C,I,w){var P;if(""===I.path)return"full"===I.pathMatch&&(C.hasChildren()||w.length>0)?Object.assign({},Yt):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const Z=(I.matcher||Ve)(w,C,I);if(!Z)return Object.assign({},Yt);const Ce={};qt(Z.posParams,(Ot,En)=>{Ce[En]=Ot.path});const We=Z.consumed.length>0?Object.assign(Object.assign({},Ce),Z.consumed[Z.consumed.length-1].parameters):Ce;return{matched:!0,consumedSegments:Z.consumed,lastChild:Z.consumed.length,parameters:We,positionalParamSegments:null!==(P=Z.posParams)&&void 0!==P?P:{}}}function er(C,I,w,P,$="corrected"){if(w.length>0&&function bi(C,I,w){return w.some(P=>Yr(C,I,P)&&z(P)!==rn)}(C,w,P)){const Ce=new vn(I,function $r(C,I,w,P){const $={};$[rn]=P,P._sourceSegment=C,P._segmentIndexShift=I.length;for(const Z of w)if(""===Z.path&&z(Z)!==rn){const Ce=new vn([],{});Ce._sourceSegment=C,Ce._segmentIndexShift=I.length,$[z(Z)]=Ce}return $}(C,I,P,new vn(w,C.children)));return Ce._sourceSegment=C,Ce._segmentIndexShift=I.length,{segmentGroup:Ce,slicedSegments:[]}}if(0===w.length&&function ms(C,I,w){return w.some(P=>Yr(C,I,P))}(C,w,P)){const Ce=new vn(C.segments,function qn(C,I,w,P,$,Z){const Ce={};for(const We of P)if(Yr(C,w,We)&&!$[z(We)]){const Ot=new vn([],{});Ot._sourceSegment=C,Ot._segmentIndexShift="legacy"===Z?C.segments.length:I.length,Ce[z(We)]=Ot}return Object.assign(Object.assign({},$),Ce)}(C,I,w,P,C.children,$));return Ce._sourceSegment=C,Ce._segmentIndexShift=I.length,{segmentGroup:Ce,slicedSegments:w}}const Z=new vn(C.segments,C.children);return Z._sourceSegment=C,Z._segmentIndexShift=I.length,{segmentGroup:Z,slicedSegments:w}}function Yr(C,I,w){return(!(C.hasChildren()||I.length>0)||"full"!==w.pathMatch)&&""===w.path}function si(C,I,w,P){return!!(z(C)===P||P!==rn&&Yr(I,w,C))&&("**"===C.path||In(I,C,w).matched)}function Ps(C,I,w){return 0===I.length&&!C.children[w]}class xn{constructor(I){this.segmentGroup=I||null}}class Zs{constructor(I){this.urlTree=I}}function Es(C){return new ve.y(I=>I.error(new xn(C)))}function yo(C){return new ve.y(I=>I.error(new Zs(C)))}function v(C){return new ve.y(I=>I.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${C}'`)))}class g{constructor(I,w,P,$,Z){this.configLoader=w,this.urlSerializer=P,this.urlTree=$,this.config=Z,this.allowRedirects=!0,this.ngModule=I.get(a.h0i)}apply(){const I=er(this.urlTree.root,[],[],this.config).segmentGroup,w=new vn(I.segments,I.children);return this.expandSegmentGroup(this.ngModule,this.config,w,rn).pipe((0,Ge.U)(Z=>this.createUrlTree(V(Z),this.urlTree.queryParams,this.urlTree.fragment))).pipe(lt(Z=>{if(Z instanceof Zs)return this.allowRedirects=!1,this.match(Z.urlTree);throw Z instanceof xn?this.noMatchError(Z):Z}))}match(I){return this.expandSegmentGroup(this.ngModule,this.config,I.root,rn).pipe((0,Ge.U)($=>this.createUrlTree(V($),I.queryParams,I.fragment))).pipe(lt($=>{throw $ instanceof xn?this.noMatchError($):$}))}noMatchError(I){return new Error(`Cannot match any routes. URL Segment: '${I.segmentGroup}'`)}createUrlTree(I,w,P){const $=I.segments.length>0?new vn([],{[rn]:I}):I;return new Wr($,w,P)}expandSegmentGroup(I,w,P,$){return 0===P.segments.length&&P.hasChildren()?this.expandChildren(I,w,P).pipe((0,Ge.U)(Z=>new vn([],Z))):this.expandSegment(I,P,w,P.segments,$,!0)}expandChildren(I,w,P){const $=[];for(const Z of Object.keys(P.children))"primary"===Z?$.unshift(Z):$.push(Z);return(0,Be.D)($).pipe(X(Z=>{const Ce=P.children[Z],We=ht(w,Z);return this.expandSegmentGroup(I,We,Ce,Z).pipe((0,Ge.U)(Ot=>({segment:Ot,outlet:Z})))}),(0,en.R)((Z,Ce)=>(Z[Ce.outlet]=Ce.segment,Z),{}),function Xe(C,I){const w=arguments.length>=2;return P=>P.pipe(C?(0,ae.h)(($,Z)=>C($,Z,P)):qe.y,$e(1),w?(0,gt.d)(I):(0,it.T)(()=>new _e.K))}())}expandSegment(I,w,P,$,Z,Ce){return(0,Be.D)(P).pipe(X(We=>this.expandSegmentAgainstRoute(I,w,P,We,$,Z,Ce).pipe(lt(En=>{if(En instanceof xn)return(0,ye.of)(null);throw En}))),(0,on.P)(We=>!!We),lt((We,Ot)=>{if(We instanceof _e.K||"EmptyError"===We.name){if(Ps(w,$,Z))return(0,ye.of)(new vn([],{}));throw new xn(w)}throw We}))}expandSegmentAgainstRoute(I,w,P,$,Z,Ce,We){return si($,w,Z,Ce)?void 0===$.redirectTo?this.matchSegmentAgainstRoute(I,w,$,Z,Ce):We&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,w,P,$,Z,Ce):Es(w):Es(w)}expandSegmentAgainstRouteUsingRedirect(I,w,P,$,Z,Ce){return"**"===$.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,P,$,Ce):this.expandRegularSegmentAgainstRouteUsingRedirect(I,w,P,$,Z,Ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,w,P,$){const Z=this.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?yo(Z):this.lineralizeSegments(P,Z).pipe((0,le.zg)(Ce=>{const We=new vn(Ce,{});return this.expandSegment(I,We,w,Ce,$,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,w,P,$,Z,Ce){const{matched:We,consumedSegments:Ot,lastChild:En,positionalParamSegments:_r}=In(w,$,Z);if(!We)return Es(w);const Cn=this.applyRedirectCommands(Ot,$.redirectTo,_r);return $.redirectTo.startsWith("/")?yo(Cn):this.lineralizeSegments($,Cn).pipe((0,le.zg)(Nr=>this.expandSegment(I,w,P,Nr.concat(Z.slice(En)),Ce,!1)))}matchSegmentAgainstRoute(I,w,P,$,Z){if("**"===P.path)return P.loadChildren?(P._loadedConfig?(0,ye.of)(P._loadedConfig):this.configLoader.load(I.injector,P)).pipe((0,Ge.U)(Nr=>(P._loadedConfig=Nr,new vn($,{})))):(0,ye.of)(new vn($,{}));const{matched:Ce,consumedSegments:We,lastChild:Ot}=In(w,P,$);if(!Ce)return Es(w);const En=$.slice(Ot);return this.getChildConfig(I,P,$).pipe((0,le.zg)(Cn=>{const Nr=Cn.module,jr=Cn.routes,{segmentGroup:Hn,slicedSegments:Bi}=er(w,We,En,jr),ws=new vn(Hn.segments,Hn.children);if(0===Bi.length&&ws.hasChildren())return this.expandChildren(Nr,jr,ws).pipe((0,Ge.U)(co=>new vn(We,co)));if(0===jr.length&&0===Bi.length)return(0,ye.of)(new vn(We,{}));const Zr=z(P)===Z;return this.expandSegment(Nr,ws,jr,Bi,Zr?rn:Z,!0).pipe((0,Ge.U)(ys=>new vn(We.concat(ys.segments),ys.children)))}))}getChildConfig(I,w,P){return w.children?(0,ye.of)(new _i(w.children,I)):w.loadChildren?void 0!==w._loadedConfig?(0,ye.of)(w._loadedConfig):this.runCanLoadGuards(I.injector,w,P).pipe((0,le.zg)($=>$?this.configLoader.load(I.injector,w).pipe((0,Ge.U)(Z=>(w._loadedConfig=Z,Z))):function L(C){return new ve.y(I=>I.error(ke(`Cannot load children because the guard of the route "path: '${C.path}'" returned false`)))}(w))):(0,ye.of)(new _i([],I))}runCanLoadGuards(I,w,P){const $=w.canLoad;if(!$||0===$.length)return(0,ye.of)(!0);const Z=$.map(Ce=>{const We=I.get(Ce);let Ot;if(function Hi(C){return C&&fi(C.canLoad)}(We))Ot=We.canLoad(w,P);else{if(!fi(We))throw new Error("Invalid CanLoad guard");Ot=We(w,P)}return Pn(Ot)});return(0,ye.of)(Z).pipe(gs(),(0,bn.b)(Ce=>{if(!fs(Ce))return;const We=ke(`Redirecting to "${this.urlSerializer.serialize(Ce)}"`);throw We.url=Ce,We}),(0,Ge.U)(Ce=>!0===Ce))}lineralizeSegments(I,w){let P=[],$=w.root;for(;;){if(P=P.concat($.segments),0===$.numberOfChildren)return(0,ye.of)(P);if($.numberOfChildren>1||!$.children[rn])return v(I.redirectTo);$=$.children[rn]}}applyRedirectCommands(I,w,P){return this.applyRedirectCreatreUrlTree(w,this.urlSerializer.parse(w),I,P)}applyRedirectCreatreUrlTree(I,w,P,$){const Z=this.createSegmentGroup(I,w.root,P,$);return new Wr(Z,this.createQueryParams(w.queryParams,this.urlTree.queryParams),w.fragment)}createQueryParams(I,w){const P={};return qt(I,($,Z)=>{if("string"==typeof $&&$.startsWith(":")){const We=$.substring(1);P[Z]=w[We]}else P[Z]=$}),P}createSegmentGroup(I,w,P,$){const Z=this.createSegments(I,w.segments,P,$);let Ce={};return qt(w.children,(We,Ot)=>{Ce[Ot]=this.createSegmentGroup(I,We,P,$)}),new vn(Z,Ce)}createSegments(I,w,P,$){return w.map(Z=>Z.path.startsWith(":")?this.findPosParam(I,Z,$):this.findOrReturn(Z,P))}findPosParam(I,w,P){const $=P[w.path.substring(1)];if(!$)throw new Error(`Cannot redirect to '${I}'. Cannot find '${w.path}'.`);return $}findOrReturn(I,w){let P=0;for(const $ of w){if($.path===I.path)return w.splice(P),$;P++}return I}}function V(C){const I={};for(const P of Object.keys(C.children)){const Z=V(C.children[P]);(Z.segments.length>0||Z.hasChildren())&&(I[P]=Z)}return function m(C){if(1===C.numberOfChildren&&C.children[rn]){const I=C.children[rn];return new vn(C.segments.concat(I.segments),I.children)}return C}(new vn(C.segments,I))}class Ie{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class nt{constructor(I,w){this.component=I,this.route=w}}function xt(C,I,w){const P=C._root;return Yn(P,I?I._root:null,w,[P.value])}function Kt(C,I,w){const P=function Un(C){if(!C)return null;for(let I=C.parent;I;I=I.parent){const w=I.routeConfig;if(w&&w._loadedConfig)return w._loadedConfig}return null}(I);return(P?P.module.injector:w).get(C)}function Yn(C,I,w,P,$={canDeactivateChecks:[],canActivateChecks:[]}){const Z=Ze(I);return C.children.forEach(Ce=>{(function Sr(C,I,w,P,$={canDeactivateChecks:[],canActivateChecks:[]}){const Z=C.value,Ce=I?I.value:null,We=w?w.getContext(C.value.outlet):null;if(Ce&&Z.routeConfig===Ce.routeConfig){const Ot=function fr(C,I,w){if("function"==typeof w)return w(C,I);switch(w){case"pathParamsChange":return!Me(C.url,I.url);case"pathParamsOrQueryParamsChange":return!Me(C.url,I.url)||!Et(C.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!at(C,I)||!Et(C.queryParams,I.queryParams);default:return!at(C,I)}}(Ce,Z,Z.routeConfig.runGuardsAndResolvers);Ot?$.canActivateChecks.push(new Ie(P)):(Z.data=Ce.data,Z._resolvedData=Ce._resolvedData),Yn(C,I,Z.component?We?We.children:null:w,P,$),Ot&&We&&We.outlet&&We.outlet.isActivated&&$.canDeactivateChecks.push(new nt(We.outlet.component,Ce))}else Ce&&Or(I,We,$),$.canActivateChecks.push(new Ie(P)),Yn(C,null,Z.component?We?We.children:null:w,P,$)})(Ce,Z[Ce.value.outlet],w,P.concat([Ce.value]),$),delete Z[Ce.value.outlet]}),qt(Z,(Ce,We)=>Or(Ce,w.getContext(We),$)),$}function Or(C,I,w){const P=Ze(C),$=C.value;qt(P,(Z,Ce)=>{Or(Z,$.component?I?I.children.getContext(Ce):null:I,w)}),w.canDeactivateChecks.push(new nt($.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,$))}class so{}function oo(C){return new ve.y(I=>I.error(C))}class vo{constructor(I,w,P,$,Z,Ce){this.rootComponentType=I,this.config=w,this.urlTree=P,this.url=$,this.paramsInheritanceStrategy=Z,this.relativeLinkResolution=Ce}recognize(){const I=er(this.urlTree.root,[],[],this.config.filter(Ce=>void 0===Ce.redirectTo),this.relativeLinkResolution).segmentGroup,w=this.processSegmentGroup(this.config,I,rn);if(null===w)return null;const P=new Fn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},rn,this.rootComponentType,null,this.urlTree.root,-1,{}),$=new we(P,w),Z=new Cr(this.url,$);return this.inheritParamsAndData(Z._root),Z}inheritParamsAndData(I){const w=I.value,P=gn(w,this.paramsInheritanceStrategy);w.params=Object.freeze(P.params),w.data=Object.freeze(P.data),I.children.forEach($=>this.inheritParamsAndData($))}processSegmentGroup(I,w,P){return 0===w.segments.length&&w.hasChildren()?this.processChildren(I,w):this.processSegment(I,w,w.segments,P)}processChildren(I,w){const P=[];for(const Z of Object.keys(w.children)){const Ce=w.children[Z],We=ht(I,Z),Ot=this.processSegmentGroup(We,Ce,Z);if(null===Ot)return null;P.push(...Ot)}const $=Ji(P);return function Xo(C){C.sort((I,w)=>I.value.outlet===rn?-1:w.value.outlet===rn?1:I.value.outlet.localeCompare(w.value.outlet))}($),$}processSegment(I,w,P,$){for(const Z of I){const Ce=this.processSegmentAgainstRoute(Z,w,P,$);if(null!==Ce)return Ce}return Ps(w,P,$)?[]:null}processSegmentAgainstRoute(I,w,P,$){if(I.redirectTo||!si(I,w,P,$))return null;let Z,Ce=[],We=[];if("**"===I.path){const jr=P.length>0?yn(P).parameters:{};Z=new Fn(P,jr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jo(I),z(I),I.component,I,Aa(w),Uo(w)+P.length,Mo(I))}else{const jr=In(w,I,P);if(!jr.matched)return null;Ce=jr.consumedSegments,We=P.slice(jr.lastChild),Z=new Fn(Ce,jr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jo(I),z(I),I.component,I,Aa(w),Uo(w)+Ce.length,Mo(I))}const Ot=function $o(C){return C.children?C.children:C.loadChildren?C._loadedConfig.routes:[]}(I),{segmentGroup:En,slicedSegments:_r}=er(w,Ce,We,Ot.filter(jr=>void 0===jr.redirectTo),this.relativeLinkResolution);if(0===_r.length&&En.hasChildren()){const jr=this.processChildren(Ot,En);return null===jr?null:[new we(Z,jr)]}if(0===Ot.length&&0===_r.length)return[new we(Z,[])];const Cn=z(I)===$,Nr=this.processSegment(Ot,En,_r,Cn?rn:$);return null===Nr?null:[new we(Z,Nr)]}}function Za(C){const I=C.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function Ji(C){const I=[],w=new Set;for(const P of C){if(!Za(P)){I.push(P);continue}const $=I.find(Z=>P.value.routeConfig===Z.value.routeConfig);void 0!==$?($.children.push(...P.children),w.add($)):I.push(P)}for(const P of w){const $=Ji(P.children);I.push(new we(P.value,$))}return I.filter(P=>!w.has(P))}function Aa(C){let I=C;for(;I._sourceSegment;)I=I._sourceSegment;return I}function Uo(C){let I=C,w=I._segmentIndexShift?I._segmentIndexShift:0;for(;I._sourceSegment;)I=I._sourceSegment,w+=I._segmentIndexShift?I._segmentIndexShift:0;return w-1}function jo(C){return C.data||{}}function Mo(C){return C.resolve||{}}function ll(C){return(0,Ft.w)(I=>{const w=C(I);return w?(0,Be.D)(w).pipe((0,Ge.U)(()=>I)):(0,ye.of)(I)})}class la{}class cl extends class xa{shouldDetach(I){return!1}store(I,w){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,w){return I.routeConfig===w.routeConfig}}{}const Qo=new a.OlP("ROUTES");class uo{constructor(I,w,P,$){this.injector=I,this.compiler=w,this.onLoadStartListener=P,this.onLoadEndListener=$}load(I,w){if(w._loader$)return w._loader$;this.onLoadStartListener&&this.onLoadStartListener(w);const $=this.loadModuleFactory(w.loadChildren).pipe((0,Ge.U)(Z=>{this.onLoadEndListener&&this.onLoadEndListener(w);const Ce=Z.create(I);return new _i(tn(Ce.injector.get(Qo,void 0,a.XFs.Self|a.XFs.Optional)).map(S),Ce)}),lt(Z=>{throw w._loader$=void 0,Z}));return w._loader$=new Dt.c($,()=>new dt.xQ).pipe((0,Dr.x)()),w._loader$}loadModuleFactory(I){return Pn(I()).pipe((0,le.zg)(w=>w instanceof a.YKP?(0,ye.of)(w):(0,Be.D)(this.compiler.compileModuleAsync(w))))}}class Fi{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,w){return I}}function Ro(C){throw C}function Ma(C,I,w){return I.parse("/")}function Ra(C,I){return(0,ye.of)(null)}const bo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ks={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zi=(()=>{class C{constructor(w,P,$,Z,Ce,We,Ot){this.rootComponentType=w,this.urlSerializer=P,this.rootContexts=$,this.location=Z,this.config=Ot,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new dt.xQ,this.errorHandler=Ro,this.malformedUriErrorHandler=Ma,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ra,afterPreactivation:Ra},this.urlHandlingStrategy=new Fi,this.routeReuseStrategy=new cl,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Ce.get(a.h0i),this.console=Ce.get(a.c2e);const Cn=Ce.get(a.R0b);this.isNgZoneEnabled=Cn instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(Ot),this.currentUrlTree=function Er(){return new Wr(new vn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new uo(Ce,We,Nr=>this.triggerEvent(new zn(Nr)),Nr=>this.triggerEvent(new cn(Nr))),this.routerState=Ct(this.currentUrlTree,this.rootComponentType),this.transitions=new ut.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var w;return null===(w=this.location.getState())||void 0===w?void 0:w.\u0275routerPageId}setupNavigations(w){const P=this.events;return w.pipe((0,ae.h)($=>0!==$.id),(0,Ge.U)($=>Object.assign(Object.assign({},$),{extractedUrl:this.urlHandlingStrategy.extract($.rawUrl)})),(0,Ft.w)($=>{let Z=!1,Ce=!1;return(0,ye.of)($).pipe((0,bn.b)(We=>{this.currentNavigation={id:We.id,initialUrl:We.currentRawUrl,extractedUrl:We.extractedUrl,trigger:We.source,extras:We.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ft.w)(We=>{const Ot=this.browserUrlTree.toString(),En=!this.navigated||We.extractedUrl.toString()!==Ot||Ot!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||En)&&this.urlHandlingStrategy.shouldProcessUrl(We.rawUrl))return Jo(We.source)&&(this.browserUrlTree=We.extractedUrl),(0,ye.of)(We).pipe((0,Ft.w)(Cn=>{const Nr=this.transitions.getValue();return P.next(new or(Cn.id,this.serializeUrl(Cn.extractedUrl),Cn.source,Cn.restoredState)),Nr!==this.transitions.getValue()?oe.E:Promise.resolve(Cn)}),function ie(C,I,w,P){return(0,Ft.w)($=>function y(C,I,w,P,$){return new g(C,I,w,P,$).apply()}(C,I,w,$.extractedUrl,P).pipe((0,Ge.U)(Z=>Object.assign(Object.assign({},$),{urlAfterRedirects:Z}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,bn.b)(Cn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Cn.urlAfterRedirects})}),function Qa(C,I,w,P,$){return(0,le.zg)(Z=>function ao(C,I,w,P,$="emptyOnly",Z="legacy"){try{const Ce=new vo(C,I,w,P,$,Z).recognize();return null===Ce?oo(new so):(0,ye.of)(Ce)}catch(Ce){return oo(Ce)}}(C,I,Z.urlAfterRedirects,w(Z.urlAfterRedirects),P,$).pipe((0,Ge.U)(Ce=>Object.assign(Object.assign({},Z),{targetSnapshot:Ce}))))}(this.rootComponentType,this.config,Cn=>this.serializeUrl(Cn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,bn.b)(Cn=>{if("eager"===this.urlUpdateStrategy){if(!Cn.extras.skipLocationChange){const jr=this.urlHandlingStrategy.merge(Cn.urlAfterRedirects,Cn.rawUrl);this.setBrowserUrl(jr,Cn)}this.browserUrlTree=Cn.urlAfterRedirects}const Nr=new Wn(Cn.id,this.serializeUrl(Cn.extractedUrl),this.serializeUrl(Cn.urlAfterRedirects),Cn.targetSnapshot);P.next(Nr)}));if(En&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Nr,extractedUrl:jr,source:Hn,restoredState:Bi,extras:ws}=We,Zr=new or(Nr,this.serializeUrl(jr),Hn,Bi);P.next(Zr);const Vn=Ct(jr,this.rootComponentType).snapshot;return(0,ye.of)(Object.assign(Object.assign({},We),{targetSnapshot:Vn,urlAfterRedirects:jr,extras:Object.assign(Object.assign({},ws),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=We.rawUrl,We.resolve(null),oe.E}),ll(We=>{const{targetSnapshot:Ot,id:En,extractedUrl:_r,rawUrl:Cn,extras:{skipLocationChange:Nr,replaceUrl:jr}}=We;return this.hooks.beforePreactivation(Ot,{navigationId:En,appliedUrlTree:_r,rawUrlTree:Cn,skipLocationChange:!!Nr,replaceUrl:!!jr})}),(0,bn.b)(We=>{const Ot=new Lt(We.id,this.serializeUrl(We.extractedUrl),this.serializeUrl(We.urlAfterRedirects),We.targetSnapshot);this.triggerEvent(Ot)}),(0,Ge.U)(We=>Object.assign(Object.assign({},We),{guards:xt(We.targetSnapshot,We.currentSnapshot,this.rootContexts)})),function yr(C,I){return(0,le.zg)(w=>{const{targetSnapshot:P,currentSnapshot:$,guards:{canActivateChecks:Z,canDeactivateChecks:Ce}}=w;return 0===Ce.length&&0===Z.length?(0,ye.of)(Object.assign(Object.assign({},w),{guardsResult:!0})):function ti(C,I,w,P){return(0,Be.D)(C).pipe((0,le.zg)($=>function io(C,I,w,P,$){const Z=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!Z||0===Z.length)return(0,ye.of)(!0);const Ce=Z.map(We=>{const Ot=Kt(We,I,$);let En;if(function os(C){return C&&fi(C.canDeactivate)}(Ot))En=Pn(Ot.canDeactivate(C,I,w,P));else{if(!fi(Ot))throw new Error("Invalid CanDeactivate guard");En=Pn(Ot(C,I,w,P))}return En.pipe((0,on.P)())});return(0,ye.of)(Ce).pipe(gs())}($.component,$.route,w,I,P)),(0,on.P)($=>!0!==$,!0))}(Ce,P,$,C).pipe((0,le.zg)(We=>We&&function pi(C){return"boolean"==typeof C}(We)?function Kr(C,I,w,P){return(0,Be.D)(I).pipe(X($=>(0,mt.z)(function vr(C,I){return null!==C&&I&&I(new fn(C)),(0,ye.of)(!0)}($.route.parent,P),function Qi(C,I){return null!==C&&I&&I(new Br(C)),(0,ye.of)(!0)}($.route,P),function xi(C,I,w){const P=I[I.length-1],Z=I.slice(0,I.length-1).reverse().map(Ce=>function Jt(C){const I=C.routeConfig?C.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:C,guards:I}:null}(Ce)).filter(Ce=>null!==Ce).map(Ce=>xe(()=>{const We=Ce.guards.map(Ot=>{const En=Kt(Ot,Ce.node,w);let _r;if(function ii(C){return C&&fi(C.canActivateChild)}(En))_r=Pn(En.canActivateChild(P,C));else{if(!fi(En))throw new Error("Invalid CanActivateChild guard");_r=Pn(En(P,C))}return _r.pipe((0,on.P)())});return(0,ye.of)(We).pipe(gs())}));return(0,ye.of)(Z).pipe(gs())}(C,$.path,w),function Ai(C,I,w){const P=I.routeConfig?I.routeConfig.canActivate:null;if(!P||0===P.length)return(0,ye.of)(!0);const $=P.map(Z=>xe(()=>{const Ce=Kt(Z,I,w);let We;if(function ps(C){return C&&fi(C.canActivate)}(Ce))We=Pn(Ce.canActivate(I,C));else{if(!fi(Ce))throw new Error("Invalid CanActivate guard");We=Pn(Ce(I,C))}return We.pipe((0,on.P)())}));return(0,ye.of)($).pipe(gs())}(C,$.route,w))),(0,on.P)($=>!0!==$,!0))}(P,Z,C,I):(0,ye.of)(We)),(0,Ge.U)(We=>Object.assign(Object.assign({},w),{guardsResult:We})))})}(this.ngModule.injector,We=>this.triggerEvent(We)),(0,bn.b)(We=>{if(fs(We.guardsResult)){const En=ke(`Redirecting to "${this.serializeUrl(We.guardsResult)}"`);throw En.url=We.guardsResult,En}const Ot=new Pr(We.id,this.serializeUrl(We.extractedUrl),this.serializeUrl(We.urlAfterRedirects),We.targetSnapshot,!!We.guardsResult);this.triggerEvent(Ot)}),(0,ae.h)(We=>!!We.guardsResult||(this.restoreHistory(We),this.cancelNavigationTransition(We,""),!1)),ll(We=>{if(We.guards.canActivateChecks.length)return(0,ye.of)(We).pipe((0,bn.b)(Ot=>{const En=new Bt(Ot.id,this.serializeUrl(Ot.extractedUrl),this.serializeUrl(Ot.urlAfterRedirects),Ot.targetSnapshot);this.triggerEvent(En)}),(0,Ft.w)(Ot=>{let En=!1;return(0,ye.of)(Ot).pipe(function Cu(C,I){return(0,le.zg)(w=>{const{targetSnapshot:P,guards:{canActivateChecks:$}}=w;if(!$.length)return(0,ye.of)(w);let Z=0;return(0,Be.D)($).pipe(X(Ce=>function Ss(C,I,w,P){return function Xs(C,I,w,P){const $=Object.keys(C);if(0===$.length)return(0,ye.of)({});const Z={};return(0,Be.D)($).pipe((0,le.zg)(Ce=>function Ei(C,I,w,P){const $=Kt(C,I,P);return Pn($.resolve?$.resolve(I,w):$(I,w))}(C[Ce],I,w,P).pipe((0,bn.b)(We=>{Z[Ce]=We}))),$e(1),(0,le.zg)(()=>Object.keys(Z).length===$.length?(0,ye.of)(Z):oe.E))}(C._resolve,C,I,P).pipe((0,Ge.U)(Z=>(C._resolvedData=Z,C.data=Object.assign(Object.assign({},C.data),gn(C,w).resolve),null)))}(Ce.route,P,C,I)),(0,bn.b)(()=>Z++),$e(1),(0,le.zg)(Ce=>Z===$.length?(0,ye.of)(w):oe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,bn.b)({next:()=>En=!0,complete:()=>{En||(this.restoreHistory(Ot),this.cancelNavigationTransition(Ot,"At least one route resolver didn't emit any value."))}}))}),(0,bn.b)(Ot=>{const En=new gr(Ot.id,this.serializeUrl(Ot.extractedUrl),this.serializeUrl(Ot.urlAfterRedirects),Ot.targetSnapshot);this.triggerEvent(En)}))}),ll(We=>{const{targetSnapshot:Ot,id:En,extractedUrl:_r,rawUrl:Cn,extras:{skipLocationChange:Nr,replaceUrl:jr}}=We;return this.hooks.afterPreactivation(Ot,{navigationId:En,appliedUrlTree:_r,rawUrlTree:Cn,skipLocationChange:!!Nr,replaceUrl:!!jr})}),(0,Ge.U)(We=>{const Ot=function Pt(C,I,w){const P=Ht(C,I._root,w?w._root:void 0);return new _t(P,I)}(this.routeReuseStrategy,We.targetSnapshot,We.currentRouterState);return Object.assign(Object.assign({},We),{targetRouterState:Ot})}),(0,bn.b)(We=>{this.currentUrlTree=We.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(We.urlAfterRedirects,We.rawUrl),this.routerState=We.targetRouterState,"deferred"===this.urlUpdateStrategy&&(We.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,We),this.browserUrlTree=We.urlAfterRedirects)}),((C,I,w)=>(0,Ge.U)(P=>(new Si(I,P.targetRouterState,P.currentRouterState,w).activate(C),P)))(this.rootContexts,this.routeReuseStrategy,We=>this.triggerEvent(We)),(0,bn.b)({next(){Z=!0},complete(){Z=!0}}),function Ee(C){return I=>I.lift(new et(C))}(()=>{var We;Z||Ce||this.cancelNavigationTransition($,`Navigation ID ${$.id} is not equal to the current navigation id ${this.navigationId}`),(null===(We=this.currentNavigation)||void 0===We?void 0:We.id)===$.id&&(this.currentNavigation=null)}),lt(We=>{if(Ce=!0,function At(C){return C&&C[Ue]}(We)){const Ot=fs(We.url);Ot||(this.navigated=!0,this.restoreHistory($,!0));const En=new Kn($.id,this.serializeUrl($.extractedUrl),We.message);P.next(En),Ot?setTimeout(()=>{const _r=this.urlHandlingStrategy.merge(We.url,this.rawUrlTree),Cn={skipLocationChange:$.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Jo($.source)};this.scheduleNavigation(_r,"imperative",null,Cn,{resolve:$.resolve,reject:$.reject,promise:$.promise})},0):$.resolve(!1)}else{this.restoreHistory($,!0);const Ot=new Bn($.id,this.serializeUrl($.extractedUrl),We);P.next(Ot);try{$.resolve(this.errorHandler(We))}catch(En){$.reject(En)}}return oe.E}))}))}resetRootComponentType(w){this.rootComponentType=w,this.routerState.root.component=this.rootComponentType}setTransition(w){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),w))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(w=>{const P="popstate"===w.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{var $;const Z={replaceUrl:!0},Ce=(null===($=w.state)||void 0===$?void 0:$.navigationId)?w.state:null;if(Ce){const Ot=Object.assign({},Ce);delete Ot.navigationId,delete Ot.\u0275routerPageId,0!==Object.keys(Ot).length&&(Z.state=Ot)}const We=this.parseUrl(w.url);this.scheduleNavigation(We,P,Ce,Z)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(w){this.events.next(w)}resetConfig(w){He(w),this.config=w.map(S),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(w,P={}){const{relativeTo:$,queryParams:Z,fragment:Ce,queryParamsHandling:We,preserveFragment:Ot}=P,En=$||this.routerState.root,_r=Ot?this.currentUrlTree.fragment:Ce;let Cn=null;switch(We){case"merge":Cn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Z);break;case"preserve":Cn=this.currentUrlTree.queryParams;break;default:Cn=Z||null}return null!==Cn&&(Cn=this.removeEmptyProps(Cn)),function Fr(C,I,w,P,$){if(0===w.length)return Ui(I.root,I.root,I,P,$);const Z=function $s(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new ro(!0,0,C);let I=0,w=!1;const P=C.reduce(($,Z,Ce)=>{if("object"==typeof Z&&null!=Z){if(Z.outlets){const We={};return qt(Z.outlets,(Ot,En)=>{We[En]="string"==typeof Ot?Ot.split("/"):Ot}),[...$,{outlets:We}]}if(Z.segmentPath)return[...$,Z.segmentPath]}return"string"!=typeof Z?[...$,Z]:0===Ce?(Z.split("/").forEach((We,Ot)=>{0==Ot&&"."===We||(0==Ot&&""===We?w=!0:".."===We?I++:""!=We&&$.push(We))}),$):[...$,Z]},[]);return new ro(w,I,P)}(w);if(Z.toRoot())return Ui(I.root,new vn([],{}),I,P,$);const Ce=function Cs(C,I,w){if(C.isAbsolute)return new ki(I.root,!0,0);if(-1===w.snapshot._lastPathIndex){const Z=w.snapshot._urlSegment;return new ki(Z,Z===I.root,0)}const P=ur(C.commands[0])?0:1;return function Os(C,I,w){let P=C,$=I,Z=w;for(;Z>$;){if(Z-=$,P=P.parent,!P)throw new Error("Invalid number of '../'");$=P.segments.length}return new ki(P,!1,$-Z)}(w.snapshot._urlSegment,w.snapshot._lastPathIndex+P,C.numberOfDoubleDots)}(Z,I,C),We=Ce.processChildren?vi(Ce.segmentGroup,Ce.index,Z.commands):yi(Ce.segmentGroup,Ce.index,Z.commands);return Ui(Ce.segmentGroup,We,I,P,$)}(En,this.currentUrlTree,w,Cn,null!=_r?_r:null)}navigateByUrl(w,P={skipLocationChange:!1}){const $=fs(w)?w:this.parseUrl(w),Z=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(Z,"imperative",null,P)}navigate(w,P={skipLocationChange:!1}){return function Ho(C){for(let I=0;I<C.length;I++){const w=C[I];if(null==w)throw new Error(`The requested path contains ${w} segment at index ${I}`)}}(w),this.navigateByUrl(this.createUrlTree(w,P),P)}serializeUrl(w){return this.urlSerializer.serialize(w)}parseUrl(w){let P;try{P=this.urlSerializer.parse(w)}catch($){P=this.malformedUriErrorHandler($,this.urlSerializer,w)}return P}isActive(w,P){let $;if($=!0===P?Object.assign({},bo):!1===P?Object.assign({},ks):P,fs(w))return Gr(this.currentUrlTree,w,$);const Z=this.parseUrl(w);return Gr(this.currentUrlTree,Z,$)}removeEmptyProps(w){return Object.keys(w).reduce((P,$)=>{const Z=w[$];return null!=Z&&(P[$]=Z),P},{})}processNavigations(){this.navigations.subscribe(w=>{this.navigated=!0,this.lastSuccessfulId=w.id,this.currentPageId=w.targetPageId,this.events.next(new On(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,w.resolve(!0)},w=>{this.console.warn(`Unhandled Navigation Error: ${w}`)})}scheduleNavigation(w,P,$,Z,Ce){var We,Ot,En;if(this.disposed)return Promise.resolve(!1);const _r=this.transitions.value,Cn=Jo(P)&&_r&&!Jo(_r.source),Nr=_r.rawUrl.toString()===w.toString(),jr=_r.id===(null===(We=this.currentNavigation)||void 0===We?void 0:We.id);if(Cn&&Nr&&jr)return Promise.resolve(!0);let Bi,ws,Zr;Ce?(Bi=Ce.resolve,ws=Ce.reject,Zr=Ce.promise):Zr=new Promise((co,dl)=>{Bi=co,ws=dl});const Vn=++this.navigationId;let ys;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&($=this.location.getState()),ys=$&&$.\u0275routerPageId?$.\u0275routerPageId:Z.replaceUrl||Z.skipLocationChange?null!==(Ot=this.browserPageId)&&void 0!==Ot?Ot:0:(null!==(En=this.browserPageId)&&void 0!==En?En:0)+1):ys=0,this.setTransition({id:Vn,targetPageId:ys,source:P,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:w,extras:Z,resolve:Bi,reject:ws,promise:Zr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Zr.catch(co=>Promise.reject(co))}setBrowserUrl(w,P){const $=this.urlSerializer.serialize(w),Z=Object.assign(Object.assign({},P.extras.state),this.generateNgRouterState(P.id,P.targetPageId));this.location.isCurrentPathEqualTo($)||P.extras.replaceUrl?this.location.replaceState($,"",Z):this.location.go($,"",Z)}restoreHistory(w,P=!1){var $,Z;if("computed"===this.canceledNavigationResolution){const Ce=this.currentPageId-w.targetPageId;"popstate"!==w.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===($=this.currentNavigation)||void 0===$?void 0:$.finalUrl)||0===Ce?this.currentUrlTree===(null===(Z=this.currentNavigation)||void 0===Z?void 0:Z.finalUrl)&&0===Ce&&(this.resetState(w),this.browserUrlTree=w.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Ce)}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(w),this.resetUrlToCurrentUrlTree())}resetState(w){this.routerState=w.currentRouterState,this.currentUrlTree=w.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(w,P){const $=new Kn(w.id,this.serializeUrl(w.extractedUrl),P);this.triggerEvent($),w.resolve(!1)}generateNgRouterState(w,P){return"computed"===this.canceledNavigationResolution?{navigationId:w,\u0275routerPageId:P}:{navigationId:w}}}return C.\u0275fac=function(w){a.$Z()},C.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac}),C})();function Jo(C){return"imperative"!==C}let Qs=(()=>{class C{constructor(w,P,$,Z,Ce){this.router=w,this.route=P,this.tabIndexAttribute=$,this.renderer=Z,this.el=Ce,this.commands=null,this.onChanges=new dt.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(w){if(null!=this.tabIndexAttribute)return;const P=this.renderer,$=this.el.nativeElement;null!==w?P.setAttribute($,"tabindex",w):P.removeAttribute($,"tabindex")}ngOnChanges(w){this.onChanges.next(this)}set routerLink(w){null!=w?(this.commands=Array.isArray(w)?w:[w],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const w={skipLocationChange:Go(this.skipLocationChange),replaceUrl:Go(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,w),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Go(this.preserveFragment)})}}return C.\u0275fac=function(w){return new(w||C)(a.Y36(zi),a.Y36(zt),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},C.\u0275dir=a.lG2({type:C,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(w,P){1&w&&a.NdJ("click",function(){return P.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),C})();function Go(C){return""===C||!!C}class ql{}class js{preload(I,w){return w().pipe(lt(()=>(0,ye.of)(null)))}}class ea{preload(I,w){return(0,ye.of)(null)}}let Oa=(()=>{class C{constructor(w,P,$,Z){this.router=w,this.injector=$,this.preloadingStrategy=Z,this.loader=new uo($,P,Ot=>w.triggerEvent(new zn(Ot)),Ot=>w.triggerEvent(new cn(Ot)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ae.h)(w=>w instanceof On),X(()=>this.preload())).subscribe(()=>{})}preload(){const w=this.injector.get(a.h0i);return this.processRoutes(w,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(w,P){const $=[];for(const Z of P)if(Z.loadChildren&&!Z.canLoad&&Z._loadedConfig){const Ce=Z._loadedConfig;$.push(this.processRoutes(Ce.module,Ce.routes))}else Z.loadChildren&&!Z.canLoad?$.push(this.preloadConfig(w,Z)):Z.children&&$.push(this.processRoutes(w,Z.children));return(0,Be.D)($).pipe((0,Gn.J)(),(0,Ge.U)(Z=>{}))}preloadConfig(w,P){return this.preloadingStrategy.preload(P,()=>(P._loadedConfig?(0,ye.of)(P._loadedConfig):this.loader.load(w.injector,P)).pipe((0,le.zg)(Z=>(P._loadedConfig=Z,this.processRoutes(Z.module,Z.routes)))))}}return C.\u0275fac=function(w){return new(w||C)(a.LFG(zi),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(ql))},C.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac}),C})(),lo=(()=>{class C{constructor(w,P,$={}){this.router=w,this.viewportScroller=P,this.options=$,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},$.scrollPositionRestoration=$.scrollPositionRestoration||"disabled",$.anchorScrolling=$.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(w=>{w instanceof or?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=w.navigationTrigger,this.restoredId=w.restoredState?w.restoredState.navigationId:0):w instanceof On&&(this.lastId=w.id,this.scheduleScrollEvent(w,this.router.parseUrl(w.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(w=>{w instanceof Ar&&(w.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(w.position):w.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(w.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(w,P){this.router.triggerEvent(new Ar(w,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return C.\u0275fac=function(w){a.$Z()},C.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac}),C})();const di=new a.OlP("ROUTER_CONFIGURATION"),Hs=new a.OlP("ROUTER_FORROOT_GUARD"),ka=[An.Ye,{provide:ft,useClass:bt},{provide:zi,useFactory:function Qt(C,I,w,P,$,Z,Ce={},We,Ot){const En=new zi(null,C,I,w,P,$,tn(Z));return We&&(En.urlHandlingStrategy=We),Ot&&(En.routeReuseStrategy=Ot),function wi(C,I){C.errorHandler&&(I.errorHandler=C.errorHandler),C.malformedUriErrorHandler&&(I.malformedUriErrorHandler=C.malformedUriErrorHandler),C.onSameUrlNavigation&&(I.onSameUrlNavigation=C.onSameUrlNavigation),C.paramsInheritanceStrategy&&(I.paramsInheritanceStrategy=C.paramsInheritanceStrategy),C.relativeLinkResolution&&(I.relativeLinkResolution=C.relativeLinkResolution),C.urlUpdateStrategy&&(I.urlUpdateStrategy=C.urlUpdateStrategy),C.canceledNavigationResolution&&(I.canceledNavigationResolution=C.canceledNavigationResolution)}(Ce,En),Ce.enableTracing&&En.events.subscribe(_r=>{var Cn,Nr;null===(Cn=console.group)||void 0===Cn||Cn.call(console,`Router Event: ${_r.constructor.name}`),console.log(_r.toString()),console.log(_r),null===(Nr=console.groupEnd)||void 0===Nr||Nr.call(console)}),En},deps:[ft,N,An.Ye,a.zs3,a.Sil,Qo,di,[class _o{},new a.FiY],[la,new a.FiY]]},N,{provide:zt,useFactory:function Fs(C){return C.routerState.root},deps:[zi]},Oa,ea,js,{provide:di,useValue:{enableTracing:!1}}];function Eo(){return new a.PXZ("Router",zi)}let Li=(()=>{class C{constructor(w,P){}static forRoot(w,P){return{ngModule:C,providers:[ka,da(w),{provide:Hs,useFactory:ca,deps:[[zi,new a.FiY,new a.tp0]]},{provide:di,useValue:P||{}},{provide:An.S$,useFactory:zo,deps:[An.lw,[new a.tBr(An.mr),new a.FiY],di]},{provide:lo,useFactory:wo,deps:[zi,An.EM,di]},{provide:ql,useExisting:P&&P.preloadingStrategy?P.preloadingStrategy:ea},{provide:a.PXZ,multi:!0,useFactory:Eo},[es,{provide:a.ip1,multi:!0,useFactory:Dn,deps:[es]},{provide:Io,useFactory:jn,deps:[es]},{provide:a.tb,multi:!0,useExisting:Io}]]}}static forChild(w){return{ngModule:C,providers:[da(w)]}}}return C.\u0275fac=function(w){return new(w||C)(a.LFG(Hs,8),a.LFG(zi,8))},C.\u0275mod=a.oAB({type:C}),C.\u0275inj=a.cJS({}),C})();function wo(C,I,w){return w.scrollOffset&&I.setOffset(w.scrollOffset),new lo(C,I,w)}function zo(C,I,w={}){return w.useHash?new An.Do(C,I):new An.b0(C,I)}function ca(C){return"guarded"}function da(C){return[{provide:a.deG,multi:!0,useValue:C},{provide:Qo,multi:!0,useValue:C}]}let es=(()=>{class C{constructor(w){this.injector=w,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new dt.xQ}appInitializer(){return this.injector.get(An.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let P=null;const $=new Promise(We=>P=We),Z=this.injector.get(zi),Ce=this.injector.get(di);return"disabled"===Ce.initialNavigation?(Z.setUpLocationChangeListener(),P(!0)):"enabled"===Ce.initialNavigation||"enabledBlocking"===Ce.initialNavigation?(Z.hooks.afterPreactivation=()=>this.initNavigation?(0,ye.of)(null):(this.initNavigation=!0,P(!0),this.resultOfPreactivationDone),Z.initialNavigation()):P(!0),$})}bootstrapListener(w){const P=this.injector.get(di),$=this.injector.get(Oa),Z=this.injector.get(lo),Ce=this.injector.get(zi),We=this.injector.get(a.z2F);w===We.components[0]&&(("enabledNonBlocking"===P.initialNavigation||void 0===P.initialNavigation)&&Ce.initialNavigation(),$.setUpPreloading(),Z.init(),Ce.resetRootComponentType(We.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return C.\u0275fac=function(w){return new(w||C)(a.LFG(a.zs3))},C.\u0275prov=a.Yz7({token:C,factory:C.\u0275fac}),C})();function Dn(C){return C.appInitializer.bind(C)}function jn(C){return C.bootstrapListener.bind(C)}const Io=new a.OlP("Router Initializer")},3942:(Wt,rt,F)=>{"use strict";F.d(rt,{Z:()=>Be});var a=F(2090),se=F(4859),G=F(9681),Fe=F(1877);class Ae{constructor(xe,ye){this._delegate=xe,this.firebase=ye,(0,G._addComponent)(xe,new se.wA("app-compat",()=>this,"PUBLIC")),this.container=xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this._delegate.automaticDataCollectionEnabled=xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xe=>{this._delegate.checkDestroyed(),xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(xe,ye=G._DEFAULT_ENTRY_NAME){var ut;this._delegate.checkDestroyed();const _e=this._delegate.container.getProvider(xe);return!_e.isInitialized()&&"EXPLICIT"===(null===(ut=_e.getComponent())||void 0===ut?void 0:ut.instantiationMode)&&_e.initialize(),_e.getImmediate({identifier:ye})}_removeServiceInstance(xe,ye=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xe).clearInstance(ye)}_addComponent(xe){(0,G._addComponent)(this._delegate,xe)}_addOrOverwriteComponent(xe){(0,G._addOrOverwriteComponent)(this._delegate,xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const De=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function de(){const oe=function ve(oe){const xe={},ye={__esModule:!0,initializeApp:function mt(lt,he={}){const Se=G.initializeApp(lt,he);if((0,a.r3)(xe,Se.name))return xe[Se.name];const le=new oe(Se,ye);return xe[Se.name]=le,le},app:_e,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function dt(lt){const he=lt.name,Se=he.replace("-compat","");if(G._registerComponent(lt)&&"PUBLIC"===lt.type){const le=(X=_e())=>{if("function"!=typeof X[Se])throw De.create("invalid-app-argument",{appName:he});return X[Se]()};void 0!==lt.serviceProps&&(0,a.ZB)(le,lt.serviceProps),ye[Se]=le,oe.prototype[Se]=function(...X){return this._getService.bind(this,he).apply(this,lt.multipleInstances?X:[])}}return"PUBLIC"===lt.type?ye[Se]:null},removeApp:function ut(lt){delete xe[lt]},useAsService:function Pe(lt,he){return"serverAuth"===he?null:he},modularAPIs:G}};function _e(lt){if(!(0,a.r3)(xe,lt=lt||G._DEFAULT_ENTRY_NAME))throw De.create("no-app",{appName:lt});return xe[lt]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function Dt(){return Object.keys(xe).map(lt=>xe[lt])}}),_e.App=oe,ye}(Ae);return oe.INTERNAL=Object.assign(Object.assign({},oe.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function xe(ye){(0,a.ZB)(oe,ye)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),oe}(),ne=new Fe.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const oe=self.firebase.SDK_VERSION;oe&&oe.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Be=ee;!function fe(oe){(0,G.registerVersion)("@firebase/app-compat","0.1.25",oe)}()},9681:(Wt,rt,F)=>{"use strict";F.r(rt),F.d(rt,{FirebaseError:()=>Fe.ZR,SDK_VERSION:()=>bn,_DEFAULT_ENTRY_NAME:()=>gt,_addComponent:()=>Ee,_addOrOverwriteComponent:()=>et,_apps:()=>Xe,_clearComponents:()=>an,_components:()=>st,_getProvider:()=>Ge,_registerComponent:()=>It,_removeServiceInstance:()=>Ft,deleteApp:()=>wn,getApp:()=>Gn,getApps:()=>An,initializeApp:()=>Dr,onLog:()=>Kn,registerVersion:()=>On,setLogLevel:()=>Bn});var a=F(9671),se=F(4859),G=F(1877),Fe=F(2090),Ae=F(8766);class ue{constructor(ot){this.container=ot}getPlatformInfoString(){return this.container.getProviders().map(Et=>{if(function De(Ve){const ot=Ve.getComponent();return"VERSION"===(null==ot?void 0:ot.type)}(Et)){const $t=Et.getImmediate();return`${$t.library}/${$t.version}`}return null}).filter(Et=>Et).join(" ")}}const ve="@firebase/app",ee=new G.Yd("@firebase/app"),gt="[DEFAULT]",qe={[ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xe=new Map,st=new Map;function Ee(Ve,ot){try{Ve.container.addComponent(ot)}catch(Et){ee.debug(`Component ${ot.name} failed to register with FirebaseApp ${Ve.name}`,Et)}}function et(Ve,ot){Ve.container.addOrOverwriteComponent(ot)}function It(Ve){const ot=Ve.name;if(st.has(ot))return ee.debug(`There were multiple attempts to register component ${ot}.`),!1;st.set(ot,Ve);for(const Et of Xe.values())Ee(Et,Ve);return!0}function Ge(Ve,ot){const Et=Ve.container.getProvider("heartbeat").getImmediate({optional:!0});return Et&&Et.triggerHeartbeat(),Ve.container.getProvider(ot)}function Ft(Ve,ot,Et=gt){Ge(Ve,ot).clearInstance(Et)}function an(){st.clear()}const en=new Fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class on{constructor(ot,Et,$t){this._isDeleted=!1,this._options=Object.assign({},ot),this._config=Object.assign({},Et),this._name=Et.name,this._automaticDataCollectionEnabled=Et.automaticDataCollectionEnabled,this._container=$t,this.container.addComponent(new se.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ot){this.checkDestroyed(),this._automaticDataCollectionEnabled=ot}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ot){this._isDeleted=ot}checkDestroyed(){if(this.isDeleted)throw en.create("app-deleted",{appName:this._name})}}const bn="9.8.1";function Dr(Ve,ot={}){"object"!=typeof ot&&(ot={name:ot});const Et=Object.assign({name:gt,automaticDataCollectionEnabled:!1},ot),$t=Et.name;if("string"!=typeof $t||!$t)throw en.create("bad-app-name",{appName:String($t)});const tn=Xe.get($t);if(tn){if((0,Fe.vZ)(Ve,tn.options)&&(0,Fe.vZ)(Et,tn.config))return tn;throw en.create("duplicate-app",{appName:$t})}const yn=new se.H0($t);for(const qt of st.values())yn.addComponent(qt);const Jn=new on(Ve,Et,yn);return Xe.set($t,Jn),Jn}function Gn(Ve=gt){const ot=Xe.get(Ve);if(!ot)throw en.create("no-app",{appName:Ve});return ot}function An(){return Array.from(Xe.values())}function wn(Ve){return or.apply(this,arguments)}function or(){return(or=(0,a.Z)(function*(Ve){const ot=Ve.name;Xe.has(ot)&&(Xe.delete(ot),yield Promise.all(Ve.container.getProviders().map(Et=>Et.delete())),Ve.isDeleted=!0)})).apply(this,arguments)}function On(Ve,ot,Et){var $t;let tn=null!==($t=qe[Ve])&&void 0!==$t?$t:Ve;Et&&(tn+=`-${Et}`);const yn=tn.match(/\s|\//),Jn=ot.match(/\s|\//);if(yn||Jn){const qt=[`Unable to register library "${tn}" with version "${ot}":`];return yn&&qt.push(`library name "${tn}" contains illegal characters (whitespace or "/")`),yn&&Jn&&qt.push("and"),Jn&&qt.push(`version name "${ot}" contains illegal characters (whitespace or "/")`),void ee.warn(qt.join(" "))}It(new se.wA(`${tn}-version`,()=>({library:tn,version:ot}),"VERSION"))}function Kn(Ve,ot){if(null!==Ve&&"function"!=typeof Ve)throw en.create("invalid-log-argument");(0,G.Am)(Ve,ot)}function Bn(Ve){(0,G.Ub)(Ve)}const Pr="firebase-heartbeat-store";let Bt=null;function gr(){return Bt||(Bt=(0,Ae.X3)("firebase-heartbeat-database",1,{upgrade:(Ve,ot)=>{0===ot&&Ve.createObjectStore(Pr)}}).catch(Ve=>{throw en.create("storage-open",{originalErrorMessage:Ve.message})})),Bt}function cn(){return(cn=(0,a.Z)(function*(Ve){try{return(yield gr()).transaction(Pr).objectStore(Pr).get(Br(Ve))}catch(ot){throw en.create("storage-get",{originalErrorMessage:ot.message})}})).apply(this,arguments)}function fn(Ve,ot){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,a.Z)(function*(Ve,ot){try{const $t=(yield gr()).transaction(Pr,"readwrite");return yield $t.objectStore(Pr).put(ot,Br(Ve)),$t.done}catch(Et){throw en.create("storage-set",{originalErrorMessage:Et.message})}})).apply(this,arguments)}function Br(Ve){return`${Ve.name}!${Ve.options.appId}`}class rn{constructor(ot){this.container=ot,this._heartbeatsCache=null;const Et=this.container.getProvider("app").getImmediate();this._storage=new Ue(Et),this._heartbeatsCachePromise=this._storage.read().then($t=>(this._heartbeatsCache=$t,$t))}triggerHeartbeat(){var ot=this;return(0,a.Z)(function*(){const $t=ot.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),tn=kr();if(null===ot._heartbeatsCache&&(ot._heartbeatsCache=yield ot._heartbeatsCachePromise),ot._heartbeatsCache.lastSentHeartbeatDate!==tn&&!ot._heartbeatsCache.heartbeats.some(yn=>yn.date===tn))return ot._heartbeatsCache.heartbeats.push({date:tn,agent:$t}),ot._heartbeatsCache.heartbeats=ot._heartbeatsCache.heartbeats.filter(yn=>{const Jn=new Date(yn.date).valueOf();return Date.now()-Jn<=2592e6}),ot._storage.overwrite(ot._heartbeatsCache)})()}getHeartbeatsHeader(){var ot=this;return(0,a.Z)(function*(){if(null===ot._heartbeatsCache&&(yield ot._heartbeatsCachePromise),null===ot._heartbeatsCache||0===ot._heartbeatsCache.heartbeats.length)return"";const Et=kr(),{heartbeatsToSend:$t,unsentEntries:tn}=function Ne(Ve,ot=1024){const Et=[];let $t=Ve.slice();for(const tn of Ve){const yn=Et.find(Jn=>Jn.agent===tn.agent);if(yn){if(yn.dates.push(tn.date),ke(Et)>ot){yn.dates.pop();break}}else if(Et.push({agent:tn.agent,dates:[tn.date]}),ke(Et)>ot){Et.pop();break}$t=$t.slice(1)}return{heartbeatsToSend:Et,unsentEntries:$t}}(ot._heartbeatsCache.heartbeats),yn=(0,Fe.L)(JSON.stringify({version:2,heartbeats:$t}));return ot._heartbeatsCache.lastSentHeartbeatDate=Et,tn.length>0?(ot._heartbeatsCache.heartbeats=tn,yield ot._storage.overwrite(ot._heartbeatsCache)):(ot._heartbeatsCache.heartbeats=[],ot._storage.overwrite(ot._heartbeatsCache)),yn})()}}function kr(){return(new Date).toISOString().substring(0,10)}class Ue{constructor(ot){this.app=ot,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,Fe.hl)()&&(0,Fe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ot=this;return(0,a.Z)(function*(){return(yield ot._canUseIndexedDBPromise)&&(yield function zn(Ve){return cn.apply(this,arguments)}(ot.app))||{heartbeats:[]}})()}overwrite(ot){var Et=this;return(0,a.Z)(function*(){var $t;if(yield Et._canUseIndexedDBPromise){const yn=yield Et.read();return fn(Et.app,{lastSentHeartbeatDate:null!==($t=ot.lastSentHeartbeatDate)&&void 0!==$t?$t:yn.lastSentHeartbeatDate,heartbeats:ot.heartbeats})}})()}add(ot){var Et=this;return(0,a.Z)(function*(){var $t;if(yield Et._canUseIndexedDBPromise){const yn=yield Et.read();return fn(Et.app,{lastSentHeartbeatDate:null!==($t=ot.lastSentHeartbeatDate)&&void 0!==$t?$t:yn.lastSentHeartbeatDate,heartbeats:[...yn.heartbeats,...ot.heartbeats]})}})()}}function ke(Ve){return(0,Fe.L)(JSON.stringify({version:2,heartbeats:Ve})).length}!function At(Ve){It(new se.wA("platform-logger",ot=>new ue(ot),"PRIVATE")),It(new se.wA("heartbeat",ot=>new rn(ot),"PRIVATE")),On(ve,"0.7.24",Ve),On(ve,"0.7.24","esm2017"),On("fire-js","")}("")},4859:(Wt,rt,F)=>{"use strict";F.d(rt,{H0:()=>ve,wA:()=>G});var a=F(9671),se=F(2090);class G{constructor(ee,ne,ge){this.name=ee,this.instanceFactory=ne,this.type=ge,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const Fe="[DEFAULT]";class Ae{constructor(ee,ne){this.name=ee,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const ne=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(ne)){const ge=new se.BH;if(this.instancesDeferred.set(ne,ge),this.isInitialized(ne)||this.shouldAutoInitialize())try{const Q=this.getOrInitializeService({instanceIdentifier:ne});Q&&ge.resolve(Q)}catch(Q){}}return this.instancesDeferred.get(ne).promise}getImmediate(ee){var ne;const ge=this.normalizeInstanceIdentifier(null==ee?void 0:ee.identifier),Q=null!==(ne=null==ee?void 0:ee.optional)&&void 0!==ne&&ne;if(!this.isInitialized(ge)&&!this.shouldAutoInitialize()){if(Q)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ge})}catch(fe){if(Q)return null;throw fe}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function De(de){return"EAGER"===de.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:Fe})}catch(ne){}for(const[ne,ge]of this.instancesDeferred.entries()){const Q=this.normalizeInstanceIdentifier(ne);try{const fe=this.getOrInitializeService({instanceIdentifier:Q});ge.resolve(fe)}catch(fe){}}}}clearInstance(ee=Fe){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,a.Z)(function*(){const ne=Array.from(ee.instances.values());yield Promise.all([...ne.filter(ge=>"INTERNAL"in ge).map(ge=>ge.INTERNAL.delete()),...ne.filter(ge=>"_delete"in ge).map(ge=>ge._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=Fe){return this.instances.has(ee)}getOptions(ee=Fe){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:ne={}}=ee,ge=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(ge))throw Error(`${this.name}(${ge}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Q=this.getOrInitializeService({instanceIdentifier:ge,options:ne});for(const[fe,Be]of this.instancesDeferred.entries())ge===this.normalizeInstanceIdentifier(fe)&&Be.resolve(Q);return Q}onInit(ee,ne){var ge;const Q=this.normalizeInstanceIdentifier(ne),fe=null!==(ge=this.onInitCallbacks.get(Q))&&void 0!==ge?ge:new Set;fe.add(ee),this.onInitCallbacks.set(Q,fe);const Be=this.instances.get(Q);return Be&&ee(Be,Q),()=>{fe.delete(ee)}}invokeOnInitCallbacks(ee,ne){const ge=this.onInitCallbacks.get(ne);if(ge)for(const Q of ge)try{Q(ee,ne)}catch(fe){}}getOrInitializeService({instanceIdentifier:ee,options:ne={}}){let ge=this.instances.get(ee);if(!ge&&this.component&&(ge=this.component.instanceFactory(this.container,{instanceIdentifier:(de=ee,de===Fe?void 0:de),options:ne}),this.instances.set(ee,ge),this.instancesOptions.set(ee,ne),this.invokeOnInitCallbacks(ge,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,ge)}catch(Q){}var de;return ge||null}normalizeInstanceIdentifier(ee=Fe){return this.component?this.component.multipleInstances?ee:Fe:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const ne=this.getProvider(ee.name);if(ne.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);ne.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const ne=new Ae(ee,this);return this.providers.set(ee,ne),ne}getProviders(){return Array.from(this.providers.values())}}},1877:(Wt,rt,F)=>{"use strict";F.d(rt,{Am:()=>de,Ub:()=>ve,Yd:()=>De,in:()=>se});const a=[];var se=(()=>{return(ee=se||(se={}))[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",se;var ee})();const G={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},Fe=se.INFO,Ae={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},ue=(ee,ne,...ge)=>{if(ne<ee.logLevel)return;const Q=(new Date).toISOString(),fe=Ae[ne];if(!fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[fe](`[${Q}]  ${ee.name}:`,...ge)};class De{constructor(ne){this.name=ne,this._logLevel=Fe,this._logHandler=ue,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in se))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?G[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...ne),this._logHandler(this,se.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...ne),this._logHandler(this,se.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,se.INFO,...ne),this._logHandler(this,se.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,se.WARN,...ne),this._logHandler(this,se.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...ne),this._logHandler(this,se.ERROR,...ne)}}function ve(ee){a.forEach(ne=>{ne.setLogLevel(ee)})}function de(ee,ne){for(const ge of a){let Q=null;ne&&ne.level&&(Q=G[ne.level]),ge.userLogHandler=null===ee?null:(fe,Be,...oe)=>{const xe=oe.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch(ut){return null}}).filter(ye=>ye).join(" ");Be>=(null!=Q?Q:fe.logLevel)&&ee({level:se[Be].toLowerCase(),message:xe,args:oe,type:fe.name})}}}},8766:(Wt,rt,F)=>{"use strict";F.d(rt,{Lj:()=>mt,X3:()=>_e});var a=F(9671);let G,Fe;const De=new WeakMap,ve=new WeakMap,de=new WeakMap,ee=new WeakMap,ne=new WeakMap;let fe={get(he,Se,le){if(he instanceof IDBTransaction){if("done"===Se)return ve.get(he);if("objectStoreNames"===Se)return he.objectStoreNames||de.get(he);if("store"===Se)return le.objectStoreNames[1]?void 0:le.objectStore(le.objectStoreNames[0])}return ye(he[Se])},set:(he,Se,le)=>(he[Se]=le,!0),has:(he,Se)=>he instanceof IDBTransaction&&("done"===Se||"store"===Se)||Se in he};function xe(he){return"function"==typeof he?function oe(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ue(){return Fe||(Fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...Se){return he.apply(ut(this),Se),ye(De.get(this))}:function(...Se){return ye(he.apply(ut(this),Se))}:function(Se,...le){const X=he.call(ut(this),Se,...le);return de.set(X,Se.sort?Se.sort():[Se]),ye(X)}}(he):(he instanceof IDBTransaction&&function Q(he){if(ve.has(he))return;const Se=new Promise((le,X)=>{const ae=()=>{he.removeEventListener("complete",Re),he.removeEventListener("error",$e),he.removeEventListener("abort",$e)},Re=()=>{le(),ae()},$e=()=>{X(he.error||new DOMException("AbortError","AbortError")),ae()};he.addEventListener("complete",Re),he.addEventListener("error",$e),he.addEventListener("abort",$e)});ve.set(he,Se)}(he),((he,Se)=>Se.some(le=>he instanceof le))(he,function Ae(){return G||(G=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,fe):he)}function ye(he){if(he instanceof IDBRequest)return function ge(he){const Se=new Promise((le,X)=>{const ae=()=>{he.removeEventListener("success",Re),he.removeEventListener("error",$e)},Re=()=>{le(ye(he.result)),ae()},$e=()=>{X(he.error),ae()};he.addEventListener("success",Re),he.addEventListener("error",$e)});return Se.then(le=>{le instanceof IDBCursor&&De.set(le,he)}).catch(()=>{}),ne.set(Se,he),Se}(he);if(ee.has(he))return ee.get(he);const Se=xe(he);return Se!==he&&(ee.set(he,Se),ne.set(Se,he)),Se}const ut=he=>ne.get(he);function _e(he,Se,{blocked:le,upgrade:X,blocking:ae,terminated:Re}={}){const $e=indexedDB.open(he,Se),pt=ye($e);return X&&$e.addEventListener("upgradeneeded",kt=>{X(ye($e.result),kt.oldVersion,kt.newVersion,ye($e.transaction))}),le&&$e.addEventListener("blocked",()=>le()),pt.then(kt=>{Re&&kt.addEventListener("close",()=>Re()),ae&&kt.addEventListener("versionchange",()=>ae())}).catch(()=>{}),pt}function mt(he,{blocked:Se}={}){const le=indexedDB.deleteDatabase(he);return Se&&le.addEventListener("blocked",()=>Se()),ye(le).then(()=>{})}const Dt=["get","getKey","getAll","getAllKeys","count"],dt=["put","add","delete","clear"],Pe=new Map;function lt(he,Se){if(!(he instanceof IDBDatabase)||Se in he||"string"!=typeof Se)return;if(Pe.get(Se))return Pe.get(Se);const le=Se.replace(/FromIndex$/,""),X=Se!==le,ae=dt.includes(le);if(!(le in(X?IDBIndex:IDBObjectStore).prototype)||!ae&&!Dt.includes(le))return;const Re=function(){var $e=(0,a.Z)(function*(pt,...kt){const it=this.transaction(pt,ae?"readwrite":"readonly");let gt=it.store;return X&&(gt=gt.index(kt.shift())),(yield Promise.all([gt[le](...kt),ae&&it.done]))[0]});return function(kt){return $e.apply(this,arguments)}}();return Pe.set(Se,Re),Re}!function Be(he){fe=he(fe)}(he=>$b(Vb({},he),{get:(Se,le,X)=>lt(Se,le)||he.get(Se,le,X),has:(Se,le)=>!!lt(Se,le)||he.has(Se,le)}))}},Wt=>{Wt(Wt.s=6235)}]);